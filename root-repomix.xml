This file is a merged representation of a subset of the codebase, containing specifically included files and files not matching ignore patterns, combined into a single document by Repomix.
The content has been processed where comments have been removed, line numbers have been added.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of a subset of the repository's contents that is considered the most important context.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Only files matching these patterns are included: **/*
- Files matching these patterns are excluded: node_modules/**, dist/**, build/**, .git/**, .env, *.log, **/*.md, package-lock.json, repomix-output.xml
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Code comments have been removed from supported file types
- Line numbers have been added to the beginning of each line
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.gitattributes
.gitignore
balai_almeda_db.sql
ims-admin/.gitignore
ims-admin/.vscode/extensions.json
ims-admin/index.html
ims-admin/jsconfig.json
ims-admin/package.json
ims-admin/postcss.config.js
ims-admin/public/favicon.ico
ims-admin/repomix.config.json
ims-admin/src/App.vue
ims-admin/src/assets/main.css
ims-admin/src/layouts/AdminLayoutView.vue
ims-admin/src/main.js
ims-admin/src/router/index.js
ims-admin/src/stores/counter.js
ims-admin/src/views/DashboardView.vue
ims-admin/src/views/HouseKeepingView.vue
ims-admin/src/views/HRView.vue
ims-admin/src/views/LoginView.vue
ims-admin/src/views/POSView.vue
ims-admin/src/views/ReservationsView.vue
ims-admin/src/views/ShiftView.vue
ims-admin/tailwind.config.js
ims-admin/vite.config.js
public-website/.gitignore
public-website/.vscode/extensions.json
public-website/index.html
public-website/jsconfig.json
public-website/package.json
public-website/postcss.config.js
public-website/public/favicon.ico
public-website/public/images/amenities/justdrink.png
public-website/public/images/logo.svg
public-website/public/images/rooms/BA1.png
public-website/public/images/rooms/BA2.png
public-website/public/images/rooms/BA3.png
public-website/public/images/rooms/BA4.png
public-website/public/images/rooms/BA5.png
public-website/public/images/rooms/BA6.png
public-website/public/images/rooms/BA7.png
public-website/site_data.json
public-website/src/App.vue
public-website/src/assets/main.css
public-website/src/components/Footer.vue
public-website/src/components/modals/BaseModal.vue
public-website/src/components/modals/LoginRequiredModal.vue
public-website/src/components/NavBar.vue
public-website/src/main.js
public-website/src/router/index.js
public-website/src/services/api.js
public-website/src/stores/counter.js
public-website/src/utils/auth.js
public-website/src/views/AvailabilityView.vue
public-website/src/views/BookingSuccessView.vue
public-website/src/views/BookingView.vue
public-website/src/views/ContactView.vue
public-website/src/views/CookiesView.vue
public-website/src/views/HomeView.vue
public-website/src/views/LocationView.vue
public-website/src/views/LoginView.vue
public-website/src/views/MyBookingsView.vue
public-website/src/views/PrivacyView.vue
public-website/src/views/ProfileView.vue
public-website/src/views/RoomsDetailsView.vue
public-website/src/views/RoomsView.vue
public-website/src/views/SignUpView.vue
public-website/src/views/VirtualTourView.vue
public-website/tailwind.config.js
public-website/vite.config.js
repomix.config.json
server/config/about.txt
server/config/config.json
server/config/database.js
server/config/validateEnv.js
server/controllers/about.txt
server/controllers/authController.js
server/controllers/errorController.js
server/controllers/paymentController.js
server/controllers/roomController.js
server/middleware/about.txt
server/middleware/authMiddleware.js
server/middleware/rateLimiters.js
server/middleware/sanitize.js
server/models/Booking.js
server/models/index.js
server/models/Room.js
server/models/RoomImage.js
server/models/User.js
server/package.json
server/routes/about.txt
server/routes/authRoutes.js
server/routes/paymentRoutes.js
server/routes/roomRoutes.js
server/scripts/test-api-contract.js
server/scripts/test-data-integrity.js
server/scripts/test-final-boss.js
server/scripts/test-high-priority.js
server/scripts/test-idor-fix.js
server/scripts/test-low-priority.js
server/scripts/test-medium-priority.js
server/scripts/test-price-fix.js
server/scripts/TRANSACTION-QUICK-REF.txt
server/server.js
server/utils/AppError.js
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path=".gitattributes">
1: # Auto detect text files and perform LF normalization
2: * text=auto
</file>

<file path=".gitignore">
  1: # Logs
  2: logs
  3: *.log
  4: npm-debug.log*
  5: yarn-debug.log*
  6: yarn-error.log*
  7: lerna-debug.log*
  8: .pnpm-debug.log*
  9: 
 10: # Diagnostic reports (https://nodejs.org/api/report.html)
 11: report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json
 12: 
 13: # Runtime data
 14: pids
 15: *.pid
 16: *.seed
 17: *.pid.lock
 18: 
 19: # Directory for instrumented libs generated by jscoverage/JSCover
 20: lib-cov
 21: 
 22: # Coverage directory used by tools like istanbul
 23: coverage
 24: *.lcov
 25: 
 26: # nyc test coverage
 27: .nyc_output
 28: 
 29: # Grunt intermediate storage (https://gruntjs.com/creating-plugins#storing-task-files)
 30: .grunt
 31: 
 32: # Bower dependency directory (https://bower.io/)
 33: bower_components
 34: 
 35: # node-waf configuration
 36: .lock-wscript
 37: 
 38: # Compiled binary addons (https://nodejs.org/api/addons.html)
 39: build/Release
 40: 
 41: # Dependency directories
 42: node_modules/
 43: jspm_packages/
 44: 
 45: # Snowpack dependency directory (https://snowpack.dev/)
 46: web_modules/
 47: 
 48: # TypeScript cache
 49: *.tsbuildinfo
 50: 
 51: # Optional npm cache directory
 52: .npm
 53: 
 54: # Optional eslint cache
 55: .eslintcache
 56: 
 57: # Optional stylelint cache
 58: .stylelintcache
 59: 
 60: # Microbundle cache
 61: .rpt2_cache/
 62: .rts2_cache_cjs/
 63: .rts2_cache_es/
 64: .rts2_cache_umd/
 65: 
 66: # Optional REPL history
 67: .node_repl_history
 68: 
 69: # Output of 'npm pack'
 70: *.tgz
 71: 
 72: # Yarn Integrity file
 73: .yarn-integrity
 74: 
 75: # dotenv environment variable files
 76: .env
 77: .env.development.local
 78: .env.test.local
 79: .env.production.local
 80: .env.local
 81: 
 82: # parcel-bundler cache (https://parceljs.org/)
 83: .cache
 84: .parcel-cache
 85: 
 86: # Next.js build output
 87: .next
 88: out
 89: 
 90: # Nuxt.js build / generate output
 91: .nuxt
 92: dist
 93: 
 94: # Gatsby files
 95: .cache/
 96: # Comment in the public line in if your project uses Gatsby and not Next.js
 97: # https://nextjs.org/blog/next-9-1#public-directory-support
 98: # public
 99: 
100: # vuepress build output
101: .vuepress/dist
102: 
103: # vuepress v2.x temp and cache directory
104: .temp
105: .cache
106: 
107: # vitepress build output
108: **/.vitepress/dist
109: 
110: # vitepress cache directory
111: **/.vitepress/cache
112: 
113: # Docusaurus cache and generated files
114: .docusaurus
115: 
116: # Serverless directories
117: .serverless/
118: 
119: # FuseBox cache
120: .fusebox/
121: 
122: # DynamoDB Local files
123: .dynamodb/
124: 
125: # TernJS port file
126: .tern-port
127: 
128: # Stores VSCode versions used for testing VSCode extensions
129: .vscode-test
130: 
131: # yarn v2
132: .yarn/cache
133: .yarn/unplugged
134: .yarn/build-state.yml
135: .yarn/install-state.gz
136: .pnp.*
</file>

<file path="ims-admin/.gitignore">
 1: # Logs
 2: logs
 3: *.log
 4: npm-debug.log*
 5: yarn-debug.log*
 6: yarn-error.log*
 7: pnpm-debug.log*
 8: lerna-debug.log*
 9: 
10: node_modules
11: .DS_Store
12: dist
13: dist-ssr
14: coverage
15: *.local
16: 
17: # Editor directories and files
18: .vscode/*
19: !.vscode/extensions.json
20: .idea
21: *.suo
22: *.ntvs*
23: *.njsproj
24: *.sln
25: *.sw?
26: 
27: *.tsbuildinfo
28: 
29: .eslintcache
30: 
31: # Cypress
32: /cypress/videos/
33: /cypress/screenshots/
34: 
35: # Vitest
36: __screenshots__/
</file>

<file path="ims-admin/.vscode/extensions.json">
1: {
2:   "recommendations": ["Vue.volar"]
3: }
</file>

<file path="ims-admin/jsconfig.json">
1: {
2:   "compilerOptions": {
3:     "paths": {
4:       "@/*": ["./src/*"]
5:     }
6:   },
7:   "exclude": ["node_modules", "dist"]
8: }
</file>

<file path="ims-admin/postcss.config.js">
1: export default {
2:   plugins: {
3:     tailwindcss: {},
4:     autoprefixer: {},
5:   },
6: }
</file>

<file path="ims-admin/repomix.config.json">
 1: {
 2:   "output": {
 3:     "filePath": "repomix-output.xml",
 4:     "style": "xml",
 5:     "removeComments": true,
 6:     "showLineNumbers": true,
 7:     "copyToClipboard": false
 8:   },
 9:   "include": ["**/*"],
10:   "ignore": {
11:     "useGitignore": true,
12:     "useDefaultPatterns": true,
13:     "customPatterns": [
14:       "node_modules/**",
15:       "dist/**",
16:       "build/**",
17:       ".git/**",
18:       ".env",
19:       "*.log",
20:       "package-lock.json",
21:       "repomix-output.xml"
22:     ]
23:   },
24:   "security": {
25:     "enableSecurityCheck": true
26:   }
27: }
</file>

<file path="ims-admin/src/assets/main.css">
1: @tailwind base;
2: @tailwind components;
3: @tailwind utilities;
</file>

<file path="ims-admin/src/stores/counter.js">
 1: import { ref, computed } from 'vue'
 2: import { defineStore } from 'pinia'
 3: 
 4: export const useCounterStore = defineStore('counter', () => {
 5:   const count = ref(0)
 6:   const doubleCount = computed(() => count.value * 2)
 7:   function increment() {
 8:     count.value++
 9:   }
10: 
11:   return { count, doubleCount, increment }
12: })
</file>

<file path="ims-admin/src/views/DashboardView.vue">
  1: <script setup>
  2: import { ref, computed } from 'vue'
  3: 
  4: 
  5: const viewMode = ref('grid')
  6: const searchQuery = ref('')
  7: const filterStatus = ref('All')
  8: const filterType = ref('All')
  9: const rowsPerPage = ref('All')
 10: const currentPage = ref(1)
 11: 
 12: 
 13: 
 14: const rooms = ref([
 15: 
 16:   { id: 1, number: '303', suffix: 'V', type: 'Value', status: 'Available', price: 450 },
 17:   { id: 2, number: '403', suffix: 'V', type: 'Value', status: 'Occupied', guest: 'M. Santos', timeLeft: '45m', checkIn: '14:00', price: 450 },
 18:   { id: 3, number: '503', suffix: 'V', type: 'Value', status: 'Dirty', checkOut: '12:30', price: 450 },
 19: 
 20:   { id: 4, number: '201', suffix: 'S', type: 'Standard', status: 'Occupied', guest: 'J. Dela Cruz', timeLeft: '2h 15m', checkIn: '13:00', price: 550 },
 21:   { id: 5, number: '202', suffix: 'S', type: 'Standard', status: 'Available', price: 550 },
 22:   { id: 6, number: '203', suffix: 'S', type: 'Standard', status: 'Available', price: 550 },
 23:   { id: 7, number: '204', suffix: 'S', type: 'Standard', status: 'Available', price: 550 },
 24:   { id: 8, number: '301', suffix: 'S', type: 'Standard', status: 'Maintenance', note: 'AC Repair', price: 550 },
 25:   { id: 9, number: '302', suffix: 'S', type: 'Standard', status: 'Available', price: 550 },
 26:   { id: 10, number: '304', suffix: 'S', type: 'Standard', status: 'Available', price: 550 },
 27:   { id: 11, number: '305', suffix: 'S', type: 'Standard', status: 'Available', price: 550 },
 28:   { id: 12, number: '306', suffix: 'S', type: 'Standard', status: 'Available', price: 550 },
 29:   { id: 13, number: '401', suffix: 'S', type: 'Standard', status: 'Dirty', checkOut: '11:45', price: 550 },
 30:   { id: 14, number: '402', suffix: 'S', type: 'Standard', status: 'Available', price: 550 },
 31:   { id: 15, number: '404', suffix: 'R', type: 'Standard', status: 'Available', price: 550 },
 32:   { id: 16, number: '405', suffix: 'S', type: 'Standard', status: 'Available', price: 550 },
 33:   { id: 17, number: '501', suffix: 'S', type: 'Standard', status: 'Available', price: 550 },
 34:   { id: 18, number: '502', suffix: 'S', type: 'Standard', status: 'Available', price: 550 },
 35:   { id: 19, number: '504', suffix: 'S', type: 'Standard', status: 'Available', price: 550 },
 36: 
 37:   { id: 20, number: '307', suffix: 'D', type: 'Deluxe', status: 'Occupied', guest: 'A. Lim', timeLeft: '5m', urgent: true, checkIn: '10:00', price: 650 },
 38:   { id: 21, number: '406', suffix: 'D', type: 'Deluxe', status: 'Available', price: 650 },
 39: 
 40:   { id: 22, number: 'SU', suffix: '01', type: 'Superior', status: 'Available', price: 1195 },
 41: ])
 42: 
 43: const stats = [
 44:   { label: 'Available', value: rooms.value.filter(r => r.status === 'Available').length, color: 'text-emerald-600', bg: 'bg-emerald-50' },
 45:   { label: 'Occupied', value: rooms.value.filter(r => r.status === 'Occupied').length, color: 'text-blue-600', bg: 'bg-blue-50' },
 46:   { label: 'Dirty', value: rooms.value.filter(r => r.status === 'Dirty').length, color: 'text-amber-500', bg: 'bg-amber-50' },
 47: ]
 48: 
 49: 
 50: 
 51: 
 52: const filteredRooms = computed(() => {
 53:   return rooms.value.filter(room => {
 54: 
 55:     const searchLower = searchQuery.value.toLowerCase()
 56:     const matchSearch =
 57:       (room.number + room.suffix).toLowerCase().includes(searchLower) ||
 58:       (room.guest && room.guest.toLowerCase().includes(searchLower))
 59: 
 60: 
 61:     const matchStatus = filterStatus.value === 'All' || room.status === filterStatus.value
 62: 
 63: 
 64:     const matchType = filterType.value === 'All' || room.type === filterType.value
 65: 
 66:     return matchSearch && matchStatus && matchType
 67:   })
 68: })
 69: 
 70: 
 71: const paginatedRooms = computed(() => {
 72:   if (rowsPerPage.value === 'All') return filteredRooms.value
 73: 
 74:   const start = (currentPage.value - 1) * rowsPerPage.value
 75:   const end = start + rowsPerPage.value
 76:   return filteredRooms.value.slice(start, end)
 77: })
 78: 
 79: 
 80: const resetPagination = () => {
 81:   currentPage.value = 1
 82: }
 83: 
 84: 
 85: const totalPages = computed(() => {
 86:   if (rowsPerPage.value === 'All') return 1
 87:   return Math.ceil(filteredRooms.value.length / rowsPerPage.value)
 88: })
 89: 
 90: 
 91: const getStatusColor = (status) => {
 92:   switch(status) {
 93:     case 'Available': return 'bg-emerald-50 text-emerald-600 ring-emerald-600/20'
 94:     case 'Occupied': return 'bg-blue-50 text-blue-600 ring-blue-600/20'
 95:     case 'Dirty': return 'bg-amber-50 text-amber-600 ring-amber-600/20'
 96:     case 'Maintenance': return 'bg-gray-100 text-gray-500 ring-gray-500/20'
 97:     default: return 'bg-gray-50 text-gray-600'
 98:   }
 99: }
100: </script>
101: 
102: <template>
103:   <div class="max-w-7xl mx-auto space-y-6">
104: 
105:     <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
106:       <div v-for="stat in stats" :key="stat.label" class="bg-white rounded-xl p-4 shadow-sm border border-gray-100 flex items-center justify-between">
107:         <div>
108:           <span class="text-xs font-semibold text-gray-400 uppercase tracking-wider block mb-1">{{ stat.label }}</span>
109:           <span class="text-2xl font-bold tracking-tight" :class="stat.color">{{ stat.value }}</span>
110:         </div>
111:         <div class="w-10 h-10 rounded-lg flex items-center justify-center" :class="stat.bg">
112:           <div class="w-2 h-2 rounded-full" :class="stat.color.replace('text', 'bg')"></div>
113:         </div>
114:       </div>
115:       <div class="bg-gray-900 rounded-xl p-4 shadow-md flex items-center justify-between text-white">
116:         <div>
117:           <span class="text-xs font-semibold text-gray-400 uppercase tracking-wider block mb-1">Occupancy</span>
118:           <span class="text-2xl font-bold tracking-tight">22%</span>
119:         </div>
120:         <div class="w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center">
121:            <svg class="w-5 h-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" /></svg>
122:         </div>
123:       </div>
124:     </div>
125: 
126:     <div class="bg-white p-3 rounded-xl border border-gray-200 shadow-sm flex flex-col md:flex-row gap-4 justify-between items-center top-0 z-10">
127: 
128:       <div class="flex flex-1 gap-3 w-full md:w-auto overflow-x-auto pb-2 md:pb-0">
129:         <div class="relative min-w-[240px]">
130:           <span class="absolute left-3 top-2.5 text-gray-400">
131:             <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
132:           </span>
133:           <input
134:             v-model="searchQuery"
135:             @input="resetPagination"
136:             type="text"
137:             placeholder="Search room or guest..."
138:             class="w-full pl-9 pr-4 py-2 text-sm bg-gray-50 border border-gray-200 rounded-lg outline-none focus:bg-white focus:border-gray-900 transition-all placeholder-gray-400"
139:           >
140:         </div>
141: 
142:         <select v-model="filterStatus" @change="resetPagination" class="px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded-lg outline-none focus:bg-white focus:border-neutral-400 cursor-pointer transition-all">
143:           <option value="All">All Status</option>
144:           <option value="Available">Available</option>
145:           <option value="Occupied">Occupied</option>
146:           <option value="Dirty">Dirty</option>
147:           <option value="Maintenance">Maintenance</option>
148:         </select>
149: 
150:         <select v-model="filterType" @change="resetPagination" class="px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded-lg outline-none focus:bg-white focus:border-neutral-400 cursor-pointer transition-all">
151:           <option value="All">All Types</option>
152:           <option value="Value">Value</option>
153:           <option value="Standard">Standard</option>
154:           <option value="Deluxe">Deluxe</option>
155:           <option value="Superior">Superior</option>
156:         </select>
157:       </div>
158: 
159:       <div class="flex items-center gap-2 bg-gray-100 p-1 rounded-lg">
160:         <button
161:           @click="viewMode = 'grid'"
162:           class="p-1.5 rounded-md transition-all flex items-center gap-2 text-xs font-medium focus:outline-none"
163:           :class="viewMode === 'grid' ? 'bg-white text-gray-900 shadow-sm' : 'text-gray-500 hover:text-gray-700'"
164:         >
165:           <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" /></svg>
166:           <span class="hidden sm:inline">Grid</span>
167:         </button>
168:         <button
169:           @click="viewMode = 'list'"
170:           class="p-1.5 rounded-md transition-all flex items-center gap-2 text-xs font-medium focus:outline-none"
171:           :class="viewMode === 'list' ? 'bg-white text-gray-900 shadow-sm' : 'text-gray-500 hover:text-gray-700'"
172:         >
173:           <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
174:           <span class="hidden sm:inline">List</span>
175:         </button>
176:       </div>
177:     </div>
178: 
179:     <div v-if="viewMode === 'grid'" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4">
180:       <div
181:         v-for="room in filteredRooms"
182:         :key="room.id"
183:         class="group bg-white rounded-2xl p-5 border border-gray-100 shadow-[0_2px_8px_-2px_rgba(0,0,0,0.04)] hover:shadow-md hover:border-gray-200 transition-all cursor-pointer flex flex-col justify-between h-40 relative overflow-hidden"
184:       >
185:         <div class="absolute top-0 left-0 w-full h-1"
186:           :class="{
187:             'bg-emerald-400': room.status === 'Available',
188:             'bg-blue-500': room.status === 'Occupied',
189:             'bg-amber-400': room.status === 'Dirty',
190:             'bg-gray-300': room.status === 'Maintenance'
191:           }"
192:         ></div>
193: 
194:         <div class="flex justify-between items-start">
195:           <div class="flex items-baseline">
196:             <span class="text-2xl font-bold text-gray-900">{{ room.number }}</span>
197:             <span class="text-sm font-medium text-gray-400 ml-0.5">{{ room.suffix }}</span>
198:           </div>
199:           <span class="text-[10px] font-bold px-2 py-1 rounded-full uppercase tracking-wide ring-1 ring-inset" :class="getStatusColor(room.status)">
200:             {{ room.status === 'Available' ? 'Free' : room.status }}
201:           </span>
202:         </div>
203: 
204:         <div class="mt-auto">
205:           <div v-if="room.status === 'Occupied'">
206:             <p class="text-xs font-medium text-gray-500 truncate mb-1">{{ room.guest }}</p>
207:             <div class="flex items-center gap-1.5" :class="room.urgent ? 'text-red-500 animate-pulse' : 'text-gray-800'">
208:               <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
209:               <span class="text-sm font-bold font-mono">{{ room.timeLeft }}</span>
210:             </div>
211:           </div>
212:           <div v-if="room.status === 'Available'" class="opacity-0 group-hover:opacity-100 transition-opacity">
213:             <p class="text-xs text-center font-medium text-emerald-600 bg-emerald-50 py-1.5 rounded-lg">Check In +</p>
214:           </div>
215:           <div v-if="room.status === 'Dirty'">
216:             <p class="text-xs text-amber-600 font-medium mb-1">Checked out {{ room.checkOut }}</p>
217:             <div class="opacity-0 group-hover:opacity-100 transition-opacity">
218:                <button class="w-full text-xs bg-amber-100 text-amber-800 font-bold py-1.5 rounded-lg">Cleaned</button>
219:              </div>
220:           </div>
221:            <div v-if="room.status === 'Maintenance'">
222:             <p class="text-xs text-gray-400">{{ room.note }}</p>
223:           </div>
224:         </div>
225:       </div>
226:     </div>
227: 
228:     <div v-if="viewMode === 'list'" class="bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden">
229:       <div class="overflow-x-auto">
230:         <table class="w-full text-left text-sm">
231:           <thead class="bg-gray-50 border-b border-gray-100 text-gray-500 uppercase text-xs">
232:             <tr>
233:               <th class="px-6 py-4 font-semibold">Room No.</th>
234:               <th class="px-6 py-4 font-semibold">Type</th>
235:               <th class="px-6 py-4 font-semibold">Status</th>
236:               <th class="px-6 py-4 font-semibold">Guest / Info</th>
237:               <th class="px-6 py-4 font-semibold">Time / Duration</th>
238:               <th class="px-6 py-4 font-semibold text-right">Actions</th>
239:             </tr>
240:           </thead>
241:           <tbody class="divide-y divide-gray-100">
242:             <tr v-for="room in paginatedRooms" :key="room.id" class="hover:bg-gray-50 transition-colors group">
243:               <td class="px-6 py-4">
244:                 <span class="font-bold text-gray-900 text-base">{{ room.number }}{{ room.suffix }}</span>
245:               </td>
246:               <td class="px-6 py-4 text-gray-600">{{ room.type }}</td>
247:               <td class="px-6 py-4">
248:                 <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ring-1 ring-inset" :class="getStatusColor(room.status)">
249:                   {{ room.status }}
250:                 </span>
251:               </td>
252:               <td class="px-6 py-4">
253:                 <div v-if="room.status === 'Occupied'">
254:                   <p class="font-medium text-gray-900">{{ room.guest }}</p>
255:                   <p class="text-xs text-gray-500">Checked in {{ room.checkIn }}</p>
256:                 </div>
257:                 <div v-else-if="room.status === 'Dirty'">
258:                    <p class="text-xs text-gray-500">Last checkout: {{ room.checkOut }}</p>
259:                 </div>
260:                 <span v-else class="text-gray-400">-</span>
261:               </td>
262:               <td class="px-6 py-4 font-mono">
263:                 <span v-if="room.status === 'Occupied'" :class="room.urgent ? 'text-red-600 font-bold' : 'text-gray-700'">
264:                   {{ room.timeLeft }} left
265:                 </span>
266:                 <span v-else class="text-gray-400">-</span>
267:               </td>
268:               <td class="px-6 py-4 text-right">
269:                 <button v-if="room.status === 'Available'" class="text-emerald-600 hover:text-emerald-800 font-medium text-xs border border-emerald-200 hover:border-emerald-300 px-3 py-1.5 rounded transition-colors">
270:                   Walk-In
271:                 </button>
272:                 <button v-if="room.status === 'Dirty'" class="text-amber-600 hover:text-amber-800 font-medium text-xs border border-amber-200 hover:border-amber-300 px-3 py-1.5 rounded transition-colors">
273:                   Mark Clean
274:                 </button>
275:                 <button v-if="room.status === 'Occupied'" class="text-blue-600 hover:text-blue-800 font-medium text-xs hover:underline">
276:                   View Bill
277:                 </button>
278:               </td>
279:             </tr>
280:           </tbody>
281:         </table>
282:       </div>
283: 
284:       <div class="bg-gray-50 px-6 py-3 border-t border-gray-200 flex justify-between items-center text-xs text-gray-500">
285:         <div class="flex items-center gap-2">
286:           <span>Show:</span>
287:           <select v-model="rowsPerPage" @change="resetPagination" class="bg-white border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-gray-900 cursor-pointer">
288:             <option :value="5">5 rows</option>
289:             <option :value="10">10 rows</option>
290:             <option :value="15">15 rows</option>
291:             <option value="All">View All</option>
292:           </select>
293:         </div>
294: 
295:         <div v-if="rowsPerPage !== 'All'" class="flex items-center gap-2">
296:            <button
297:              @click="currentPage > 1 && currentPage--"
298:              :disabled="currentPage === 1"
299:              class="p-1 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed"
300:            >
301:              <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
302:            </button>
303:            <span>Page {{ currentPage }} of {{ totalPages }}</span>
304:            <button
305:              @click="currentPage < totalPages && currentPage++"
306:              :disabled="currentPage === totalPages"
307:              class="p-1 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed"
308:            >
309:              <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
310:            </button>
311:         </div>
312:       </div>
313:     </div>
314: 
315:   </div>
316: </template>
</file>

<file path="ims-admin/src/views/HouseKeepingView.vue">
 1: <script setup>
 2: import { ref } from 'vue'
 3: import { useRouter } from 'vue-router'
 4: 
 5: const router = useRouter()
 6: 
 7: const tasks = ref([
 8:   { id: 3, number: '503', suffix: 'V', status: 'Dirty', type: 'Value', timeSinceCheckout: '15m' },
 9:   { id: 13, number: '401', suffix: 'S', status: 'Dirty', type: 'Standard', timeSinceCheckout: '45m' },
10:   { id: 20, number: '307', suffix: 'D', status: 'Occupied', type: 'Deluxe', note: 'Checkout in 5m' },
11: ])
12: 
13: const markClean = (id) => {
14:   tasks.value = tasks.value.filter(t => t.id !== id)
15: 
16: 
17:   if (tasks.value.length === 0) {
18:     router.push('/admin/dashboard')
19:   }
20: }
21: 
22: </script>
23: 
24: <template>
25:   <div class="max-w-2xl mx-auto">
26:     <div class="flex justify-between items-center mb-6">
27:       <h1 class="text-2xl font-bold text-gray-900">Housekeeping Tasks</h1>
28:       <span class="bg-amber-100 text-amber-800 text-xs font-bold px-3 py-1 rounded-full">{{ tasks.filter(t => t.status === 'Dirty').length }} Dirty Rooms</span>
29:     </div>
30: 
31:     <div class="space-y-4">
32:       <div
33:         v-for="task in tasks"
34:         :key="task.id"
35:         class="bg-white rounded-xl p-5 border shadow-sm flex items-center justify-between"
36:         :class="task.status === 'Dirty' ? 'border-amber-200' : 'border-gray-200 opacity-75'"
37:       >
38:         <div class="flex items-center gap-4">
39:           <div
40:             class="w-16 h-16 rounded-lg flex flex-col items-center justify-center border-2"
41:             :class="task.status === 'Dirty' ? 'bg-amber-50 border-amber-200 text-amber-800' : 'bg-gray-50 border-gray-200 text-gray-500'"
42:           >
43:             <span class="text-xl font-bold leading-none">{{ task.number }}</span>
44:             <span class="text-xs uppercase font-bold">{{ task.suffix }}</span>
45:           </div>
46: 
47:           <div>
48:             <div class="flex items-center gap-2 mb-1">
49:               <span class="text-sm font-bold text-gray-900">{{ task.type }} Room</span>
50:               <span class="text-[10px] uppercase font-bold px-2 py-0.5 rounded text-white"
51:                 :class="task.status === 'Dirty' ? 'bg-amber-500' : 'bg-blue-500'">
52:                 {{ task.status }}
53:               </span>
54:             </div>
55:             <p v-if="task.status === 'Dirty'" class="text-xs text-amber-700 font-medium">Checked out {{ task.timeSinceCheckout }} ago</p>
56:             <p v-else class="text-xs text-blue-600 font-medium">{{ task.note }}</p>
57:           </div>
58:         </div>
59: 
60:         <button
61:           v-if="task.status === 'Dirty'"
62:           @click="markClean(task.id)"
63:           class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-bold shadow-sm transition-colors"
64:         >
65:           Mark Clean
66:         </button>
67:       </div>
68: 
69:       <div v-if="tasks.filter(t => t.status === 'Dirty').length === 0" class="text-center py-12">
70:         <div class="w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4">
71:           <svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
72:         </div>
73:         <p class="text-gray-500 font-medium">All rooms are clean!</p>
74:       </div>
75:     </div>
76:   </div>
77: </template>
</file>

<file path="ims-admin/src/views/HRView.vue">
  1: <script setup>
  2: import { ref } from 'vue'
  3: 
  4: const activeTab = ref('staff')
  5: 
  6: const staff = [
  7:   { id: 1, name: 'Juan Dela Cruz', role: 'Front Desk', rate: 85, status: 'Active', phone: '0917-123-4567' },
  8:   { id: 2, name: 'Maria Santos', role: 'Housekeeping', rate: 75, status: 'On Leave', phone: '0918-222-3333' },
  9:   { id: 3, name: 'Alex Lim', role: 'Manager', rate: 150, status: 'Active', phone: '0917-555-0000' },
 10:   { id: 4, name: 'Sarah Tan', role: 'Front Desk', rate: 85, status: 'Active', phone: '0922-111-2222' },
 11: ]
 12: 
 13: const attendance = [
 14:   { id: 101, staff: 'Juan Dela Cruz', date: 'Jan 27', in: '08:00 AM', out: '05:00 PM', hours: 9, ot: 1 },
 15:   { id: 102, staff: 'Sarah Tan', date: 'Jan 27', in: '02:00 PM', out: '11:00 PM', hours: 9, ot: 0 },
 16:   { id: 103, staff: 'Maria Santos', date: 'Jan 26', in: '06:00 AM', out: '03:00 PM', hours: 9, ot: 0 },
 17: ]
 18: </script>
 19: 
 20: <template>
 21:   <div class="max-w-7xl mx-auto">
 22:     <div class="flex justify-between items-center mb-8">
 23:       <div>
 24:         <h1 class="text-2xl font-bold text-gray-900">Human Resources</h1>
 25:         <p class="text-sm text-gray-500">Manage staff, attendance, and payroll.</p>
 26:       </div>
 27:       <button class="bg-gray-900 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-black transition-colors">
 28:         + Add Employee
 29:       </button>
 30:     </div>
 31: 
 32:     <div class="border-b border-gray-200 mb-6">
 33:       <nav class="flex gap-6">
 34:         <button
 35:           @click="activeTab = 'staff'"
 36:           class="pb-3 text-sm font-medium border-b-2 transition-colors"
 37:           :class="activeTab === 'staff' ? 'border-gray-900 text-gray-900' : 'border-transparent text-gray-500 hover:text-gray-700'"
 38:         >
 39:           Staff Directory
 40:         </button>
 41:         <button
 42:           @click="activeTab = 'attendance'"
 43:           class="pb-3 text-sm font-medium border-b-2 transition-colors"
 44:           :class="activeTab === 'attendance' ? 'border-gray-900 text-gray-900' : 'border-transparent text-gray-500 hover:text-gray-700'"
 45:         >
 46:           Attendance Logs
 47:         </button>
 48:         <button
 49:           @click="activeTab = 'payroll'"
 50:           class="pb-3 text-sm font-medium border-b-2 transition-colors"
 51:           :class="activeTab === 'payroll' ? 'border-gray-900 text-gray-900' : 'border-transparent text-gray-500 hover:text-gray-700'"
 52:         >
 53:           Payroll
 54:         </button>
 55:       </nav>
 56:     </div>
 57: 
 58:     <div v-if="activeTab === 'staff'" class="bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden">
 59:       <table class="w-full text-left text-sm">
 60:         <thead class="bg-gray-50 border-b border-gray-100 text-gray-500 uppercase text-xs">
 61:           <tr>
 62:             <th class="px-6 py-4 font-semibold">Name</th>
 63:             <th class="px-6 py-4 font-semibold">Role</th>
 64:             <th class="px-6 py-4 font-semibold">Hourly Rate</th>
 65:             <th class="px-6 py-4 font-semibold">Status</th>
 66:             <th class="px-6 py-4 font-semibold text-right">Actions</th>
 67:           </tr>
 68:         </thead>
 69:         <tbody class="divide-y divide-gray-100">
 70:           <tr v-for="emp in staff" :key="emp.id" class="hover:bg-gray-50 transition-colors">
 71:             <td class="px-6 py-4 font-medium text-gray-900">{{ emp.name }}</td>
 72:             <td class="px-6 py-4 text-gray-600">{{ emp.role }}</td>
 73:             <td class="px-6 py-4 font-mono text-gray-600">₱{{ emp.rate }}/hr</td>
 74:             <td class="px-6 py-4">
 75:               <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"
 76:                 :class="emp.status === 'Active' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'">
 77:                 {{ emp.status }}
 78:               </span>
 79:             </td>
 80:             <td class="px-6 py-4 text-right text-gray-400">
 81:               <button class="hover:text-blue-600 mr-3">Edit</button>
 82:               <button class="hover:text-red-600">Archive</button>
 83:             </td>
 84:           </tr>
 85:         </tbody>
 86:       </table>
 87:     </div>
 88: 
 89:     <div v-if="activeTab === 'attendance'" class="bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden">
 90:       <table class="w-full text-left text-sm">
 91:         <thead class="bg-gray-50 border-b border-gray-100 text-gray-500 uppercase text-xs">
 92:           <tr>
 93:             <th class="px-6 py-4 font-semibold">Date</th>
 94:             <th class="px-6 py-4 font-semibold">Staff Member</th>
 95:             <th class="px-6 py-4 font-semibold">Time In</th>
 96:             <th class="px-6 py-4 font-semibold">Time Out</th>
 97:             <th class="px-6 py-4 font-semibold">Total Hours</th>
 98:           </tr>
 99:         </thead>
100:         <tbody class="divide-y divide-gray-100">
101:           <tr v-for="log in attendance" :key="log.id" class="hover:bg-gray-50">
102:             <td class="px-6 py-4 text-gray-500">{{ log.date }}</td>
103:             <td class="px-6 py-4 font-medium text-gray-900">{{ log.staff }}</td>
104:             <td class="px-6 py-4 font-mono text-green-600">{{ log.in }}</td>
105:             <td class="px-6 py-4 font-mono text-red-600">{{ log.out }}</td>
106:             <td class="px-6 py-4 font-mono font-bold">{{ log.hours }}h <span v-if="log.ot > 0" class="text-amber-600 text-xs ml-1">({{ log.ot }}h OT)</span></td>
107:           </tr>
108:         </tbody>
109:       </table>
110:     </div>
111: 
112:     <div v-if="activeTab === 'payroll'" class="bg-white rounded-xl border border-gray-200 p-12 text-center">
113:       <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400">
114:         <svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
115:       </div>
116:       <h3 class="text-lg font-bold text-gray-900">Payroll Generation</h3>
117:       <p class="text-gray-500 mb-6">Select a cutoff period to generate payslips based on attendance logs.</p>
118:       <button class="bg-gray-900 text-white px-6 py-2 rounded-lg text-sm font-medium hover:bg-black transition-colors">
119:         Run Payroll for Jan 15-30
120:       </button>
121:     </div>
122: 
123:   </div>
124: </template>
</file>

<file path="ims-admin/src/views/LoginView.vue">
 1: <script setup>
 2: import { ref } from 'vue'
 3: import { useRouter } from 'vue-router'
 4: 
 5: const router = useRouter()
 6: const email = ref('')
 7: const password = ref('')
 8: const loading = ref(false)
 9: 
10: const handleLogin = async () => {
11:   loading.value = true
12:   // Mock login delay
13:   setTimeout(() => {
14:     loading.value = false
15:     router.push('/admin/dashboard')
16:   }, 800)
17: }
18: </script>
19: 
20: <template>
21:   <div class="min-h-screen bg-gray-50 flex flex-col justify-center items-center p-4 font-[Inter]">
22: 
23:     <div class="mb-8 text-center">
24:       <div class="w-12 h-12 bg-gray-900 rounded-full flex items-center justify-center text-white font-bold text-lg mx-auto shadow-xl">B</div>
25:       <h1 class="text-2xl font-bold text-gray-900 mt-4 tracking-tight">Balai Almeda</h1>
26:       <p class="text-gray-500 text-sm mt-1">Internal Management System</p>
27:     </div>
28: 
29:     <div class="bg-white w-full max-w-md rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-gray-100 p-8">
30:       <form @submit.prevent="handleLogin" class="space-y-5">
31: 
32:         <div>
33:           <label class="block text-xs font-semibold text-gray-700 uppercase tracking-wider mb-2">Work Email</label>
34:           <input
35:             v-model="email"
36:             type="email"
37:             placeholder="staff@balaialmeda.com"
38:             class="w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 text-gray-900 focus:bg-white focus:ring-2 focus:ring-gray-900 focus:border-transparent outline-none transition-all"
39:             required
40:           >
41:         </div>
42: 
43:         <div>
44:           <label class="block text-xs font-semibold text-gray-700 uppercase tracking-wider mb-2">Password</label>
45:           <input
46:             v-model="password"
47:             type="password"
48:             placeholder="••••••••"
49:             class="w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 text-gray-900 focus:bg-white focus:ring-2 focus:ring-gray-900 focus:border-transparent outline-none transition-all"
50:             required
51:           >
52:         </div>
53: 
54:         <div>
55:           <label class="block text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2">Simulate Role</label>
56:           <select class="w-full px-4 py-2 rounded-lg bg-gray-50 border border-gray-200 text-sm text-gray-600">
57:             <option>Super Admin (View All)</option>
58:             <option>Front Desk</option>
59:             <option>Housekeeping</option>
60:             <option>HR Manager</option>
61:           </select>
62:         </div>
63: 
64:         <button
65:           type="submit"
66:           :disabled="loading"
67:           class="w-full bg-gray-900 hover:bg-black text-white font-bold py-3.5 rounded-lg shadow-lg shadow-gray-900/10 transition-all transform active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed flex justify-center items-center"
68:         >
69:           <span v-if="!loading">Sign In</span>
70:           <svg v-else class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
71:             <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
72:             <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
73:           </svg>
74:         </button>
75: 
76:       </form>
77:     </div>
78: 
79:     <p class="mt-8 text-xs text-gray-400">
80:       Authorized personnel only. Access is monitored.
81:     </p>
82:   </div>
83: </template>
</file>

<file path="ims-admin/src/views/POSView.vue">
  1: <script setup>
  2: import { ref, computed } from 'vue'
  3: 
  4: const activeTab = ref('In-House')
  5: const cart = ref([])
  6: const selectedRoom = ref(null)
  7: 
  8: 
  9: const menu = {
 10:   'In-House': [
 11:     { id: 1, name: 'Tapsilog', price: 85, category: 'Meals' },
 12:     { id: 2, name: 'Longsilog', price: 85, category: 'Meals' },
 13:     { id: 3, name: 'Bottled Water', price: 20, category: 'Drinks' },
 14:     { id: 4, name: 'San Mig Light', price: 65, category: 'Drinks' },
 15:     { id: 5, name: 'Cup Noodles', price: 50, category: 'Snacks' },
 16:     { id: 6, name: 'Toiletries Kit', price: 35, category: 'Supplies' },
 17:   ],
 18:   'Partner': [
 19:     { id: 101, name: 'Iced Americano', price: 120, category: 'Coffee' },
 20:     { id: 102, name: 'Spanish Latte', price: 140, category: 'Coffee' },
 21:     { id: 103, name: 'Matcha Latte', price: 150, category: 'Non-Coffee' },
 22:     { id: 104, name: 'Club Sandwich', price: 180, category: 'Food' },
 23:   ]
 24: }
 25: 
 26: const activeMenu = computed(() => menu[activeTab.value])
 27: 
 28: const addToCart = (item) => {
 29:   const existing = cart.value.find(i => i.id === item.id)
 30:   if (existing) {
 31:     existing.qty++
 32:   } else {
 33:     cart.value.push({ ...item, qty: 1 })
 34:   }
 35: }
 36: 
 37: const total = computed(() => cart.value.reduce((sum, item) => sum + (item.price * item.qty), 0))
 38: </script>
 39: 
 40: <template>
 41:   <div class="flex h-[calc(100vh-100px)] gap-6">
 42: 
 43:     <div class="flex-1 bg-white rounded-xl shadow-sm overflow-hidden flex flex-col">
 44:       <div class="flex border-b">
 45:         <button
 46:           @click="activeTab = 'In-House'"
 47:           class="flex-1 py-4 text-center font-bold text-sm uppercase tracking-wider transition-colors"
 48:           :class="activeTab === 'In-House' ? 'bg-balai-gold text-white' : 'hover:bg-gray-50 text-gray-500'"
 49:         >
 50:           In-House Inventory
 51:         </button>
 52:         <button
 53:           @click="activeTab = 'Partner'"
 54:           class="flex-1 py-4 text-center font-bold text-sm uppercase tracking-wider transition-colors"
 55:           :class="activeTab === 'Partner' ? 'bg-emerald-500 text-white' : 'hover:bg-gray-50 text-gray-500'"
 56:         >
 57:           Partner (Just Drink)
 58:         </button>
 59:       </div>
 60: 
 61:       <div class="p-6 overflow-y-auto grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
 62:         <button
 63:           v-for="item in activeMenu"
 64:           :key="item.id"
 65:           @click="addToCart(item)"
 66:           class="border rounded-lg p-4 hover:border-balai-gold hover:bg-yellow-50 transition text-left flex flex-col h-32 justify-between group"
 67:         >
 68:           <div>
 69:             <span class="text-xs text-gray-400 uppercase font-bold">{{ item.category }}</span>
 70:             <p class="font-bold text-gray-800 group-hover:text-balai-dark">{{ item.name }}</p>
 71:           </div>
 72:           <p class="font-mono text-lg font-bold text-balai-gold">₱{{ item.price }}</p>
 73:         </button>
 74:       </div>
 75:     </div>
 76: 
 77:     <div class="w-96 bg-white rounded-xl shadow-sm flex flex-col">
 78:       <div class="p-6 border-b bg-gray-50">
 79:         <h3 class="font-bold text-gray-700">Current Order</h3>
 80:         <select v-model="selectedRoom" class="w-full mt-2 p-2 border rounded bg-white font-mono">
 81:           <option :value="null">-- Select Room --</option>
 82:           <option value="201S">201S (J. Dela Cruz)</option>
 83:           <option value="307D">307D (A. Lim)</option>
 84:         </select>
 85:       </div>
 86: 
 87:       <div class="flex-1 overflow-y-auto p-4 space-y-2">
 88:         <div v-if="cart.length === 0" class="text-center text-gray-400 mt-10">
 89:           <p>Cart is empty</p>
 90:         </div>
 91:         <div v-for="item in cart" :key="item.id" class="flex justify-between items-center p-3 bg-gray-50 rounded">
 92:           <div>
 93:             <p class="font-bold text-sm">{{ item.name }}</p>
 94:             <p class="text-xs text-gray-500">₱{{ item.price }} x {{ item.qty }}</p>
 95:           </div>
 96:           <div class="font-bold">₱{{ item.price * item.qty }}</div>
 97:         </div>
 98:       </div>
 99: 
100:       <div class="p-6 bg-gray-900 text-white">
101:         <div class="flex justify-between items-center mb-4">
102:           <span class="text-gray-400">Total</span>
103:           <span class="text-2xl font-bold font-mono">₱{{ total }}</span>
104:         </div>
105:         <button
106:           class="w-full bg-balai-gold text-slate-900 py-3 rounded-lg font-bold uppercase tracking-widest hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed"
107:           :disabled="cart.length === 0 || !selectedRoom"
108:         >
109:           Charge to Room
110:         </button>
111:       </div>
112:     </div>
113: 
114:   </div>
115: </template>
</file>

<file path="ims-admin/src/views/ReservationsView.vue">
  1: <script setup>
  2: import { ref, computed } from 'vue'
  3: 
  4: 
  5: const searchQuery = ref('')
  6: const filterStatus = ref('All')
  7: const sortColumn = ref('checkIn')
  8: const sortDirection = ref('desc')
  9: const currentPage = ref(1)
 10: const rowsPerPage = ref(10)
 11: 
 12: 
 13: const bookings = ref([
 14:   { id: 'BKG-001', guest: 'Miguel Santos', room: '403V', checkIn: '2026-01-27T14:00:00', duration: '3h', status: 'Checked In', source: 'Walk-In' },
 15:   { id: 'BKG-002', guest: 'Anna Lim', room: '307D', checkIn: '2026-01-27T14:15:00', duration: '6h', status: 'Checked In', source: 'Online' },
 16:   { id: 'BKG-003', guest: 'John Doe', room: '201S', checkIn: '2026-01-27T15:00:00', duration: '12h', status: 'Confirmed', source: 'Online' },
 17:   { id: 'BKG-004', guest: 'Sarah Lee', room: '502S', checkIn: '2026-01-28T09:00:00', duration: '24h', status: 'Confirmed', source: 'Online' },
 18:   { id: 'BKG-005', guest: 'Mike Ross', room: '304S', checkIn: '2026-01-26T20:00:00', duration: '3h', status: 'Checked Out', source: 'Walk-In' },
 19:   { id: 'BKG-006', guest: 'Rachel Zane', room: '202S', checkIn: '2026-01-26T22:00:00', duration: '12h', status: 'Checked Out', source: 'Online' },
 20:   { id: 'BKG-007', guest: 'Harvey Specter', room: 'SU01', checkIn: '2026-01-29T12:00:00', duration: '24h', status: 'Confirmed', source: 'Online' },
 21:   { id: 'BKG-008', guest: 'Louis Litt', room: '401S', checkIn: '2026-01-27T10:00:00', duration: '3h', status: 'Cancelled', source: 'Online' },
 22: ])
 23: 
 24: 
 25: 
 26: const filteredBookings = computed(() => {
 27:   let result = bookings.value
 28: 
 29: 
 30:   if (searchQuery.value) {
 31:     const query = searchQuery.value.toLowerCase()
 32:     result = result.filter(b =>
 33:       b.guest.toLowerCase().includes(query) ||
 34:       b.id.toLowerCase().includes(query) ||
 35:       b.room.toLowerCase().includes(query)
 36:     )
 37:   }
 38: 
 39: 
 40:   if (filterStatus.value !== 'All') {
 41:     result = result.filter(b => b.status === filterStatus.value)
 42:   }
 43: 
 44: 
 45:   return result.sort((a, b) => {
 46:     let modifier = sortDirection.value === 'asc' ? 1 : -1
 47:     if (a[sortColumn.value] < b[sortColumn.value]) return -1 * modifier
 48:     if (a[sortColumn.value] > b[sortColumn.value]) return 1 * modifier
 49:     return 0
 50:   })
 51: })
 52: 
 53: 
 54: const paginatedBookings = computed(() => {
 55:   if (rowsPerPage.value === 'All') return filteredBookings.value
 56:   const start = (currentPage.value - 1) * rowsPerPage.value
 57:   const end = start + rowsPerPage.value
 58:   return filteredBookings.value.slice(start, end)
 59: })
 60: 
 61: const totalPages = computed(() => {
 62:   if (rowsPerPage.value === 'All') return 1
 63:   return Math.ceil(filteredBookings.value.length / rowsPerPage.value)
 64: })
 65: 
 66: 
 67: 
 68: const handleSort = (column) => {
 69:   if (sortColumn.value === column) {
 70: 
 71:     sortDirection.value = sortDirection.value === 'asc' ? 'desc' : 'asc'
 72:   } else {
 73: 
 74:     sortColumn.value = column
 75:     sortDirection.value = 'asc'
 76:   }
 77: }
 78: 
 79: const resetFilters = () => {
 80:   searchQuery.value = ''
 81:   filterStatus.value = 'All'
 82:   sortColumn.value = 'checkIn'
 83:   sortDirection.value = 'desc'
 84:   currentPage.value = 1
 85: }
 86: 
 87: 
 88: const formatDate = (isoString) => {
 89:   const date = new Date(isoString)
 90:   return date.toLocaleString('en-US', { month: 'short', day: 'numeric', hour: 'numeric', minute: '2-digit', hour12: true })
 91: }
 92: 
 93: const getStatusColor = (status) => {
 94:   switch(status) {
 95:     case 'Confirmed': return 'bg-blue-50 text-blue-700 ring-blue-600/20'
 96:     case 'Checked In': return 'bg-emerald-50 text-emerald-700 ring-emerald-600/20'
 97:     case 'Checked Out': return 'bg-gray-100 text-gray-600 ring-gray-500/20'
 98:     case 'Cancelled': return 'bg-red-50 text-red-600 ring-red-600/20'
 99:     default: return 'bg-gray-50 text-gray-600'
100:   }
101: }
102: </script>
103: 
104: <template>
105:   <div class="max-w-7xl mx-auto space-y-6">
106: 
107:     <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
108:       <div>
109:         <h1 class="text-2xl font-bold text-gray-900 tracking-tight">Reservations</h1>
110:         <p class="text-sm text-gray-500">Manage bookings, walk-ins, and guest history.</p>
111:       </div>
112:       <button class="bg-gray-900 hover:bg-black text-white px-5 py-2.5 rounded-lg text-sm font-medium transition-all shadow-sm hover:shadow-md flex items-center gap-2">
113:         <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
114:         New Walk-In
115:       </button>
116:     </div>
117: 
118:     <div class="bg-white p-3 rounded-xl border border-gray-200 shadow-sm flex flex-col md:flex-row gap-4 items-center">
119: 
120:       <div class="relative w-full md:w-64">
121:         <span class="absolute left-3 top-2.5 text-gray-400">
122:           <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
123:         </span>
124:         <input
125:           v-model="searchQuery"
126:           type="text"
127:           placeholder="Search guest, ref, or room..."
128:           class="w-full pl-9 pr-4 py-2 text-sm bg-gray-50 border border-gray-200 rounded-lg outline-none focus:bg-white focus:border-gray-900 transition-all placeholder-gray-400"
129:         >
130:       </div>
131: 
132:       <div class="w-full md:w-48">
133:         <select v-model="filterStatus" class="w-full px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded-lg outline-none focus:bg-white focus:border-gray-900 cursor-pointer transition-all">
134:           <option value="All">All Status</option>
135:           <option value="Confirmed">Confirmed</option>
136:           <option value="Checked In">Checked In</option>
137:           <option value="Checked Out">Checked Out</option>
138:           <option value="Cancelled">Cancelled</option>
139:         </select>
140:       </div>
141: 
142:       <button
143:         @click="resetFilters"
144:         class="text-sm text-gray-500 hover:text-red-600 font-medium transition-colors px-2"
145:         v-if="searchQuery || filterStatus !== 'All' || sortColumn !== 'checkIn'"
146:       >
147:         Reset Filters
148:       </button>
149: 
150:       <div class="flex-1"></div>
151: 
152:       <span class="text-xs font-semibold text-gray-400 uppercase tracking-wider">
153:         {{ filteredBookings.length }} Results
154:       </span>
155:     </div>
156: 
157:     <div class="bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden">
158:       <div class="overflow-x-auto">
159:         <table class="w-full text-left text-sm">
160:           <thead class="bg-gray-50 border-b border-gray-100 text-gray-500 uppercase text-xs">
161:             <tr>
162:               <th
163:                 v-for="col in [
164:                   { key: 'id', label: 'Ref Code' },
165:                   { key: 'guest', label: 'Guest Name' },
166:                   { key: 'room', label: 'Room' },
167:                   { key: 'checkIn', label: 'Check-In Date' },
168:                   { key: 'duration', label: 'Duration' },
169:                   { key: 'source', label: 'Source' },
170:                   { key: 'status', label: 'Status' }
171:                 ]"
172:                 :key="col.key"
173:                 class="px-6 py-4 font-semibold cursor-pointer select-none hover:bg-gray-100 transition-colors group"
174:                 @click="handleSort(col.key)"
175:               >
176:                 <div class="flex items-center gap-1">
177:                   {{ col.label }}
178:                   <div class="flex flex-col text-[8px] leading-[8px]">
179:                     <span :class="sortColumn === col.key && sortDirection === 'asc' ? 'text-gray-900' : 'text-gray-300 group-hover:text-gray-400'">▲</span>
180:                     <span :class="sortColumn === col.key && sortDirection === 'desc' ? 'text-gray-900' : 'text-gray-300 group-hover:text-gray-400'">▼</span>
181:                   </div>
182:                 </div>
183:               </th>
184:               <th class="px-6 py-4 font-semibold text-right">Actions</th>
185:             </tr>
186:           </thead>
187:           <tbody class="divide-y divide-gray-100">
188:             <tr v-for="bkg in paginatedBookings" :key="bkg.id" class="hover:bg-gray-50 transition-colors">
189:               <td class="px-6 py-4 font-mono text-gray-500 text-xs">{{ bkg.id }}</td>
190:               <td class="px-6 py-4 font-bold text-gray-900">{{ bkg.guest }}</td>
191:               <td class="px-6 py-4">
192:                 <span class="bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-bold">{{ bkg.room }}</span>
193:               </td>
194:               <td class="px-6 py-4 text-gray-600 font-mono text-xs">{{ formatDate(bkg.checkIn) }}</td>
195:               <td class="px-6 py-4 text-gray-600">{{ bkg.duration }}</td>
196:               <td class="px-6 py-4 text-xs font-bold" :class="bkg.source === 'Online' ? 'text-blue-600' : 'text-purple-600'">
197:                 {{ bkg.source }}
198:               </td>
199:               <td class="px-6 py-4">
200:                 <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ring-1 ring-inset"
201:                   :class="getStatusColor(bkg.status)">
202:                   {{ bkg.status }}
203:                 </span>
204:               </td>
205:               <td class="px-6 py-4 text-right">
206:                 <div class="flex justify-end gap-3">
207:                   <button v-if="bkg.status === 'Confirmed'" class="text-blue-600 font-bold hover:text-blue-800 text-xs transition-colors">Check In</button>
208:                   <button v-if="bkg.status === 'Checked In'" class="text-red-600 font-bold hover:text-red-800 text-xs transition-colors">Check Out</button>
209:                   <button class="text-gray-400 hover:text-gray-600">
210:                     <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" /></svg>
211:                   </button>
212:                 </div>
213:               </td>
214:             </tr>
215:             <tr v-if="paginatedBookings.length === 0">
216:               <td colspan="8" class="px-6 py-12 text-center text-gray-400">
217:                 No reservations found matching your filters.
218:               </td>
219:             </tr>
220:           </tbody>
221:         </table>
222:       </div>
223: 
224:       <div class="bg-gray-50 px-6 py-3 border-t border-gray-200 flex justify-between items-center text-xs text-gray-500">
225:         <div class="flex items-center gap-2">
226:           <span>Show:</span>
227:           <select v-model="rowsPerPage" class="bg-white border border-gray-300 rounded px-2 py-1 outline-none focus:border-gray-900 cursor-pointer">
228:             <option :value="5">5 rows</option>
229:             <option :value="10">10 rows</option>
230:             <option :value="15">15 rows</option>
231:             <option value="All">View All</option>
232:           </select>
233:         </div>
234: 
235:         <div v-if="rowsPerPage !== 'All'" class="flex items-center gap-2">
236:            <button
237:              @click="currentPage > 1 && currentPage--"
238:              :disabled="currentPage === 1"
239:              class="p-1 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
240:            >
241:              <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
242:            </button>
243:            <span>Page {{ currentPage }} of {{ totalPages }}</span>
244:            <button
245:              @click="currentPage < totalPages && currentPage++"
246:              :disabled="currentPage === totalPages"
247:              class="p-1 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
248:            >
249:              <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
250:            </button>
251:         </div>
252:       </div>
253:     </div>
254: 
255:   </div>
256: </template>
</file>

<file path="ims-admin/src/views/ShiftView.vue">
  1: <script setup>
  2: import { ref, computed } from 'vue'
  3: import { useRouter } from 'vue-router'
  4: 
  5: const router = useRouter()
  6: 
  7: const physicalCash = ref(0)
  8: const expenses = ref(0)
  9: const remarks = ref('')
 10: 
 11: // Mock System Data (What the DB thinks happened)
 12: const systemData = {
 13:   initialCash: 5000,
 14:   cashSales: 3450, // From POS/Rooms
 15:   onlineSales: 2100, // PayMongo
 16:   totalSystemCash: 8450 // 5000 + 3450
 17: }
 18: 
 19: const variance = computed(() => {
 20:   // Physical Count - (System Expected - Expenses)
 21:   const expected = systemData.totalSystemCash - expenses.value
 22:   return physicalCash.value - expected
 23: })
 24: 
 25: const varianceColor = computed(() => {
 26:   if (variance.value === 0) return 'text-green-600'
 27:   return variance.value < 0 ? 'text-red-600' : 'text-blue-600'
 28: })
 29: 
 30: const handleSubmitShift = () => {
 31: 
 32: 
 33:   router.push('/login')
 34: }
 35: </script>
 36: 
 37: <template>
 38:   <div class="max-w-3xl mx-auto">
 39:     <div class="mb-8">
 40:       <h1 class="text-2xl font-bold text-gray-800">End of Shift Reconciliation</h1>
 41:       <p class="text-gray-500">Shift #SH-2026-001 • Juan D.</p>
 42:     </div>
 43: 
 44:     <div class="grid grid-cols-2 gap-6 mb-8">
 45:       <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
 46:         <h3 class="font-bold text-gray-500 uppercase text-xs tracking-wider mb-4">System Computation</h3>
 47:         <div class="space-y-3">
 48:           <div class="flex justify-between">
 49:             <span class="text-gray-600">Initial Petty Cash</span>
 50:             <span class="font-mono">₱{{ systemData.initialCash.toLocaleString() }}</span>
 51:           </div>
 52:           <div class="flex justify-between">
 53:             <span class="text-gray-600">Cash Sales Collected</span>
 54:             <span class="font-mono text-green-600">+₱{{ systemData.cashSales.toLocaleString() }}</span>
 55:           </div>
 56:           <div class="pt-3 border-t flex justify-between font-bold">
 57:             <span>Expected Cash on Hand</span>
 58:             <span>₱{{ systemData.totalSystemCash.toLocaleString() }}</span>
 59:           </div>
 60:         </div>
 61:       </div>
 62: 
 63:       <div class="bg-white p-6 rounded-xl shadow-sm border-2 border-balai-gold">
 64:         <h3 class="font-bold text-balai-dark uppercase text-xs tracking-wider mb-4">Your Declaration</h3>
 65: 
 66:         <div class="mb-4">
 67:           <label class="block text-sm font-bold mb-1">Total Expenses (with Receipts)</label>
 68:           <div class="relative">
 69:             <span class="absolute left-3 top-2 text-gray-500">₱</span>
 70:             <input v-model="expenses" type="number" class="w-full pl-8 p-2 border rounded focus:ring-2 focus:ring-balai-gold outline-none">
 71:           </div>
 72:         </div>
 73: 
 74:         <div class="mb-4">
 75:           <label class="block text-sm font-bold mb-1">Physical Cash Count</label>
 76:           <div class="relative">
 77:             <span class="absolute left-3 top-2 text-gray-500">₱</span>
 78:             <input v-model="physicalCash" type="number" class="w-full pl-8 p-2 border rounded focus:ring-2 focus:ring-balai-gold outline-none font-bold text-lg">
 79:           </div>
 80:         </div>
 81:       </div>
 82:     </div>
 83: 
 84:     <div class="bg-gray-50 p-6 rounded-xl border border-gray-200 mb-8 text-center">
 85:       <p class="text-sm text-gray-500 uppercase font-bold mb-2">Variance Check</p>
 86:       <p class="text-4xl font-mono font-bold" :class="varianceColor">
 87:         {{ variance > 0 ? '+' : '' }}₱{{ variance.toLocaleString() }}
 88:       </p>
 89:       <p class="text-sm mt-2" :class="variance === 0 ? 'text-green-600' : 'text-gray-500'">
 90:         {{ variance === 0 ? 'Perfect Match' : 'Please explain the discrepancy below' }}
 91:       </p>
 92:     </div>
 93: 
 94:     <div v-if="variance !== 0" class="mb-8">
 95:       <label class="block text-sm font-bold mb-2">Explanation / Remarks</label>
 96:       <textarea v-model="remarks" class="w-full p-4 border rounded-lg h-32 focus:ring-2 focus:ring-red-200 outline-none" placeholder="E.g. Forgot to log grab food expense..."></textarea>
 97:     </div>
 98: 
 99:     <button @click="handleSubmitShift" class="w-full bg-slate-900 text-white py-4 rounded-xl font-bold uppercase tracking-widest hover:bg-slate-800 transition shadow-lg">
100:       Lock & Submit Shift Report
101:     </button>
102:   </div>
103: </template>
</file>

<file path="ims-admin/vite.config.js">
 1: import { fileURLToPath, URL } from 'node:url'
 2: 
 3: import { defineConfig } from 'vite'
 4: import vue from '@vitejs/plugin-vue'
 5: import vueDevTools from 'vite-plugin-vue-devtools'
 6: 
 7: 
 8: export default defineConfig({
 9:   plugins: [
10:     vue(),
11:     vueDevTools(),
12:   ],
13:   resolve: {
14:     alias: {
15:       '@': fileURLToPath(new URL('./src', import.meta.url))
16:     },
17:   },
18: })
</file>

<file path="public-website/.gitignore">
 1: # Logs
 2: logs
 3: *.log
 4: npm-debug.log*
 5: yarn-debug.log*
 6: yarn-error.log*
 7: pnpm-debug.log*
 8: lerna-debug.log*
 9: 
10: node_modules
11: .DS_Store
12: dist
13: dist-ssr
14: coverage
15: *.local
16: 
17: # Editor directories and files
18: .vscode/*
19: !.vscode/extensions.json
20: .idea
21: *.suo
22: *.ntvs*
23: *.njsproj
24: *.sln
25: *.sw?
26: 
27: *.tsbuildinfo
28: 
29: .eslintcache
30: 
31: # Cypress
32: /cypress/videos/
33: /cypress/screenshots/
34: 
35: # Vitest
36: __screenshots__/
</file>

<file path="public-website/.vscode/extensions.json">
1: {
2:   "recommendations": ["Vue.volar"]
3: }
</file>

<file path="public-website/jsconfig.json">
1: {
2:   "compilerOptions": {
3:     "paths": {
4:       "@/*": ["./src/*"]
5:     }
6:   },
7:   "exclude": ["node_modules", "dist"]
8: }
</file>

<file path="public-website/postcss.config.js">
1: export default {
2:   plugins: {
3:     tailwindcss: {},
4:     autoprefixer: {},
5:   },
6: }
</file>

<file path="public-website/public/images/logo.svg">
1: <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="500" zoomAndPan="magnify" viewBox="0 0 375 374.999991" height="500" preserveAspectRatio="xMidYMid meet" version="1.0"><defs><filter x="0%" y="0%" width="100%" height="100%" id="d251a22ef7"><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0" color-interpolation-filters="sRGB"/></filter><filter x="0%" y="0%" width="100%" height="100%" id="48844cc2d9"><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0.2126 0.7152 0.0722 0 0" color-interpolation-filters="sRGB"/></filter><mask id="ed3d877c0d"><g filter="url(#d251a22ef7)"><g filter="url(#48844cc2d9)" transform="matrix(0.707292, 0, 0, 0.707292, -67.496564, -49.680237)"><image x="0" y="0" width="720" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtAAAALQCAAAAACcPBhAAAAAAmJLR0QA/4ePzL8AACAASURBVHic7Z13gBRV8se/3ZM2seScwYQYEBURBcGAqHfG0zNnTs90J4pZT89wd/4Uc07oqefpmTOCoqCIiIAIIjkvm3OY1PX7YzZMV8cZdmdnlvr8Ads9L3V39et69erVAwRBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBSBFKezcAQPfcCPxBFaQpgI8qq9q7QY7k5PtUJQKCoihQVK22PNreTRJipIFAq6t7q4oCKABBUcPvntveLXKk75IuUZCiKABIUbBteHu3SGjE294NANTOefGHPk97NSQB8gO6w86q1k4NERhqezcA0Eh/nAYfDSciTMNIg7soxEiHR8G65DT4aDig+lkb0+EuCgDS4lF4mXSkfw+t1Yf1J4jMEwopJw0EGkwaMkAdzWLvIKX/S7irkAYCHWESnAECHWU6NB8GCO1GGiisCnupIu3TjESI8h5ZaQ+JVgJZiEQiGXC/Ukga9NB+Jh1p0CQnVCa/7aFDD36lsnDb9oLyyk+OyEp97YI13grS8e/2bpAzvWr0TS5KfRNurmyuvf5pX+rrFyzhAv1qezfImXYXaOV1Xf3f5ae6AWlLGn7f07BJHI0NXJVUWzluOEt3eOhLKa4/fUkH6eEKafu0Ymfg49q2Zo8b2YmTTkxtA9KXNBBo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" height="720" preserveAspectRatio="xMidYMid meet"/></g></g></mask></defs><g mask="url(#ed3d877c0d)"><g transform="matrix(0.707292, 0, 0, 0.707292, -67.496564, -49.680237)"><image x="0" y="0" width="720" xlink:href="data:image/png;base64,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F7XSnpgV3f/x4dTUFBH5quIsc06YXehcojU9+PGhs06EOt326Oho/yc4Z42JiFxpbVkW3W53+10F5uc/nV84V9ncmMh7z4qUIu9DLKg8m/XR7vDwkXqtleddZjJRss2pBQOEKZXBm54eci5RipMk6ec3tvqMC9l1Y0wvy0KFo/O+qgpmZqWePt2b1f9LSy8nJye9lziK+iXr75TnebPZDJMsvayIIv3y5fKejGE/PH22FEWRUrHSlNZSVmqre9EQ2IV+Es45Y0xVkJCfmhp7/vyAcvtHpyYp9lrF21cS8GZ381Bhczgntojo2LHjIl4p08u69XrdGNPfWvZtYdolFHaIiCL2QlPjo88PsPf85OSkcy6Jo91UcvSzNWVpieTZs+c7PmSvfPHFgvcinqMobrfXx8fHlOJjx47V6rWQtPNEZVEao44enTp6dGpiYvL1KZJ3uEXHWseInGKpKsvESumpqaP9R8VJbJQRkunpGevs2upaaFucJJExWsT/13/9rV5Pjh+fNCYW7611//j7P8Jjz549KULeO6XUvbs/mMisrmy59c/58+cnJyeIFLNjZaytiIQUOes6uqfFKFbspWmbVvekevw///zx+PEpJiaSer2++tauLjBYyHAMXpKsT07e6q9s3H5WJdzIhoaPobFVVVVaxyKyt0s3RSQypizL7ccTCh2SJInjpNFIlKILFw5vkoOIsqy4detWaF0V6kO3EkVRFEVh9Uocx0Ii4jUfXIwuip3bckHmL4dtnjlEA0jm7961a9eYVWUL8XZ9fT0sJd3q4JB/ajQaYcUya+OtFVZnz549yDGHcGf7JNPr3+3fL+zzuN4YgI6MctY5Z9M0brWaaZpGkZGNzfwKRRTHRilWipwTZrp06WJ/L/h3unPnDrN0u1kUR0qFUq1fTq08y0PJBWs+cmSEiLrd7qNHj7wIEQsxEQ0NtYiMc74snX2tYpRZEbmyLK31MzPTK6+2nPr5bP680rx5die2dF4ozytXead95E2XuiQUbgm4zP/97/VPP51ut3vO+ThORkaGL1++8B+/urCXsCz2dyY0wwgdIzaK77wndkpFe/uLbt68+dnceRNpou2aQIQ5l6Io0jTtZRmzM3s9kr314sWLo0cnsjz35EeGj3i75VMLL3JYtJnneavVyrudyruFhfPXr98+gKH2X/VtlsW+cbU75H11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" height="720" preserveAspectRatio="xMidYMid meet"/></g></g></svg>
</file>

<file path="public-website/site_data.json">
  1: {
  2:   "rooms": [
  3:     {
  4:       "type": "Value",
  5:       "rates": {
  6:         "3_hours": 450,
  7:         "6_hours": 750,
  8:         "12_hours": 1150,
  9:         "24_hours": 1800
 10:       }
 11:     },
 12:     {
 13:       "type": "Standard",
 14:       "rates": {
 15:         "3_hours": 550,
 16:         "6_hours": 850,
 17:         "12_hours": 1250,
 18:         "24_hours": 1900
 19:       }
 20:     },
 21:     {
 22:       "type": "Deluxe",
 23:       "rates": {
 24:         "3_hours": 650,
 25:         "6_hours": 950,
 26:         "12_hours": 1350,
 27:         "24_hours": 2100
 28:       }
 29:     },
 30:     {
 31:       "type": "Superior",
 32:       "rates": {
 33:         "3_hours": 1195,
 34:         "6_hours": 1595,
 35:         "12_hours": 2495,
 36:         "24_hours": 3495
 37:       }
 38:     }
 39:   ],
 40:   "menu": {
 41:     "all_day_breakfast": [
 42:       { "name": "Tapsilog", "price": 85 },
 43:       { "name": "Longsilog", "price": 85 },
 44:       { "name": "Tosilog", "price": 85 },
 45:       { "name": "Hotsilog", "price": 85 },
 46:       { "name": "Hamsilog", "price": 85 },
 47:       { "name": "Ham Sandwich", "price": 85 },
 48:       { "name": "Egg Sandwich", "price": 85 },
 49:       { "name": "Ham & Egg Sandwich", "price": 95 },
 50:       { "name": "Family House Clubhouse", "price": 120 }
 51:     ],
 52:     "rice_meals": [
 53:       { "name": "Beef Bulgogi", "price": 175 },
 54:       { "name": "Beef Tapa", "price": 175 },
 55:       { "name": "Chicken Tocino", "price": 165 },
 56:       { "name": "Hungarian", "price": 175 },
 57:       { "name": "Chicken Poppers", "price": 165 },
 58:       { "name": "Extra Rice", "price": 40 },
 59:       { "name": "Extra Egg", "price": 30 }
 60:     ],
 61:     "pasta": [
 62:       { "name": "Chicken Alfredo", "price": 175 },
 63:       { "name": "Tuna Pesto", "price": 165 },
 64:       { "name": "Meaty Red Sauce", "price": 215 }
 65:     ],
 66:     "snacks": [
 67:       { "name": "Chicken Balls", "price": 70 },
 68:       { "name": "Squid Balls", "price": 70 },
 69:       { "name": "Kikiam", "price": 100 },
 70:       { "name": "Cheese Sticks", "price": 105 },
 71:       { "name": "Hash Brown", "price": 45 },
 72:       { "name": "Thick Cut Fries", "price": 105 },
 73:       { "name": "Chicken Poppers", "price": 165 },
 74:       { "name": "Nachos", "price": 135 },
 75:       { "name": "Cup noodles", "price": 50 },
 76:       { "name": "Pringles", "price": 55 },
 77:       { "name": "Chips", "price": 55 },
 78:       { "name": "Piknik", "price": 60 }
 79:     ],
 80:     "cold_brew": [
 81:       { "name": "16oz Cold Brew", "price": 95 },
 82:       { "name": "16oz Milk Cold Brew", "price": 115 },
 83:       { "name": "16oz OJ Cold Brew", "price": 115 },
 84:       { "name": "16oz Vietnamese", "price": 115 },
 85:       { "name": "16oz Spanish", "price": 135 },
 86:       { "name": "16oz Mocha", "price": 135 },
 87:       { "name": "16oz Caramel", "price": 145 },
 88:       { "name": "16oz Hazelnut", "price": 145 },
 89:       { "name": "16oz Vanilla", "price": 145 },
 90:       { "name": "16oz White Mocha", "price": 145 },
 91:       { "name": "22oz Cold Brew", "price": 115 },
 92:       { "name": "22oz Milk Cold Brew", "price": 145 },
 93:       { "name": "22oz OJ Cold Brew", "price": 145 },
 94:       { "name": "22oz Vietnamese", "price": 145 },
 95:       { "name": "22oz Spanish", "price": 165 },
 96:       { "name": "22oz Mocha", "price": 165 },
 97:       { "name": "22oz Caramel", "price": 175 },
 98:       { "name": "22oz Hazelnut", "price": 175 },
 99:       { "name": "22oz Vanilla", "price": 175 },
100:       { "name": "22oz White Mocha", "price": 175 }
101:     ],
102:     "frappe": [
103:       { "name": "22oz Blueberry Cream", "price": 165 },
104:       { "name": "22oz Strawberry Cream", "price": 165 },
105:       { "name": "22oz Chocolate Chip", "price": 185 },
106:       { "name": "22oz Java Chip", "price": 185 },
107:       { "name": "22oz Caramel", "price": 195 },
108:       { "name": "22oz Matcha", "price": 200 }
109:     ],
110:     "refreshers": [
111:       { "name": "16oz Honey Citron", "price": 120 },
112:       { "name": "16oz Passionfruit", "price": 120 },
113:       { "name": "16oz Blueberry Tea", "price": 115 },
114:       { "name": "16oz Strawberry Tea", "price": 115 },
115:       { "name": "22oz Honey Citron", "price": 145 },
116:       { "name": "22oz Passionfruit", "price": 145 },
117:       { "name": "22oz Blueberry Tea", "price": 135 },
118:       { "name": "22oz Strawberry Tea", "price": 135 }
119:     ],
120:     "hot_drinks": [
121:       { "name": "16oz Brewed Coffee", "price": 95 },
122:       { "name": "16oz Latte", "price": 115 },
123:       { "name": "16oz Vietnamese", "price": 115 },
124:       { "name": "16oz Spanish", "price": 135 },
125:       { "name": "16oz Mocha", "price": 135 },
126:       { "name": "16oz Caramel", "price": 145 },
127:       { "name": "16oz Hazelnut", "price": 145 },
128:       { "name": "16oz Vanilla", "price": 145 },
129:       { "name": "16oz Ube", "price": 125 },
130:       { "name": "16oz Matcha", "price": 145 },
131:       { "name": "16oz Signature Chocolate", "price": 135 }
132:     ],
133:     "others": [
134:       { "name": "Bottled Water", "price": 30 },
135:       { "name": "San Mig Light", "price": 65 },
136:       { "name": "Red Horse", "price": 75 },
137:       { "name": "Soju (Strawberry)", "price": 140 },
138:       { "name": "Soju (Peach)", "price": 140 },
139:       { "name": "Softdrinks (Coke/Sprite/Royal)", "price": 50 }
140:     ]
141:   },
142:   "policies": {
143:     "extra_fees": [
144:       { "item": "Extension (Value)", "price": 150, "unit": "per hour" },
145:       { "item": "Extension (Standard)", "price": 160, "unit": "per hour" },
146:       { "item": "Extension (Deluxe)", "price": 170, "unit": "per hour" },
147:       { "item": "Extension (Superior)", "price": 200, "unit": "per hour" },
148:       { "item": "Additional Adult", "price": 200, "unit": "per head" },
149:       { "item": "Additional Child", "price": 150, "unit": "per head" }
150:     ],
151:     "penalties": [
152:       { "item": "Bed Sheets", "price": 800 },
153:       { "item": "Smoking", "price": 1500 },
154:       { "item": "Towel", "price": 150 }
155:     ]
156:   }
157: }
</file>

<file path="public-website/src/assets/main.css">
1: @tailwind base;
2: @tailwind components;
3: @tailwind utilities;
</file>

<file path="public-website/src/components/modals/BaseModal.vue">
 1: <script setup>
 2: import { defineProps, defineEmits } from 'vue'
 3: 
 4: const props = defineProps({
 5:   isOpen: {
 6:     type: Boolean,
 7:     required: true
 8:   },
 9:   title: {
10:     type: String,
11:     default: ''
12:   }
13: })
14: 
15: const emit = defineEmits(['close'])
16: 
17: const close = () => {
18:   emit('close')
19: }
20: </script>
21: 
22: <template>
23:   <Teleport to="body">
24: 
25:     <div
26:       v-if="isOpen"
27:       class="fixed inset-0 z-[9999] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm transition-opacity"
28:       @click.self="close"
29:     >
30: 
31:       <div class="bg-white w-full max-w-lg shadow-2xl relative animate-fade-in-up border-t-4 border-balai-gold">
32: 
33:         <div class="flex justify-between items-center p-6 border-b border-gray-100">
34:           <h3 class="font-serif text-2xl text-balai-dark">{{ title }}</h3>
35: 
36:           <button @click="close" class="text-gray-400 hover:text-balai-gold text-2xl transition-colors">
37:             &times;
38:           </button>
39:         </div>
40: 
41:         <div class="p-8">
42:           <slot></slot>
43:         </div>
44: 
45:       </div>
46:     </div>
47:   </Teleport>
48: </template>
49: 
50: <style scoped>
51: 
52: .animate-fade-in-up {
53:   animation: fadeInUp 0.3s ease-out;
54: }
55: 
56: @keyframes fadeInUp {
57:   from {
58:     opacity: 0;
59:     transform: translateY(20px);
60:   }
61:   to {
62:     opacity: 1;
63:     transform: translateY(0);
64:   }
65: }
66: </style>
</file>

<file path="public-website/src/components/modals/LoginRequiredModal.vue">
 1: <script setup>
 2: import { defineProps, defineEmits } from 'vue'
 3: import { useRouter } from 'vue-router'
 4: import BaseModal from './BaseModal.vue'
 5: 
 6: const props = defineProps({
 7:   isOpen: {
 8:     type: Boolean,
 9:     required: true
10:   }
11: })
12: 
13: const emit = defineEmits(['close'])
14: const router = useRouter()
15: 
16: const navigateToLogin = () => {
17:   emit('close')
18:   router.push('/login')
19: }
20: 
21: const navigateToSignup = () => {
22:   emit('close')
23:   router.push('/signup')
24: }
25: </script>
26: 
27: <template>
28:   <BaseModal
29:     :isOpen="isOpen"
30:     title="Account Required"
31:     @close="$emit('close')"
32:   >
33:     <div class="text-center space-y-6">
34: 
35:        <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto text-3xl">
36:           🔒
37:        </div>
38: 
39:        <div class="space-y-2">
40:           <p class="text-balai-dark font-serif text-xl">Please sign in to book.</p>
41:           <p class="text-gray-500 text-sm leading-relaxed px-4">
42:              To secure your reservation and manage your bookings, you need to be logged into your Balai Almeda account.
43:           </p>
44:        </div>
45: 
46:        <div class="flex flex-col gap-3 pt-2">
47: 
48:           <button
49:              @click="navigateToLogin"
50:              class="w-full bg-balai-dark text-white py-3 text-sm font-medium uppercase tracking-widest hover:bg-balai-gold transition-colors shadow-md"
51:           >
52:              Log In
53:           </button>
54: 
55:           <button
56:              @click="navigateToSignup"
57:              class="w-full border border-balai-dark text-balai-dark py-3 text-sm font-medium uppercase tracking-widest hover:bg-gray-50 transition-colors"
58:           >
59:              Create Account
60:           </button>
61: 
62:           <button
63:              @click="$emit('close')"
64:              class="text-xs text-gray-400 hover:text-balai-dark mt-2"
65:           >
66:              Cancel and go back
67:           </button>
68: 
69:        </div>
70: 
71:     </div>
72:   </BaseModal>
73: </template>
</file>

<file path="public-website/src/stores/counter.js">
 1: import { ref, computed } from 'vue'
 2: import { defineStore } from 'pinia'
 3: 
 4: export const useCounterStore = defineStore('counter', () => {
 5:   const count = ref(0)
 6:   const doubleCount = computed(() => count.value * 2)
 7:   function increment() {
 8:     count.value++
 9:   }
10: 
11:   return { count, doubleCount, increment }
12: })
</file>

<file path="public-website/src/utils/auth.js">
 1: export const getToken = () => {
 2:   return localStorage.getItem('token')
 3: }
 4: 
 5: export const getUser = () => {
 6:   const user = localStorage.getItem('user')
 7:   return user ? JSON.parse(user) : null
 8: }
 9: 
10: export const isAuthenticated = () => {
11:   return !!getToken()
12: }
13: 
14: export const logout = () => {
15:   localStorage.removeItem('token')
16:   localStorage.removeItem('user')
17: }
18: 
19: export const getUserRole = () => {
20:   const user = getUser()
21:   return user ? user.role : null
22: }
23: 
24: export const getUserName = () => {
25:   const user = getUser()
26:   return user ? `${user.firstName} ${user.lastName}` : null
27: }
</file>

<file path="public-website/src/views/CookiesView.vue">
 1: <script setup>
 2: 
 3: </script>
 4: 
 5: <template>
 6:   <main class="min-h-screen bg-balai-bg font-sans text-balai-dark py-20 px-4">
 7: 
 8:     <div class="max-w-4xl mx-auto bg-white p-8 md:p-16 shadow-xl border-t-4 border-balai-gold">
 9: 
10:       <div class="mb-12 border-b border-gray-100 pb-8">
11:         <h1 class="font-serif text-3xl md:text-4xl mb-4">Cookie Policy</h1>
12:         <p class="text-sm text-gray-500 uppercase tracking-widest">Effective Date: January 2026</p>
13:       </div>
14: 
15:       <div class="space-y-8 text-gray-700 leading-relaxed">
16: 
17:         <section>
18:           <h2 class="font-serif text-xl mb-3 text-balai-dark">1. What Are Cookies?</h2>
19:           <p>
20:             Cookies are small text files that are placed on your computer or mobile device by websites that you visit.
21:             They are widely used in order to make websites work, or work more efficiently, as well as to provide information to the owners of the site.
22:           </p>
23:         </section>
24: 
25:         <section>
26:           <h2 class="font-serif text-xl mb-3 text-balai-dark">2. How We Use Cookies</h2>
27:           <p class="mb-4">We use cookies for the following purposes:</p>
28:           <ul class="list-disc pl-5 space-y-2 ml-2">
29:             <li><strong>Essential Cookies:</strong> These are necessary for the website to function (e.g., remembering your reservation dates).</li>
30:             <li><strong>Analytics Cookies:</strong> These help us understand how visitors interact with our website by collecting and reporting information anonymously.</li>
31:             <li><strong>Functionality Cookies:</strong> These allow the website to remember choices you make (such as your user name or language) to provide enhanced features.</li>
32:           </ul>
33:         </section>
34: 
35:         <section>
36:           <h2 class="font-serif text-xl mb-3 text-balai-dark">3. Managing Cookies</h2>
37:           <p>
38:             Most web browsers allow some control of most cookies through the browser settings. To find out more about cookies,
39:             including how to see what cookies have been set, visit www.aboutcookies.org or www.allaboutcookies.org.
40:           </p>
41:         </section>
42: 
43:       </div>
44:     </div>
45: 
46:   </main>
47: </template>
</file>

<file path="public-website/src/views/LocationView.vue">
 1: <script setup>
 2: 
 3: </script>
 4: 
 5: <template>
 6:   <main class="text-balai-dark font-sans min-h-screen">
 7: 
 8:     <section class="relative h-[50vh] bg-balai-dark flex items-center justify-center text-white px-4">
 9:       <div class="absolute inset-0 bg-black/40"></div>
10:       <div class="relative z-10 text-center max-w-3xl mx-auto">
11:         <h1 class="font-serif text-4xl md:text-5xl mb-4 tracking-wide">
12:           OUR LOCATION
13:         </h1>
14:         <p class="text-sm md:text-lg uppercase tracking-widest opacity-90">
15:           The heart of Pateros
16:         </p>
17:       </div>
18:     </section>
19: 
20:     <section class="container mx-auto px-4 md:px-6 py-16 md:py-24">
21:        <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
22: 
23:           <div class="space-y-8">
24:              <div>
25:                 <h2 class="font-serif text-3xl mb-4">Getting Here</h2>
26:                 <p class="text-gray-600 leading-relaxed mb-6">
27:                    Located conveniently in San Roque, we are just a few minutes away from the bustling districts of BGC and Makati.
28:                 </p>
29:                 <div class="bg-white p-6 shadow-md border-l-4 border-balai-gold">
30:                    <h3 class="font-bold uppercase text-xs tracking-widest text-balai-gold-dark mb-2">Address</h3>
31:                    <p class="leading-relaxed">
32:                       163 M. Almeda St., Barangay San Roque,<br>
33:                       Pateros, Metro Manila 1620
34:                    </p>
35:                 </div>
36:              </div>
37: 
38:              <div>
39:                 <h3 class="font-bold uppercase text-xs tracking-widest text-balai-gold-dark mb-4">Distance From</h3>
40:                 <ul class="space-y-3 text-sm">
41:                    <li class="flex justify-between border-b border-gray-200 pb-2">
42:                       <span>BGC High Street</span>
43:                       <span class="font-bold">3.5 km</span>
44:                    </li>
45:                    <li class="flex justify-between border-b border-gray-200 pb-2">
46:                       <span>Ninoy Aquino Airport</span>
47:                       <span class="font-bold">12 km</span>
48:                    </li>
49:                    <li class="flex justify-between border-b border-gray-200 pb-2">
50:                       <span>SM Aura Premier</span>
51:                       <span class="font-bold">4.0 km</span>
52:                    </li>
53:                 </ul>
54:              </div>
55:           </div>
56: 
57:           <div class="lg:col-span-2 min-h-[400px] bg-gray-200 relative shadow-xl">
58:              <div class="absolute inset-0 flex items-center justify-center text-gray-500 font-bold uppercase tracking-widest">
59:                 Google Map Embed
60:              </div>
61:           </div>
62: 
63:        </div>
64:     </section>
65: 
66:     <section class="bg-white py-16 md:py-24">
67:        <div class="container mx-auto px-4">
68:           <h2 class="font-serif text-3xl mb-12 text-center">Neighborhood Guide</h2>
69: 
70:           <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
71:              <div class="text-center">
72:                 <div class="w-full h-40 bg-gray-100 mb-4"></div>
73:                 <h4 class="font-serif text-lg">Local Dining</h4>
74:                 <p class="text-xs text-gray-500">3 mins walk</p>
75:              </div>
76:              <div class="text-center">
77:                 <div class="w-full h-40 bg-gray-100 mb-4"></div>
78:                 <h4 class="font-serif text-lg">San Roque Church</h4>
79:                 <p class="text-xs text-gray-500">5 mins walk</p>
80:              </div>
81:              <div class="text-center">
82:                 <div class="w-full h-40 bg-gray-100 mb-4"></div>
83:                 <h4 class="font-serif text-lg">Pateros Park</h4>
84:                 <p class="text-xs text-gray-500">10 mins walk</p>
85:              </div>
86:              <div class="text-center">
87:                 <div class="w-full h-40 bg-gray-100 mb-4"></div>
88:                 <h4 class="font-serif text-lg">River Ferry</h4>
89:                 <p class="text-xs text-gray-500">15 mins walk</p>
90:              </div>
91:           </div>
92:        </div>
93:     </section>
94: 
95:   </main>
96: </template>
</file>

<file path="public-website/src/views/PrivacyView.vue">
 1: <script setup>
 2: 
 3: </script>
 4: 
 5: <template>
 6:   <main class="min-h-screen bg-balai-bg font-sans text-balai-dark py-20 px-4">
 7: 
 8:     <div class="max-w-4xl mx-auto bg-white p-8 md:p-16 shadow-xl border-t-4 border-balai-gold">
 9: 
10:       <div class="mb-12 border-b border-gray-100 pb-8">
11:         <h1 class="font-serif text-3xl md:text-4xl mb-4">Privacy Policy</h1>
12:         <p class="text-sm text-gray-500 uppercase tracking-widest">Last Updated: January 2026</p>
13:       </div>
14: 
15:       <div class="space-y-8 text-gray-700 leading-relaxed">
16: 
17:         <section>
18:           <h2 class="font-serif text-xl mb-3 text-balai-dark">1. Introduction</h2>
19:           <p>
20:             Welcome to Balai Almeda. We respect your privacy and are committed to protecting your personal data.
21:             This privacy policy will inform you as to how we look after your personal data when you visit our website
22:             and tell you about your privacy rights.
23:           </p>
24:         </section>
25: 
26:         <section>
27:           <h2 class="font-serif text-xl mb-3 text-balai-dark">2. The Data We Collect</h2>
28:           <p class="mb-4">We may collect, use, store and transfer different kinds of personal data about you which we have grouped together follows:</p>
29:           <ul class="list-disc pl-5 space-y-2 ml-2">
30:             <li><strong>Identity Data:</strong> includes first name, last name, username or similar identifier.</li>
31:             <li><strong>Contact Data:</strong> includes billing address, email address and telephone numbers.</li>
32:             <li><strong>Technical Data:</strong> includes internet protocol (IP) address, browser type and version, time zone setting and location.</li>
33:           </ul>
34:         </section>
35: 
36:         <section>
37:           <h2 class="font-serif text-xl mb-3 text-balai-dark">3. How We Use Your Data</h2>
38:           <p>
39:             We will only use your personal data when the law allows us to. Most commonly, we will use your personal data
40:             where we need to perform the contract we are about to enter into or have entered into with you (e.g., your hotel reservation).
41:           </p>
42:         </section>
43: 
44:         <section>
45:           <h2 class="font-serif text-xl mb-3 text-balai-dark">4. Data Security</h2>
46:           <p>
47:             We have put in place appropriate security measures to prevent your personal data from being accidentally lost,
48:             used or accessed in an unauthorized way, altered or disclosed.
49:           </p>
50:         </section>
51: 
52:          <section>
53:           <h2 class="font-serif text-xl mb-3 text-balai-dark">5. Contact Us</h2>
54:           <p>
55:             If you have any questions about this privacy policy, please contact us at <span class="font-bold">balai.almeda@gmail.com</span>.
56:           </p>
57:         </section>
58: 
59:       </div>
60:     </div>
61: 
62:   </main>
63: </template>
</file>

<file path="public-website/src/views/VirtualTourView.vue">
 1: <script setup>
 2: 
 3: </script>
 4: 
 5: <template>
 6:   <main class="text-balai-dark font-sans min-h-screen">
 7: 
 8:     <section class="relative h-[50vh] bg-balai-dark flex items-center justify-center text-white px-4">
 9:       <div class="absolute inset-0 bg-black/40"></div>
10:       <div class="relative z-10 text-center max-w-3xl mx-auto">
11:         <h1 class="font-serif text-4xl md:text-5xl mb-4 tracking-wide">
12:           VIRTUAL TOUR
13:         </h1>
14:         <p class="text-sm md:text-lg uppercase tracking-widest opacity-90">
15:           Experience our spaces from anywhere
16:         </p>
17:       </div>
18:     </section>
19: 
20:     <section class="container mx-auto px-4 md:px-6 py-16 md:py-24">
21:       <div class="text-center max-w-3xl mx-auto mb-12">
22:         <h2 class="font-serif text-3xl mb-4">Interactive Walkthrough</h2>
23:         <p class="text-gray-600">
24:           Click and drag to explore our lobby, rooms, and amenities.
25:           Get a feel for the Balai Almeda atmosphere before you even step through the door.
26:         </p>
27:       </div>
28: 
29:       <div class="aspect-video bg-gray-200 shadow-2xl relative flex items-center justify-center group overflow-hidden border-4 border-white">
30:         <div class="text-center">
31:             <span class="text-6xl mb-4 block opacity-20">360°</span>
32:             <p class="uppercase tracking-widest font-bold text-gray-400">Tour Embed Goes Here</p>
33:         </div>
34: 
35:         <div class="absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-500 cursor-pointer">
36:            <button class="bg-balai-gold text-white px-8 py-3 uppercase tracking-widest font-medium hover:bg-balai-gold-dark transition-colors">
37:               Start Tour
38:            </button>
39:         </div>
40:       </div>
41:     </section>
42: 
43:     <section class="bg-white py-16 md:py-24">
44:       <div class="container mx-auto px-4">
45:         <h3 class="font-serif text-2xl mb-8 text-center">Tour Highlights</h3>
46: 
47:         <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
48:            <div class="group cursor-pointer">
49:               <div class="aspect-[4/3] bg-gray-300 mb-4 overflow-hidden">
50:                  <div class="w-full h-full bg-balai-dark/10 group-hover:scale-105 transition-transform duration-500"></div>
51:               </div>
52:               <h4 class="font-serif text-xl">The Lobby</h4>
53:               <p class="text-xs text-gray-500 uppercase tracking-widest mt-1">Ground Floor</p>
54:            </div>
55: 
56:            <div class="group cursor-pointer">
57:               <div class="aspect-[4/3] bg-gray-300 mb-4 overflow-hidden">
58:                  <div class="w-full h-full bg-balai-dark/10 group-hover:scale-105 transition-transform duration-500"></div>
59:               </div>
60:               <h4 class="font-serif text-xl">Executive Suite</h4>
61:               <p class="text-xs text-gray-500 uppercase tracking-widest mt-1">Second Floor</p>
62:            </div>
63: 
64:            <div class="group cursor-pointer">
65:               <div class="aspect-[4/3] bg-gray-300 mb-4 overflow-hidden">
66:                  <div class="w-full h-full bg-balai-dark/10 group-hover:scale-105 transition-transform duration-500"></div>
67:               </div>
68:               <h4 class="font-serif text-xl">Roof Deck</h4>
69:               <p class="text-xs text-gray-500 uppercase tracking-widest mt-1">Top Level</p>
70:            </div>
71:         </div>
72:       </div>
73:     </section>
74: 
75:   </main>
76: </template>
</file>

<file path="public-website/vite.config.js">
 1: import { fileURLToPath, URL } from 'node:url'
 2: 
 3: import { defineConfig } from 'vite'
 4: import vue from '@vitejs/plugin-vue'
 5: import vueDevTools from 'vite-plugin-vue-devtools'
 6: 
 7: 
 8: export default defineConfig({
 9:   plugins: [
10:     vue(),
11:     vueDevTools(),
12:   ],
13:   resolve: {
14:     alias: {
15:       '@': fileURLToPath(new URL('./src', import.meta.url))
16:     },
17:   },
18: })
</file>

<file path="repomix.config.json">
 1: {
 2:   "output": {
 3:     "filePath": "repomix-output.xml",
 4:     "style": "xml",
 5:     "removeComments": true,
 6:     "showLineNumbers": true,
 7:     "copyToClipboard": false
 8:   },
 9:   "include": ["**/*"],
10:   "ignore": {
11:     "useGitignore": true,
12:     "useDefaultPatterns": true,
13:     "customPatterns": [
14:       "node_modules/**",
15:       "dist/**",
16:       "build/**",
17:       ".git/**",
18:       ".env",
19:       "*.log",
20:       "**/*.md",
21:       "package-lock.json",
22:       "repomix-output.xml"
23:     ]
24:   },
25:   "security": {
26:     "enableSecurityCheck": true
27:   }
28: }
</file>

<file path="server/config/about.txt">
1: This folder acts as the central storage for settings that your application needs to function.
2: 
3: Database Settings: Contains scripts or configuration files (like db.js) that define how to connect to your MySQL database.
4: 
5: Environment Variables: Stores sensitive data like API keys, database credentials, and JWT secrets in a way that’s easy to manage across different environments (e.g., development vs. production).
6: 
7: Global Constants: Holds values that don't change often, such as your server's port number or external service URLs.
</file>

<file path="server/config/config.json">
 1: {
 2:   "development": {
 3:     "username": "root",
 4:     "password": "",
 5:     "database": "balai_almeda_db",
 6:     "host": "127.0.0.1",
 7:     "dialect": "mysql"
 8:   },
 9:   "test": {
10:     "username": "root",
11:     "password": "",
12:     "database": "balai_almeda_db_test",
13:     "host": "127.0.0.1",
14:     "dialect": "mysql"
15:   },
16:   "production": {
17:     "username": "root",
18:     "password": "",
19:     "database": "balai_almeda_db_production",
20:     "host": "127.0.0.1",
21:     "dialect": "mysql"
22:   }
23: }
</file>

<file path="server/config/database.js">
 1: const { Sequelize } = require('sequelize');
 2: require('dotenv').config();
 3: 
 4: 
 5: const sequelize = new Sequelize(
 6:   process.env.DB_NAME || 'balai_almeda_db',
 7:   process.env.DB_USER || 'root',
 8:   process.env.DB_PASS || '',                // XAMPP default password (empty)
 9:   {
10:     host: process.env.DB_HOST || 'localhost',
11:     dialect: 'mysql',
12:     logging: false,
13:   }
14: );
15: 
16: module.exports = sequelize;
</file>

<file path="server/controllers/about.txt">
1: The controllers folder contains the "brain" or business logic of your application.
2: 
3: Request Handling: Controllers are functions that receive incoming requests from the routes, process them, and decide what response to send back to the client.
4: 
5: Database Interaction: This is where you write the logic to fetch, create, update, or delete data from your database (using Sequelize or raw SQL).
6: 
7: Data Processing: Before sending a response, a controller might calculate totals, format data, or handle errors if something goes wrong during a database operation.
</file>

<file path="server/controllers/errorController.js">
 1: const sendErrorDev = (err, res) => {
 2:   res.status(err.statusCode).json({
 3:     status: err.status,
 4:     error: err,
 5:     message: err.message,
 6:     stack: err.stack
 7:   });
 8: };
 9: 
10: const sendErrorProd = (err, res) => {
11: 
12:   if (err.isOperational) {
13:     res.status(err.statusCode).json({
14:       status: err.status,
15:       message: err.message
16:     });
17:   }
18: 
19:   else {
20:     console.error('ERROR 💥', err);
21:     res.status(500).json({
22:       status: 'error',
23:       message: 'Something went wrong!'
24:     });
25:   }
26: };
27: 
28: module.exports = (err, req, res, next) => {
29:   err.statusCode = err.statusCode || 500;
30:   err.status = err.status || 'error';
31: 
32:   if (process.env.NODE_ENV === 'production') {
33:     sendErrorProd(err, res);
34:   } else {
35:     sendErrorDev(err, res);
36:   }
37: };
</file>

<file path="server/middleware/about.txt">
1: Middleware functions act as "bridges" or security guards that execute during the request-response cycle before a request reaches your controller.
2: 
3: Authentication & Authorization: Verifies if a user is logged in (checking for a valid JWT token) or has the right permissions (e.g., Guest vs. Admin) to access a specific route.
4: 
5: Data Validation: Checks if the data sent by a user (like in a Login form) is in the correct format before the server tries to process it.
6: 
7: Global Tasks: Handles common tasks like logging every request that comes in or parsing JSON data so the server can read it.
</file>

<file path="server/middleware/rateLimiters.js">
 1: const rateLimit = require('express-rate-limit');
 2: 
 3: 
 4: 
 5: 
 6: 
 7: 
 8: 
 9: const apiLimiter = rateLimit({
10:   windowMs: 15 * 60 * 1000,
11:   max: 100,
12:   message: {
13:     success: false,
14:     message: 'Too many requests from this IP, please try again later.'
15:   },
16:   standardHeaders: true,
17:   legacyHeaders: false,
18: 
19: 
20:   handler: (req, res) => {
21:     console.warn(`⚠️ SECURITY: Rate limit exceeded for IP ${req.ip} on ${req.path}`);
22:     res.status(429).json({
23:       success: false,
24:       message: 'Too many requests from this IP, please try again later.'
25:     });
26:   }
27: });
28: 
29: 
30: 
31: 
32: 
33: 
34: 
35: 
36: 
37: 
38: 
39: 
40: const authLimiter = rateLimit({
41:   windowMs: 15 * 60 * 1000,
42:   max: 5,
43:   message: {
44:     success: false,
45:     message: 'Too many authentication attempts, please try again after 15 minutes.'
46:   },
47:   standardHeaders: true,
48:   legacyHeaders: false,
49: 
50: 
51:   skipSuccessfulRequests: false,
52: 
53: 
54:   handler: (req, res) => {
55:     console.warn(`⚠️ SECURITY: Auth rate limit exceeded for IP ${req.ip} on ${req.path}`);
56:     res.status(429).json({
57:       success: false,
58:       message: 'Too many authentication attempts, please try again after 15 minutes.'
59:     });
60:   }
61: });
62: 
63: module.exports = {
64:   apiLimiter,
65:   authLimiter
66: };
</file>

<file path="server/middleware/sanitize.js">
 1: const validator = require('validator');
 2: 
 3: 
 4: 
 5: 
 6: 
 7: 
 8: function sanitizeObject(obj) {
 9:   if (obj === null || obj === undefined) {
10:     return obj;
11:   }
12: 
13: 
14:   if (typeof obj === 'string') {
15: 
16:     let sanitized = validator.stripLow(obj);
17:     sanitized = validator.escape(sanitized);
18: 
19: 
20:     sanitized = sanitized.replace(/<[^>]*>/g, '');
21: 
22:     return sanitized.trim();
23:   }
24: 
25:   // Handle arrays - sanitize each element
26:   if (Array.isArray(obj)) {
27:     return obj.map(item => sanitizeObject(item));
28:   }
29: 
30:   // Handle objects - sanitize each property
31:   if (typeof obj === 'object') {
32:     const sanitized = {};
33:     for (const key in obj) {
34:       if (obj.hasOwnProperty(key)) {
35:         sanitized[key] = sanitizeObject(obj[key]);
36:       }
37:     }
38:     return sanitized;
39:   }
40: 
41: 
42:   return obj;
43: }
44: 
45: 
46: 
47: 
48: function sanitizeRequestBody(req, res, next) {
49:   if (req.body && typeof req.body === 'object') {
50: 
51:     if (process.env.NODE_ENV !== 'production') {
52:       const hasUnsafeContent = JSON.stringify(req.body).includes('<') ||
53:                                JSON.stringify(req.body).includes('>') ||
54:                                JSON.stringify(req.body).includes('script');
55: 
56:       if (hasUnsafeContent) {
57:         console.warn('⚠️ SECURITY: Potentially unsafe content detected in request body - sanitizing...');
58:       }
59:     }
60: 
61: 
62:     req.body = sanitizeObject(req.body);
63:   }
64: 
65:   next();
66: }
67: 
68: module.exports = sanitizeRequestBody;
</file>

<file path="server/models/RoomImage.js">
 1: const { Model, DataTypes } = require('sequelize');
 2: const sequelize = require('../config/database');
 3: 
 4: class RoomImage extends Model {}
 5: 
 6: RoomImage.init(
 7:   {
 8:     image_id: {
 9:       type: DataTypes.INTEGER,
10:       primaryKey: true,
11:       autoIncrement: true,
12:       field: 'image_id',
13:     },
14:     room_id: {
15:       type: DataTypes.INTEGER,
16:       allowNull: false,
17:       field: 'room_id',
18:       references: {
19:         model: 'rooms',
20:         key: 'room_id',
21:       },
22:       onDelete: 'CASCADE',
23:     },
24:     image_path: {
25:       type: DataTypes.STRING(255),
26:       allowNull: false,
27:       field: 'image_path',
28:     },
29:     is_primary: {
30:       type: DataTypes.BOOLEAN,
31:       defaultValue: false,
32:       field: 'is_primary',
33:     },
34:     created_at: {
35:       type: DataTypes.DATE,
36:       allowNull: false,
37:       defaultValue: DataTypes.NOW,
38:       field: 'created_at',
39:     },
40:   },
41:   {
42:     sequelize,
43:     modelName: 'RoomImage',
44:     tableName: 'room_images',
45:     timestamps: false,
46:     underscored: true,
47:   }
48: );
49: 
50: 
51: RoomImage.associate = function(models) {
52:   RoomImage.belongsTo(models.Room, {
53:     foreignKey: 'room_id',
54:     targetKey: 'room_id',
55:     as: 'room'
56:   });
57: };
58: 
59: module.exports = RoomImage;
</file>

<file path="server/models/User.js">
 1: const { DataTypes } = require('sequelize');
 2: const sequelize = require('../config/database');
 3: 
 4: const User = sequelize.define('User', {
 5:   user_id: {
 6:     type: DataTypes.INTEGER,
 7:     primaryKey: true,
 8:     autoIncrement: true,
 9:     field: 'user_id'
10:   },
11:   first_name: {
12:     type: DataTypes.STRING(100),
13:     allowNull: false,
14:     field: 'first_name'
15:   },
16:   last_name: {
17:     type: DataTypes.STRING(100),
18:     allowNull: false,
19:     field: 'last_name'
20:   },
21:   email: {
22:     type: DataTypes.STRING(100),
23:     allowNull: false,
24:     unique: true,
25:     validate: {
26:       isEmail: true
27:     }
28:   },
29:   phone: {
30:     type: DataTypes.STRING(20),
31:     allowNull: true,
32:     field: 'phone'
33:   },
34:   password: {
35:     type: DataTypes.STRING(255),
36:     allowNull: false
37:   },
38:   role: {
39:     type: DataTypes.ENUM('Guest', 'Admin', 'FrontDesk', 'Housekeeping', 'Manager'),
40:     defaultValue: 'Guest'
41:   },
42:   created_at: {
43:     type: DataTypes.DATE,
44:     defaultValue: DataTypes.NOW,
45:     field: 'created_at'
46:   },
47:   updated_at: {
48:     type: DataTypes.DATE,
49:     defaultValue: DataTypes.NOW,
50:     field: 'updated_at'
51:   }
52: }, {
53:   tableName: 'users',
54:   timestamps: true,
55:   createdAt: 'created_at',
56:   updatedAt: 'updated_at',
57:   underscored: true
58: });
59: 
60: module.exports = User;
</file>

<file path="server/routes/about.txt">
1: The routes folder serves as the "map" or directory for your API.
2: 
3: Endpoint Definition: It defines the URL paths (e.g., /api/auth/login or /api/public/rooms) and the HTTP methods (GET, POST, PUT, DELETE) the server should listen for.
4: 
5: Connecting Routes to Logic: The route file doesn't contain the actual logic; instead, it simply tells Express: "If someone hits this URL, call this specific function in the Controller".
6: 
7: Applying Security: This is where you "attach" middleware to specific routes, ensuring that certain endpoints are protected by authentication.
</file>

<file path="server/scripts/test-api-contract.js">
  1: require('dotenv').config();
  2: const axios = require('axios');
  3: 
  4: const BASE_URL = process.env.API_BASE_URL || 'http://localhost:3000';
  5: const API_URL = `${BASE_URL}/api`;
  6: 
  7: 
  8: const colors = {
  9:   reset: '\x1b[0m',
 10:   bright: '\x1b[1m',
 11:   green: '\x1b[32m',
 12:   red: '\x1b[31m',
 13:   yellow: '\x1b[33m',
 14:   blue: '\x1b[34m',
 15:   cyan: '\x1b[36m',
 16:   magenta: '\x1b[35m'
 17: };
 18: 
 19: 
 20: const TEST_USER = {
 21:   email: 'fabila@gmail.com',
 22:   password: 'Cholo12345@'
 23: };
 24: 
 25: let authToken = null;
 26: 
 27: 
 28: 
 29: 
 30: function log(message, color = colors.reset) {
 31:   console.log(`${color}${message}${colors.reset}`);
 32: }
 33: 
 34: 
 35: 
 36: 
 37: function printHeader(title) {
 38:   log('\n' + '='.repeat(80), colors.cyan);
 39:   log(`  ${title}`, colors.cyan + colors.bright);
 40:   log('='.repeat(80), colors.cyan);
 41: }
 42: 
 43: 
 44: 
 45: 
 46: function printObjectStructure(obj, indent = '') {
 47:   for (const [key, value] of Object.entries(obj)) {
 48:     const type = Array.isArray(value) ? 'array' : typeof value;
 49:     const displayValue = type === 'object' && value !== null ? '{...}' :
 50:                         type === 'array' ? `[${value.length} items]` :
 51:                         type === 'string' ? `"${value.substring(0, 30)}${value.length > 30 ? '...' : ''}"` :
 52:                         value;
 53: 
 54:     log(`${indent}${key}: ${colors.yellow}${type}${colors.reset} = ${displayValue}`, colors.reset);
 55: 
 56:     if (type === 'object' && value !== null && !Array.isArray(value)) {
 57:       printObjectStructure(value, indent + '  ');
 58:     }
 59:   }
 60: }
 61: 
 62: 
 63: 
 64: 
 65: async function testLogin() {
 66:   printHeader('TEST 1: Login');
 67: 
 68:   try {
 69:     const response = await axios.post(`${API_URL}/auth/login`, TEST_USER);
 70: 
 71:     if (response.data.success && response.data.token) {
 72:       authToken = response.data.token;
 73:       log('✅ Login successful', colors.green);
 74:       log(`   Token: ${authToken.substring(0, 20)}...`, colors.reset);
 75:       return true;
 76:     } else {
 77:       log('❌ Login failed - No token received', colors.red);
 78:       return false;
 79:     }
 80:   } catch (error) {
 81:     log(`❌ Login error: ${error.response?.data?.message || error.message}`, colors.red);
 82:     return false;
 83:   }
 84: }
 85: 
 86: 
 87: 
 88: 
 89: async function testMyBookingsContract() {
 90:   printHeader('TEST 2: API Contract - GET /api/payment/my-bookings');
 91: 
 92:   try {
 93:     const response = await axios.get(`${API_URL}/payment/my-bookings`, {
 94:       headers: {
 95:         'Authorization': `Bearer ${authToken}`
 96:       }
 97:     });
 98: 
 99:     log('✅ Request successful', colors.green);
100:     log(`   Status: ${response.status}`, colors.reset);
101: 
102: 
103:     log('\n📦 TOP-LEVEL RESPONSE STRUCTURE:', colors.cyan);
104:     printObjectStructure(response.data);
105: 
106: 
107:     if (!response.data.bookings) {
108:       log('\n⚠️  WARNING: No "bookings" property found in response', colors.yellow);
109:       return false;
110:     }
111: 
112:     if (!Array.isArray(response.data.bookings)) {
113:       log('\n❌ ERROR: "bookings" is not an array', colors.red);
114:       return false;
115:     }
116: 
117:     log(`\n📊 Found ${response.data.bookings.length} booking(s)`, colors.cyan);
118: 
119:     if (response.data.bookings.length === 0) {
120:       log('⚠️  No bookings to analyze. Create a test booking first.', colors.yellow);
121:       return true;
122:     }
123: 
124: 
125:     const firstBooking = response.data.bookings[0];
126:     log('\n🔍 FIRST BOOKING STRUCTURE:', colors.cyan);
127:     printObjectStructure(firstBooking);
128: 
129: 
130:     log('\n🧪 CONTRACT VERIFICATION:', colors.magenta);
131: 
132:     const camelCaseKeys = [
133:       'bookingId', 'referenceCode', 'guestName', 'checkInTime',
134:       'checkOutTime', 'totalAmount', 'roomName', 'roomId', 'paymentStatus'
135:     ];
136: 
137:     const snakeCaseKeys = [
138:       'booking_id', 'reference_code', 'guest_name', 'check_in_time',
139:       'check_out_time', 'total_amount', 'room_name', 'room_id', 'payment_status'
140:     ];
141: 
142:     let camelCaseCount = 0;
143:     let snakeCaseCount = 0;
144: 
145:     log('\n  Checking for camelCase keys:', colors.cyan);
146:     camelCaseKeys.forEach(key => {
147:       const exists = key in firstBooking;
148:       camelCaseCount += exists ? 1 : 0;
149:       const symbol = exists ? '✅' : '❌';
150:       log(`    ${symbol} ${key}: ${exists ? 'FOUND' : 'MISSING'}`, exists ? colors.green : colors.red);
151:     });
152: 
153:     log('\n  Checking for snake_case keys:', colors.cyan);
154:     snakeCaseKeys.forEach(key => {
155:       const exists = key in firstBooking;
156:       snakeCaseCount += exists ? 1 : 0;
157:       const symbol = exists ? '⚠️' : '✅';
158:       log(`    ${symbol} ${key}: ${exists ? 'FOUND (unexpected)' : 'NOT FOUND (expected)'}`, exists ? colors.yellow : colors.green);
159:     });
160: 
161: 
162:     log('\n📋 CONTRACT VERDICT:', colors.cyan + colors.bright);
163: 
164:     if (camelCaseCount > snakeCaseCount) {
165:       log(`  ✅ Backend is using CAMELCASE (${camelCaseCount}/${camelCaseKeys.length} keys found)`, colors.green);
166:       log(`  ✅ Frontend should use: booking.referenceCode, booking.checkInTime, etc.`, colors.green);
167:     } else if (snakeCaseCount > camelCaseCount) {
168:       log(`  ⚠️  Backend is using SNAKE_CASE (${snakeCaseCount}/${snakeCaseKeys.length} keys found)`, colors.yellow);
169:       log(`  ⚠️  Frontend should use: booking.reference_code, booking.check_in_time, etc.`, colors.yellow);
170:     } else {
171:       log(`  ⚠️  MIXED CASING DETECTED - This may cause bugs!`, colors.yellow);
172:     }
173: 
174: 
175:     log('\n💡 CORRECT DATA ACCESS EXAMPLES:', colors.cyan);
176:     log(`  Reference Code: ${firstBooking.referenceCode ?? firstBooking.reference_code ?? 'N/A'}`, colors.reset);
177:     log(`  Guest Name: ${firstBooking.guestName ?? firstBooking.guest_name ?? 'N/A'}`, colors.reset);
178:     log(`  Check-in Time: ${firstBooking.checkInTime ?? firstBooking.check_in_time ?? 'N/A'}`, colors.reset);
179:     log(`  Total Amount: ${firstBooking.totalAmount ?? firstBooking.total_amount ?? 'N/A'}`, colors.reset);
180:     log(`  Room Name: ${firstBooking.roomName ?? firstBooking.room_name ?? firstBooking.room?.name ?? 'N/A'}`, colors.reset);
181: 
182:     return true;
183: 
184:   } catch (error) {
185:     log(`❌ Request failed: ${error.response?.data?.message || error.message}`, colors.red);
186:     if (error.response?.status === 401) {
187:       log('   Hint: Authentication failed - token may be invalid', colors.yellow);
188:     }
189:     return false;
190:   }
191: }
192: 
193: 
194: 
195: 
196: async function testBookingByReferenceContract() {
197:   printHeader('TEST 3: API Contract - GET /api/payment/verify/:referenceCode');
198: 
199:   try {
200: 
201:     const bookingsResponse = await axios.get(`${API_URL}/payment/my-bookings`, {
202:       headers: { 'Authorization': `Bearer ${authToken}` }
203:     });
204: 
205:     if (!bookingsResponse.data.bookings || bookingsResponse.data.bookings.length === 0) {
206:       log('⚠️  No bookings available to test. Skipping.', colors.yellow);
207:       return true;
208:     }
209: 
210:     const referenceCode = bookingsResponse.data.bookings[0].referenceCode ??
211:                          bookingsResponse.data.bookings[0].reference_code;
212: 
213:     if (!referenceCode) {
214:       log('❌ Could not extract reference code from booking', colors.red);
215:       return false;
216:     }
217: 
218:     log(`   Testing with reference: ${referenceCode}`, colors.cyan);
219: 
220: 
221:     const response = await axios.get(`${API_URL}/payment/verify/${referenceCode}`);
222: 
223:     log('✅ Request successful', colors.green);
224: 
225:     log('\n📦 VERIFY RESPONSE STRUCTURE:', colors.cyan);
226:     printObjectStructure(response.data);
227: 
228:     if (response.data.booking) {
229:       log('\n🔍 BOOKING OBJECT STRUCTURE:', colors.cyan);
230:       printObjectStructure(response.data.booking);
231:     }
232: 
233:     return true;
234: 
235:   } catch (error) {
236:     log(`❌ Request failed: ${error.response?.data?.message || error.message}`, colors.red);
237:     return false;
238:   }
239: }
240: 
241: 
242: 
243: 
244: async function runContractTests() {
245:   log('\n' + '█'.repeat(80), colors.magenta);
246:   log('  API CONTRACT VERIFICATION TEST SUITE', colors.magenta + colors.bright);
247:   log('  Purpose: Verify exact API response structure (snake_case vs camelCase)', colors.magenta);
248:   log('█'.repeat(80) + '\n', colors.magenta);
249: 
250:   const results = {
251:     total: 0,
252:     passed: 0,
253:     failed: 0
254:   };
255: 
256: 
257:   results.total++;
258:   if (await testLogin()) {
259:     results.passed++;
260:   } else {
261:     results.failed++;
262:     log('\n❌ Cannot proceed without authentication', colors.red);
263:     printSummary(results);
264:     return;
265:   }
266: 
267: 
268:   results.total++;
269:   if (await testMyBookingsContract()) {
270:     results.passed++;
271:   } else {
272:     results.failed++;
273:   }
274: 
275: 
276:   results.total++;
277:   if (await testBookingByReferenceContract()) {
278:     results.passed++;
279:   } else {
280:     results.failed++;
281:   }
282: 
283: 
284:   printSummary(results);
285: }
286: 
287: 
288: 
289: 
290: function printSummary(results) {
291:   printHeader('TEST SUMMARY');
292: 
293:   log(`Total Tests: ${results.total}`, colors.cyan);
294:   log(`Passed: ${results.passed}`, colors.green);
295:   log(`Failed: ${results.failed}`, results.failed > 0 ? colors.red : colors.green);
296: 
297:   if (results.failed === 0) {
298:     log('\n✅ ALL TESTS PASSED! API contract is verified.', colors.green + colors.bright);
299:   } else {
300:     log('\n❌ SOME TESTS FAILED. Review the output above.', colors.red + colors.bright);
301:   }
302: 
303:   log('\n' + '='.repeat(80) + '\n', colors.cyan);
304: }
305: 
306: 
307: runContractTests().catch(error => {
308:   log(`\n💥 Fatal error: ${error.message}`, colors.red);
309:   console.error(error);
310:   process.exit(1);
311: });
</file>

<file path="server/scripts/test-data-integrity.js">
  1: require('dotenv').config();
  2: const axios = require('axios');
  3: 
  4: const BASE_URL = process.env.API_BASE_URL || 'http://localhost:3000';
  5: const API_URL = `${BASE_URL}/api`;
  6: 
  7: 
  8: const colors = {
  9:   reset: '\x1b[0m',
 10:   red: '\x1b[31m',
 11:   green: '\x1b[32m',
 12:   yellow: '\x1b[33m',
 13:   cyan: '\x1b[36m',
 14:   dim: '\x1b[2m'
 15: };
 16: 
 17: 
 18: const TEST_USER = {
 19:   email: 'testuser@example.com',
 20:   password: 'TestPassword123!'
 21: };
 22: 
 23: let authToken = null;
 24: 
 25: 
 26: const results = {
 27:   passed: 0,
 28:   failed: 0,
 29:   tests: []
 30: };
 31: 
 32: 
 33: 
 34: 
 35: function logTest(testName, passed, expected, actual) {
 36:   const status = passed
 37:     ? `${colors.green}✅ PASS${colors.reset}`
 38:     : `${colors.red}❌ FAIL${colors.reset}`;
 39: 
 40:   console.log(`\n${status} ${testName}`);
 41: 
 42:   if (!passed) {
 43:     console.log(`${colors.dim}Expected: ${expected}${colors.reset}`);
 44:     console.log(`${colors.dim}Actual: ${actual}${colors.reset}`);
 45:   }
 46: 
 47:   results.tests.push({ name: testName, passed });
 48:   if (passed) results.passed++;
 49:   else results.failed++;
 50: }
 51: 
 52: 
 53: 
 54: 
 55: function formatDate(date) {
 56:   return date.toISOString().split('T')[0];
 57: }
 58: 
 59: 
 60: 
 61: 
 62: function formatTime(date) {
 63:   const hours = String(date.getHours()).padStart(2, '0');
 64: 
 65:   const minutes = Math.round(date.getMinutes() / 5) * 5;
 66:   const roundedMinutes = String(minutes).padStart(2, '0');
 67:   return `${hours}:${roundedMinutes}`;
 68: }
 69: 
 70: 
 71: 
 72: 
 73: async function testLogin() {
 74:   console.log(`\n${colors.cyan}═══════════════════════════════════════${colors.reset}`);
 75:   console.log(`${colors.cyan}TEST 1: Authentication${colors.reset}`);
 76:   console.log(`${colors.cyan}═══════════════════════════════════════${colors.reset}`);
 77: 
 78:   try {
 79:     const response = await axios.post(`${API_URL}/auth/login`, TEST_USER);
 80: 
 81:     if (response.data.token) {
 82:       authToken = response.data.token;
 83:       logTest('Login successful', true, 'JWT token', 'JWT token received');
 84:       return true;
 85:     } else {
 86:       logTest('Login successful', false, 'JWT token', 'No token received');
 87:       return false;
 88:     }
 89:   } catch (error) {
 90:     console.error(`${colors.red}❌ Login failed: ${error.response?.data?.message || error.message}${colors.reset}`);
 91:     console.error(`${colors.yellow}⚠️  Please ensure test user exists with credentials:${colors.reset}`);
 92:     console.error(`   Email: ${TEST_USER.email}`);
 93:     console.error(`   Password: ${TEST_USER.password}`);
 94:     return false;
 95:   }
 96: }
 97: 
 98: 
 99: 
100: 
101: async function testPastDateBooking() {
102:   console.log(`\n${colors.cyan}═══════════════════════════════════════${colors.reset}`);
103:   console.log(`${colors.cyan}TEST 2: Past Date Validation${colors.reset}`);
104:   console.log(`${colors.cyan}═══════════════════════════════════════${colors.reset}`);
105: 
106: 
107:   const pastDate = new Date();
108:   pastDate.setHours(pastDate.getHours() - 1);
109: 
110:   const bookingData = {
111:     roomSlug: 'deluxe-room',
112:     checkInDate: formatDate(pastDate),
113:     checkInTime: formatTime(pastDate),
114:     duration: '3',
115:     guestInfo: {
116:       firstName: 'Test',
117:       lastName: 'User',
118:       email: 'test@example.com',
119:       phone: '+63 912 345 6789'
120:     }
121:   };
122: 
123:   console.log(`${colors.dim}Attempting to book: ${bookingData.checkInDate} ${bookingData.checkInTime}${colors.reset}`);
124: 
125:   try {
126:     const response = await axios.post(
127:       `${API_URL}/payment/create-checkout`,
128:       bookingData,
129:       { headers: { Authorization: `Bearer ${authToken}` } }
130:     );
131: 
132: 
133:     logTest(
134:       'Reject past date booking',
135:       false,
136:       '400 Bad Request with "Cannot book dates in the past"',
137:       `${response.status} - Booking was accepted (security issue!)`
138:     );
139:   } catch (error) {
140:     const status = error.response?.status;
141:     const message = error.response?.data?.message;
142: 
143:     const isPassed =
144:       status === 400 &&
145:       message &&
146:       message.toLowerCase().includes('past');
147: 
148:     logTest(
149:       'Reject past date booking',
150:       isPassed,
151:       '400 with "Cannot book dates in the past"',
152:       `${status} - "${message}"`
153:     );
154:   }
155: }
156: 
157: 
158: 
159: 
160: async function testFarFutureBooking() {
161:   console.log(`\n${colors.cyan}═══════════════════════════════════════${colors.reset}`);
162:   console.log(`${colors.cyan}TEST 3: Far Future Validation${colors.reset}`);
163:   console.log(`${colors.cyan}═══════════════════════════════════════${colors.reset}`);
164: 
165: 
166:   const farFuture = new Date();
167:   farFuture.setFullYear(farFuture.getFullYear() + 2);
168: 
169:   const bookingData = {
170:     roomSlug: 'deluxe-room',
171:     checkInDate: formatDate(farFuture),
172:     checkInTime: formatTime(farFuture),
173:     duration: '3',
174:     guestInfo: {
175:       firstName: 'Test',
176:       lastName: 'User',
177:       email: 'test@example.com',
178:       phone: '+63 912 345 6789'
179:     }
180:   };
181: 
182:   console.log(`${colors.dim}Attempting to book: ${bookingData.checkInDate} ${bookingData.checkInTime}${colors.reset}`);
183: 
184:   try {
185:     const response = await axios.post(
186:       `${API_URL}/payment/create-checkout`,
187:       bookingData,
188:       { headers: { Authorization: `Bearer ${authToken}` } }
189:     );
190: 
191: 
192:     logTest(
193:       'Reject far future booking (>1 year)',
194:       false,
195:       '400 Bad Request with "Bookings limited to 1 year"',
196:       `${response.status} - Booking was accepted (should be limited)`
197:     );
198:   } catch (error) {
199:     const status = error.response?.status;
200:     const message = error.response?.data?.message;
201: 
202:     const isPassed =
203:       status === 400 &&
204:       message &&
205:       (message.toLowerCase().includes('1 year') || message.toLowerCase().includes('advance'));
206: 
207:     logTest(
208:       'Reject far future booking (>1 year)',
209:       isPassed,
210:       '400 with "Bookings limited to 1 year in advance"',
211:       `${status} - "${message}"`
212:     );
213:   }
214: }
215: 
216: 
217: 
218: 
219: async function test404ErrorFormat() {
220:   console.log(`\n${colors.cyan}═══════════════════════════════════════${colors.reset}`);
221:   console.log(`${colors.cyan}TEST 4: 404 Error Response Format${colors.reset}`);
222:   console.log(`${colors.cyan}═══════════════════════════════════════${colors.reset}`);
223: 
224:   try {
225:     await axios.get(`${API_URL}/this-route-does-not-exist`);
226: 
227: 
228:     logTest(
229:       '404 returns JSON error',
230:       false,
231:       '404 with JSON error message',
232:       '200 - Route exists (unexpected)'
233:     );
234:   } catch (error) {
235:     const status = error.response?.status;
236:     const data = error.response?.data;
237: 
238:     const isJSON = data && typeof data === 'object';
239:     const hasMessage = isJSON && data.message;
240:     const isPassed = status === 404 && isJSON && hasMessage;
241: 
242:     logTest(
243:       '404 returns JSON error',
244:       isPassed,
245:       '404 with JSON {message: "..."}',
246:       `${status} - ${isJSON ? 'JSON response' : 'Non-JSON response'} - Message: "${data?.message}"`
247:     );
248:   }
249: }
250: 
251: 
252: 
253: 
254: async function testValidBooking() {
255:   console.log(`\n${colors.cyan}═══════════════════════════════════════${colors.reset}`);
256:   console.log(`${colors.cyan}TEST 5: Valid Booking (Control Test)${colors.reset}`);
257:   console.log(`${colors.cyan}═══════════════════════════════════════${colors.reset}`);
258: 
259: 
260:   const validDate = new Date();
261:   validDate.setHours(validDate.getHours() + 24);
262: 
263:   validDate.setMinutes(Math.ceil(validDate.getMinutes() / 5) * 5);
264:   validDate.setSeconds(0);
265: 
266:   const bookingData = {
267:     roomSlug: 'value-room',
268:     checkInDate: formatDate(validDate),
269:     checkInTime: formatTime(validDate),
270:     duration: '3',
271:     guestInfo: {
272:       firstName: 'Test',
273:       lastName: 'User',
274:       email: 'test@example.com',
275:       phone: '+63 912 345 6789'
276:     }
277:   };
278: 
279:   console.log(`${colors.dim}Attempting to book: ${bookingData.checkInDate} ${bookingData.checkInTime}${colors.reset}`);
280: 
281:   try {
282:     const response = await axios.post(
283:       `${API_URL}/payment/create-checkout`,
284:       bookingData,
285:       { headers: { Authorization: `Bearer ${authToken}` } }
286:     );
287: 
288:     const hasCheckoutUrl = response.data?.checkoutUrl;
289:     const hasReference = response.data?.referenceCode;
290:     const isPassed = response.status === 200 && hasCheckoutUrl && hasReference;
291: 
292:     logTest(
293:       'Accept valid booking',
294:       isPassed,
295:       '200 with checkoutUrl and referenceCode',
296:       `${response.status} - ${hasCheckoutUrl ? 'Has checkout URL' : 'Missing URL'} - ${hasReference ? `Ref: ${response.data.referenceCode}` : 'No reference'}`
297:     );
298:   } catch (error) {
299:     const status = error.response?.status;
300:     const message = error.response?.data?.message;
301: 
302:     logTest(
303:       'Accept valid booking',
304:       false,
305:       '200 Success',
306:       `${status} - Error: "${message}"`
307:     );
308:   }
309: }
310: 
311: 
312: 
313: 
314: async function runTests() {
315:   console.log(`\n${colors.cyan}╔═══════════════════════════════════════════════════════════╗${colors.reset}`);
316:   console.log(`${colors.cyan}║       🧪 DATA INTEGRITY & UX TEST SUITE                   ║${colors.reset}`);
317:   console.log(`${colors.cyan}║       Testing Date Boundaries & Error Handling           ║${colors.reset}`);
318:   console.log(`${colors.cyan}╚═══════════════════════════════════════════════════════════╝${colors.reset}`);
319:   console.log(`\n${colors.dim}API Base URL: ${BASE_URL}${colors.reset}`);
320: 
321: 
322:   const loginSuccess = await testLogin();
323:   if (!loginSuccess) {
324:     console.error(`\n${colors.red}❌ Cannot proceed without authentication${colors.reset}`);
325:     process.exit(1);
326:   }
327: 
328: 
329:   await testPastDateBooking();
330:   await testFarFutureBooking();
331:   await test404ErrorFormat();
332:   await testValidBooking();
333: 
334: 
335:   console.log(`\n${colors.cyan}═══════════════════════════════════════${colors.reset}`);
336:   console.log(`${colors.cyan}TEST SUMMARY${colors.reset}`);
337:   console.log(`${colors.cyan}═══════════════════════════════════════${colors.reset}`);
338:   console.log(`${colors.green}✅ Passed: ${results.passed}${colors.reset}`);
339:   console.log(`${colors.red}❌ Failed: ${results.failed}${colors.reset}`);
340:   console.log(`Total: ${results.tests.length}`);
341: 
342:   if (results.failed === 0) {
343:     console.log(`\n${colors.green}🎉 ALL TESTS PASSED! Data integrity is solid.${colors.reset}`);
344:     process.exit(0);
345:   } else {
346:     console.log(`\n${colors.red}⚠️  SOME TESTS FAILED. Please review the implementation.${colors.reset}`);
347:     process.exit(1);
348:   }
349: }
350: 
351: 
352: runTests().catch(error => {
353:   console.error(`\n${colors.red}❌ Test suite crashed:${colors.reset}`, error.message);
354:   process.exit(1);
355: });
</file>

<file path="server/scripts/test-final-boss.js">
  1: const crypto = require('crypto');
  2: const axios = require('axios');
  3: require('dotenv').config();
  4: 
  5: const BASE_URL = 'http://localhost:3000/api';
  6: const WEBHOOK_SECRET = process.env.PAYMONGO_WEBHOOK_SECRET;
  7: 
  8: 
  9: const log = (msg, color = '\x1b[0m') => console.log(color + msg + '\x1b[0m');
 10: const GREEN = '\x1b[32m';
 11: const RED = '\x1b[31m';
 12: const YELLOW = '\x1b[33m';
 13: 
 14: 
 15: function generateSignature(payload) {
 16:     return crypto
 17:         .createHmac('sha256', WEBHOOK_SECRET)
 18:         .update(JSON.stringify(payload))
 19:         .digest('hex');
 20: }
 21: 
 22: async function runTests() {
 23:     log('\n⚔️  STARTING FINAL BOSS TESTS (Webhook & Race Condition)\n', YELLOW);
 24: 
 25: 
 26:     let token;
 27:     try {
 28:         const email = `tester_${Date.now()}@example.com`;
 29:         await axios.post(`${BASE_URL}/auth/signup`, {
 30:             firstName: 'Race', lastName: 'Tester',
 31:             email, phone: '09170000000', password: 'Password123!'
 32:         });
 33:         const loginRes = await axios.post(`${BASE_URL}/auth/login`, {
 34:             email, password: 'Password123!'
 35:         });
 36:         token = loginRes.data.token;
 37:         log('✅ Setup: Test User Created & Logged In', GREEN);
 38:     } catch (err) {
 39:         log('❌ Setup Failed: ' + (err.response?.data?.message || err.message), RED);
 40:         process.exit(1);
 41:     }
 42: 
 43: 
 44:     log('\n--- Test 1: Webhook Security ---', YELLOW);
 45: 
 46: 
 47:     try {
 48:         await axios.post(`${BASE_URL}/payment/webhook`, { type: 'test' });
 49:         log('❌ FAIL: Accepted webhook without signature', RED);
 50:     } catch (err) {
 51:         if (err.response?.status === 401) log('✅ PASS: Rejected missing signature', GREEN);
 52:         else log(`❌ FAIL: Unexpected status ${err.response?.status}`, RED);
 53:     }
 54: 
 55: 
 56:     try {
 57:         const payload = {
 58:             data: {
 59:                 attributes: {
 60:                     type: 'checkout_session.payment.paid',
 61:                     data: { attributes: { checkout_session_id: 'test_session' } }
 62:                 }
 63:             }
 64:         };
 65:         const signature = generateSignature(payload);
 66: 
 67:         await axios.post(`${BASE_URL}/payment/webhook`, payload, {
 68:             headers: { 'paymongo-signature': signature }
 69:         });
 70:         log('✅ PASS: Accepted valid signature', GREEN);
 71:     } catch (err) {
 72:         log(`❌ FAIL: Rejected valid signature (Status ${err.response?.status})`, RED);
 73:         if(err.response?.status === 500) log('   (Note: 500 might mean logic inside webhook failed, but auth passed)', YELLOW);
 74:     }
 75: 
 76: 
 77:     log('\n--- Test 2: Race Condition (Double Booking) ---', YELLOW);
 78:     log('🚀 Firing 5 simultaneous booking requests for the SAME room...', YELLOW);
 79: 
 80:     const bookingPayload = {
 81:         roomSlug: 'superior-room',
 82:         checkInDate: '2026-12-25',
 83:         checkInTime: '14:00',
 84:         duration: '12',
 85:         guestInfo: { firstName: 'Race', lastName: 'Test', email: 'race@test.com', phone: '09170000000' }
 86:     };
 87: 
 88:     const requests = Array(5).fill().map(() =>
 89:         axios.post(`${BASE_URL}/payment/create-checkout`, bookingPayload, {
 90:             headers: { Authorization: `Bearer ${token}` }
 91:         }).then(res => ({ status: res.status, data: res.data }))
 92:           .catch(err => ({ status: err.response?.status, data: err.response?.data }))
 93:     );
 94: 
 95:     const results = await Promise.all(requests);
 96: 
 97:     const successes = results.filter(r => r.status === 200).length;
 98:     const conflicts = results.filter(r => r.status === 409 || r.status === 500).length;
 99: 
100:     log(`\nResults: ${successes} Success, ${conflicts} Failed/Conflict`);
101: 
102:     if (successes === 1) {
103:         log('✅ PASS: Exactly one booking succeeded. Race condition prevented.', GREEN);
104:     } else if (successes === 0) {
105:         log('⚠️ WARN: All failed. Check if room is available at all.', YELLOW);
106:     } else {
107:         log(`❌ FAIL: ${successes} bookings succeeded! Double booking detected!`, RED);
108:     }
109: }
110: 
111: runTests();
</file>

<file path="server/scripts/test-high-priority.js">
  1: const http = require('http');
  2: 
  3: 
  4: const colors = {
  5:   reset: '\x1b[0m',
  6:   green: '\x1b[32m',
  7:   red: '\x1b[31m',
  8:   yellow: '\x1b[33m',
  9:   cyan: '\x1b[36m',
 10:   bold: '\x1b[1m'
 11: };
 12: 
 13: 
 14: 
 15: 
 16: function makeRequest(path, data) {
 17:   return new Promise((resolve, reject) => {
 18:     const postData = JSON.stringify(data);
 19: 
 20:     const options = {
 21:       hostname: 'localhost',
 22:       port: 3000,
 23:       path: path,
 24:       method: 'POST',
 25:       headers: {
 26:         'Content-Type': 'application/json',
 27:         'Content-Length': Buffer.byteLength(postData)
 28:       }
 29:     };
 30: 
 31:     const req = http.request(options, (res) => {
 32:       let body = '';
 33: 
 34:       res.on('data', (chunk) => {
 35:         body += chunk;
 36:       });
 37: 
 38:       res.on('end', () => {
 39:         try {
 40:           const jsonResponse = JSON.parse(body);
 41:           resolve({
 42:             status: res.statusCode,
 43:             body: jsonResponse,
 44:             headers: res.headers
 45:           });
 46:         } catch (e) {
 47:           resolve({
 48:             status: res.statusCode,
 49:             body: { raw: body },
 50:             headers: res.headers
 51:           });
 52:         }
 53:       });
 54:     });
 55: 
 56:     req.on('error', (err) => {
 57:       reject(err);
 58:     });
 59: 
 60:     req.write(postData);
 61:     req.end();
 62:   });
 63: }
 64: 
 65: 
 66: 
 67: 
 68: function printResult(testName, passed, expected, actual) {
 69:   const status = passed
 70:     ? `${colors.green}${colors.bold}✓ PASS${colors.reset}`
 71:     : `${colors.red}${colors.bold}✗ FAIL${colors.reset}`;
 72: 
 73:   console.log(`\n${status} ${testName}`);
 74:   console.log(`  Expected: ${expected}`);
 75:   console.log(`  Actual:   ${actual}`);
 76: }
 77: 
 78: 
 79: 
 80: 
 81: function sleep(ms) {
 82:   return new Promise(resolve => setTimeout(resolve, ms));
 83: }
 84: 
 85: 
 86: 
 87: 
 88: async function runTests() {
 89:   console.log(`\n${colors.cyan}${colors.bold}═══════════════════════════════════════════════════════════${colors.reset}`);
 90:   console.log(`${colors.cyan}${colors.bold}  High Priority Security Fixes - Verification Tests${colors.reset}`);
 91:   console.log(`${colors.cyan}${colors.bold}  Sections: 2.1, 2.4, 2.5${colors.reset}`);
 92:   console.log(`${colors.cyan}${colors.bold}═══════════════════════════════════════════════════════════${colors.reset}\n`);
 93: 
 94:   let passedTests = 0;
 95:   let totalTests = 2;
 96: 
 97: 
 98:   console.log(`${colors.yellow}Test 1: Input Sanitization (Section 2.4)${colors.reset}`);
 99:   console.log(`${colors.cyan}Testing HTML/Script tag stripping...${colors.reset}`);
100: 
101:   try {
102:     const timestamp = Date.now();
103:     const maliciousInput = {
104:       firstName: '<script>alert("XSS")</script>Malicious',
105:       lastName: '<b>Bold</b>User',
106:       email: `sanitize${timestamp}@example.com`,
107:       phone: '09171234567',
108:       password: 'StrongP@ss1!'
109:     };
110: 
111:     const response1 = await makeRequest('/api/auth/signup', maliciousInput);
112: 
113: 
114: 
115: 
116: 
117: 
118: 
119:     const responseString = JSON.stringify(response1.body);
120:     const containsScriptTag = responseString.includes('<script>') ||
121:                               responseString.includes('</script>') ||
122:                               responseString.includes('<b>') ||
123:                               responseString.includes('</b>');
124: 
125: 
126:     const passed1 = !containsScriptTag && (response1.status === 201 || response1.status === 400);
127: 
128:     if (passed1) passedTests++;
129: 
130:     printResult(
131:       'Input Sanitization (HTML/Script removal)',
132:       passed1,
133:       'No HTML tags in response, status 201 or 400',
134:       `${response1.status} - Script tags removed: ${!containsScriptTag}`
135:     );
136: 
137:     if (response1.status === 201 && response1.body.user) {
138:       console.log(`  ${colors.cyan}Sanitized firstName: "${response1.body.user.firstName}"${colors.reset}`);
139:       console.log(`  ${colors.cyan}Sanitized lastName: "${response1.body.user.lastName}"${colors.reset}`);
140:     }
141:   } catch (err) {
142:     printResult('Input Sanitization', false, '201 or 400', `Connection error: ${err.message}`);
143:   }
144: 
145: 
146:   console.log(`\n${colors.cyan}Waiting 2 seconds before rate limit test...${colors.reset}`);
147:   await sleep(2000);
148: 
149: 
150:   console.log(`\n${colors.yellow}Test 2: Authentication Rate Limiting (Section 2.5)${colors.reset}`);
151:   console.log(`${colors.cyan}Sending 10 login requests rapidly (limit is 5 per 15 min)...${colors.reset}`);
152: 
153:   try {
154:     const loginData = {
155:       email: 'ratetest@example.com',
156:       password: 'TestP@ss1!'
157:     };
158: 
159:     let rateLimitTriggered = false;
160:     let triggerAttempt = 0;
161:     let responses = [];
162: 
163: 
164:     for (let i = 1; i <= 10; i++) {
165:       const response = await makeRequest('/api/auth/login', loginData);
166:       responses.push({ attempt: i, status: response.status });
167: 
168:       console.log(`  Attempt ${i}: Status ${response.status}`);
169: 
170: 
171:       if (response.status === 429 && !rateLimitTriggered) {
172:         rateLimitTriggered = true;
173:         triggerAttempt = i;
174:       }
175: 
176: 
177:       await sleep(50);
178:     }
179: 
180: 
181: 
182:     const passed2 = rateLimitTriggered && (triggerAttempt === 5 || triggerAttempt === 6);
183: 
184:     if (passed2) passedTests++;
185: 
186:     printResult(
187:       'Rate Limiting (Auth endpoints)',
188:       passed2,
189:       '5th or 6th request returns 429 (Too Many Requests)',
190:       rateLimitTriggered
191:         ? `Rate limit triggered at attempt ${triggerAttempt}`
192:         : 'Rate limit NOT triggered'
193:     );
194: 
195: 
196:     if (rateLimitTriggered) {
197:       const failedResponse = await makeRequest('/api/auth/login', loginData);
198:       if (failedResponse.headers['ratelimit-limit']) {
199:         console.log(`  ${colors.cyan}RateLimit-Limit: ${failedResponse.headers['ratelimit-limit']}${colors.reset}`);
200:         console.log(`  ${colors.cyan}RateLimit-Remaining: ${failedResponse.headers['ratelimit-remaining']}${colors.reset}`);
201:         console.log(`  ${colors.cyan}RateLimit-Reset: ${failedResponse.headers['ratelimit-reset']}${colors.reset}`);
202:       }
203:     }
204:   } catch (err) {
205:     printResult('Rate Limiting', false, '429 on 6th attempt', `Connection error: ${err.message}`);
206:   }
207: 
208: 
209:   console.log(`\n${colors.cyan}${colors.bold}═══════════════════════════════════════════════════════════${colors.reset}`);
210:   console.log(`${colors.cyan}${colors.bold}  Test Summary${colors.reset}`);
211:   console.log(`${colors.cyan}${colors.bold}═══════════════════════════════════════════════════════════${colors.reset}\n`);
212: 
213:   const allPassed = passedTests === totalTests;
214:   const summaryColor = allPassed ? colors.green : colors.red;
215: 
216:   console.log(`  ${summaryColor}${colors.bold}${passedTests}/${totalTests} tests passed${colors.reset}`);
217: 
218:   if (allPassed) {
219:     console.log(`\n  ${colors.green}${colors.bold}✓ ALL HIGH PRIORITY FIXES VERIFIED!${colors.reset}`);
220:     console.log(`\n  ${colors.cyan}Note: Rate limits will reset after 15 minutes.${colors.reset}`);
221:     console.log(`  ${colors.cyan}To test again, wait 15 minutes or restart the server.${colors.reset}\n`);
222:     process.exit(0);
223:   } else {
224:     console.log(`\n  ${colors.red}${colors.bold}✗ Some tests failed. Please review the implementation.${colors.reset}\n`);
225:     process.exit(1);
226:   }
227: }
228: 
229: 
230: console.log(`${colors.cyan}Checking if server is running on http://localhost:3000...${colors.reset}`);
231: 
232: const checkReq = http.request({
233:   hostname: 'localhost',
234:   port: 3000,
235:   path: '/api/rooms',
236:   method: 'GET'
237: }, (res) => {
238:   console.log(`${colors.green}✓ Server is running${colors.reset}`);
239:   runTests().catch(err => {
240:     console.error(`\n${colors.red}Test execution error: ${err.message}${colors.reset}\n`);
241:     process.exit(1);
242:   });
243: });
244: 
245: checkReq.on('error', (err) => {
246:   console.error(`\n${colors.red}✗ Cannot connect to server on http://localhost:3000${colors.reset}`);
247:   console.error(`  Error: ${err.message}`);
248:   console.error(`\n  ${colors.yellow}Please start the server first:${colors.reset}`);
249:   console.error(`  ${colors.yellow}cd server && node server.js${colors.reset}\n`);
250:   process.exit(1);
251: });
252: 
253: checkReq.end();
</file>

<file path="server/scripts/test-idor-fix.js">
  1: const http = require('http');
  2: 
  3: 
  4: const colors = {
  5:   reset: '\x1b[0m',
  6:   red: '\x1b[31m',
  7:   green: '\x1b[32m',
  8:   yellow: '\x1b[33m',
  9:   blue: '\x1b[34m',
 10:   cyan: '\x1b[36m',
 11:   bold: '\x1b[1m'
 12: };
 13: 
 14: 
 15: const API_BASE = 'http://localhost:3000/api';
 16: const TEST_USER = {
 17:   email: 'test@example.com',
 18:   password: 'password123',
 19:   firstName: 'Test',
 20:   lastName: 'User',
 21:   phone: '09171234567'
 22: };
 23: 
 24: 
 25: function makeRequest(method, path, body = null, token = null) {
 26:   return new Promise((resolve, reject) => {
 27:     const url = new URL(API_BASE + path);
 28:     const options = {
 29:       hostname: url.hostname,
 30:       port: url.port || 3000,
 31:       path: url.pathname + url.search,
 32:       method: method,
 33:       headers: {
 34:         'Content-Type': 'application/json'
 35:       }
 36:     };
 37: 
 38:     if (token) {
 39:       options.headers['Authorization'] = `Bearer ${token}`;
 40:     }
 41: 
 42:     const req = http.request(options, (res) => {
 43:       let data = '';
 44:       res.on('data', chunk => data += chunk);
 45:       res.on('end', () => {
 46:         try {
 47:           resolve({
 48:             status: res.statusCode,
 49:             data: JSON.parse(data)
 50:           });
 51:         } catch (e) {
 52:           resolve({
 53:             status: res.statusCode,
 54:             data: data
 55:           });
 56:         }
 57:       });
 58:     });
 59: 
 60:     req.on('error', reject);
 61: 
 62:     if (body) {
 63:       req.write(JSON.stringify(body));
 64:     }
 65: 
 66:     req.end();
 67:   });
 68: }
 69: 
 70: 
 71: function printResult(status, message) {
 72:   const color = status === 'PASS' ? colors.green : colors.red;
 73:   const symbol = status === 'PASS' ? '✓' : '✗';
 74:   console.log(`${color}${colors.bold}${symbol} ${status}: ${message}${colors.reset}`);
 75: }
 76: 
 77: function printInfo(message) {
 78:   console.log(`${colors.cyan}ℹ ${message}${colors.reset}`);
 79: }
 80: 
 81: function printHeader(message) {
 82:   console.log(`\n${colors.bold}${colors.blue}═══ ${message} ═══${colors.reset}`);
 83: }
 84: 
 85: 
 86: async function runIDORTest() {
 87:   console.log(`${colors.bold}${colors.yellow}
 88: ╔════════════════════════════════════════════════════════════╗
 89: ║         IDOR VULNERABILITY TEST - GUEST_ID INJECTION       ║
 90: ╔════════════════════════════════════════════════════════════╝
 91: ${colors.reset}`);
 92: 
 93:   try {
 94: 
 95:     printHeader('Step 1: User Authentication');
 96:     printInfo('Attempting to login as test user...');
 97: 
 98:     let loginResponse = await makeRequest('POST', '/auth/login', {
 99:       email: TEST_USER.email,
100:       password: TEST_USER.password
101:     });
102: 
103: 
104:     if (!loginResponse.data.success) {
105:       printInfo('User not found. Creating test account...');
106: 
107:       const signupResponse = await makeRequest('POST', '/auth/signup', TEST_USER);
108: 
109:       if (!signupResponse.data.success) {
110:         printResult('FAIL', `Could not create test user: ${signupResponse.data.message}`);
111:         process.exit(1);
112:       }
113: 
114:       loginResponse = signupResponse;
115:     }
116: 
117:     const token = loginResponse.data.token;
118:     const realUserId = loginResponse.data.user.id;
119: 
120:     printResult('PASS', `Authenticated as User ID: ${realUserId}`);
121:     console.log(`   Token: ${token.substring(0, 20)}...`);
122: 
123: 
124:     printHeader('Step 2: Fetch Available Room');
125:     printInfo('Requesting room information...');
126: 
127:     const roomsResponse = await makeRequest('GET', '/rooms', null);
128: 
129:     if (!roomsResponse.data.success || !roomsResponse.data.rooms || roomsResponse.data.rooms.length === 0) {
130:       printResult('FAIL', 'No rooms available for testing');
131:       process.exit(1);
132:     }
133: 
134:     const testRoom = roomsResponse.data.rooms[0];
135:     printResult('PASS', `Using room: ${testRoom.name} (${testRoom.slug})`);
136: 
137: 
138:     printHeader('Step 3: IDOR Attack Simulation');
139:     const FAKE_GUEST_ID = 9999;
140:     printInfo(`Attempting to create booking with guest_id: ${FAKE_GUEST_ID}`);
141:     printInfo(`Authenticated user's real ID: ${realUserId}`);
142: 
143:     const tomorrow = new Date();
144:     tomorrow.setDate(tomorrow.getDate() + 1);
145:     const checkInDate = tomorrow.toISOString().split('T')[0];
146: 
147:     const maliciousBookingRequest = {
148:       roomSlug: testRoom.slug,
149:       checkInDate: checkInDate,
150:       checkInTime: '14:00',
151:       duration: '3',
152:       totalAmount: testRoom.rates['3h'],
153:       guestInfo: {
154:         guestId: FAKE_GUEST_ID,
155:         firstName: TEST_USER.firstName,
156:         lastName: TEST_USER.lastName,
157:         email: TEST_USER.email,
158:         phone: TEST_USER.phone
159:       }
160:     };
161: 
162:     console.log(`${colors.yellow}   📤 Sending malicious request with guest_id: ${FAKE_GUEST_ID}${colors.reset}`);
163: 
164:     const bookingResponse = await makeRequest(
165:       'POST',
166:       '/payment/create-checkout',
167:       maliciousBookingRequest,
168:       token
169:     );
170: 
171:     if (!bookingResponse.data.success) {
172:       printResult('FAIL', `Booking creation failed: ${bookingResponse.data.message}`);
173:       process.exit(1);
174:     }
175: 
176:     const referenceCode = bookingResponse.data.referenceCode;
177:     printInfo(`Booking created with reference: ${referenceCode}`);
178: 
179: 
180:     printHeader('Step 4: Verify Database Entry');
181:     printInfo('Checking which guest_id was saved in the database...');
182: 
183: 
184:     await new Promise(resolve => setTimeout(resolve, 500));
185: 
186:     const verifyResponse = await makeRequest('GET', `/payment/booking/${referenceCode}`, null);
187: 
188:     if (!verifyResponse.data.success) {
189:       printResult('FAIL', 'Could not verify booking in database');
190:       process.exit(1);
191:     }
192: 
193: 
194:     const myBookingsResponse = await makeRequest('GET', '/payment/my-bookings', null, token);
195: 
196:     if (!myBookingsResponse.data.success) {
197:       printResult('FAIL', 'Could not fetch user bookings');
198:       process.exit(1);
199:     }
200: 
201:     const createdBooking = myBookingsResponse.data.bookings.find(
202:       b => b.referenceCode === referenceCode
203:     );
204: 
205:     if (!createdBooking) {
206:       printResult('FAIL', 'Booking not found in user\'s bookings (possible IDOR success)');
207:       console.log(`${colors.red}   ⚠️  This means the booking was created under guest_id ${FAKE_GUEST_ID}${colors.reset}`);
208:       console.log(`${colors.red}   ⚠️  SECURITY VULNERABILITY DETECTED!${colors.reset}`);
209:       process.exit(1);
210:     }
211: 
212: 
213:     printHeader('Step 5: Test Results');
214: 
215:     console.log(`\n${colors.bold}Expected Behavior:${colors.reset}`);
216:     console.log(`   The booking should be created under the authenticated user's ID: ${colors.green}${realUserId}${colors.reset}`);
217:     console.log(`   NOT under the malicious guest_id: ${colors.red}${FAKE_GUEST_ID}${colors.reset}`);
218: 
219:     console.log(`\n${colors.bold}Actual Result:${colors.reset}`);
220:     console.log(`   Booking ${referenceCode} was found in user ${realUserId}'s bookings`);
221: 
222:     printResult('PASS', 'IDOR VULNERABILITY FIXED ✓');
223:     console.log(`${colors.green}   ✓ The server correctly ignored the malicious guest_id${colors.reset}`);
224:     console.log(`${colors.green}   ✓ Booking was created using the JWT-verified user ID${colors.reset}`);
225:     console.log(`${colors.green}   ✓ Unauthorized booking on behalf of others is prevented${colors.reset}`);
226: 
227:     console.log(`\n${colors.bold}${colors.green}╔════════════════════════════════════════════════════════════╗`);
228:     console.log(`║                    SECURITY TEST PASSED                    ║`);
229:     console.log(`╚════════════════════════════════════════════════════════════╝${colors.reset}\n`);
230: 
231:   } catch (error) {
232:     printResult('FAIL', `Test execution error: ${error.message}`);
233:     console.error(error);
234:     process.exit(1);
235:   }
236: }
237: 
238: 
239: runIDORTest();
</file>

<file path="server/scripts/test-low-priority.js">
  1: const http = require('http');
  2: const fs = require('fs');
  3: const path = require('path');
  4: 
  5: const BASE_URL = 'http://localhost:3000/api';
  6: const COLORS = {
  7:     GREEN: '\x1b[32m',
  8:     RED: '\x1b[31m',
  9:     RESET: '\x1b[0m',
 10:     YELLOW: '\x1b[33m'
 11: };
 12: 
 13: async function log(msg, color = COLORS.RESET) {
 14:     console.log(`${color}${msg}${COLORS.RESET}`);
 15: }
 16: 
 17: async function testBodyLimit() {
 18:     await log('\n=== TEST 1: Request Body Size Limit (10KB) ===', COLORS.YELLOW);
 19: 
 20: 
 21:     const largePayload = { data: 'x'.repeat(15 * 1024) };
 22: 
 23:     try {
 24:         const res = await fetch(`${BASE_URL}/auth/login`, {
 25:             method: 'POST',
 26:             headers: { 'Content-Type': 'application/json' },
 27:             body: JSON.stringify(largePayload)
 28:         });
 29: 
 30:         if (res.status === 413) {
 31:             await log('✅ PASS: Server blocked 15KB payload (Status 413)', COLORS.GREEN);
 32:         } else {
 33:             await log(`❌ FAIL: Server accepted large payload (Status ${res.status})`, COLORS.RED);
 34:         }
 35:     } catch (err) {
 36:         await log(`❌ ERROR: Could not connect to server: ${err.message}`, COLORS.RED);
 37:     }
 38: }
 39: 
 40: async function testCORS() {
 41:     await log('\n=== TEST 2: CORS Configuration ===', COLORS.YELLOW);
 42: 
 43: 
 44:     try {
 45:         const resAllowed = await fetch(`${BASE_URL}/rooms`, {
 46:             method: 'GET',
 47:             headers: { 'Origin': 'http://localhost:5173' }
 48:         });
 49: 
 50:         const allowHeader = resAllowed.headers.get('Access-Control-Allow-Origin');
 51:         if (allowHeader === 'http://localhost:5173') {
 52:             await log('✅ PASS: Allowed Origin (localhost:5173) accepted', COLORS.GREEN);
 53:         } else {
 54:             await log(`❌ FAIL: Allowed Origin header missing or wrong. Got: ${allowHeader}`, COLORS.RED);
 55:         }
 56:     } catch (err) {
 57:         await log(`❌ ERROR: ${err.message}`, COLORS.RED);
 58:     }
 59: 
 60: 
 61:     try {
 62:         const resBlocked = await fetch(`${BASE_URL}/rooms`, {
 63:             method: 'GET',
 64:             headers: { 'Origin': 'http://malicious-site.com' }
 65:         });
 66: 
 67: 
 68: 
 69:         const allowHeaderBlocked = resBlocked.headers.get('Access-Control-Allow-Origin');
 70: 
 71:         if (!allowHeaderBlocked || resBlocked.status === 500) {
 72:             await log('✅ PASS: Malicious Origin blocked (No Allow Header or 500)', COLORS.GREEN);
 73:         } else {
 74:             await log(`❌ FAIL: Malicious Origin was ALLOWED! Header: ${allowHeaderBlocked}`, COLORS.RED);
 75:         }
 76:     } catch (err) {
 77: 
 78:         await log('✅ PASS: Malicious Origin blocked (Network Error)', COLORS.GREEN);
 79:     }
 80: }
 81: 
 82: async function checkDynamicURL() {
 83:     await log('\n=== TEST 3: Dynamic URL (Static Code Check) ===', COLORS.YELLOW);
 84: 
 85:     const controllerPath = path.join(__dirname, '../controllers/paymentController.js');
 86: 
 87:     try {
 88:         const content = fs.readFileSync(controllerPath, 'utf8');
 89: 
 90:         if (content.includes('process.env.FRONTEND_URL') && content.includes('http://localhost:5173')) {
 91:             await log('✅ PASS: Code uses process.env.FRONTEND_URL with localhost fallback', COLORS.GREEN);
 92:         } else if (content.includes('process.env.FRONTEND_URL')) {
 93:             await log('✅ PASS: Code uses process.env.FRONTEND_URL', COLORS.GREEN);
 94:         } else {
 95:             await log('❌ FAIL: "process.env.FRONTEND_URL" not found in paymentController.js', COLORS.RED);
 96:         }
 97:     } catch (err) {
 98:         await log(`❌ ERROR: Could not read paymentController.js: ${err.message}`, COLORS.RED);
 99:     }
100: }
101: 
102: async function run() {
103:     console.log('🧪 STARTING LOW PRIORITY CONFIG TESTS...');
104:     await testBodyLimit();
105:     await testCORS();
106:     await checkDynamicURL();
107:     console.log('\n🏁 TESTS COMPLETE');
108: }
109: 
110: run();
</file>

<file path="server/scripts/test-medium-priority.js">
  1: const http = require('http');
  2: 
  3: 
  4: const colors = {
  5:   reset: '\x1b[0m',
  6:   green: '\x1b[32m',
  7:   red: '\x1b[31m',
  8:   yellow: '\x1b[33m',
  9:   cyan: '\x1b[36m',
 10:   bold: '\x1b[1m'
 11: };
 12: 
 13: 
 14: 
 15: 
 16: function makeSignupRequest(data) {
 17:   return new Promise((resolve, reject) => {
 18:     const postData = JSON.stringify(data);
 19: 
 20:     const options = {
 21:       hostname: 'localhost',
 22:       port: 3000,
 23:       path: '/api/auth/signup',
 24:       method: 'POST',
 25:       headers: {
 26:         'Content-Type': 'application/json',
 27:         'Content-Length': Buffer.byteLength(postData)
 28:       }
 29:     };
 30: 
 31:     const req = http.request(options, (res) => {
 32:       let body = '';
 33: 
 34:       res.on('data', (chunk) => {
 35:         body += chunk;
 36:       });
 37: 
 38:       res.on('end', () => {
 39:         try {
 40:           const jsonResponse = JSON.parse(body);
 41:           resolve({
 42:             status: res.statusCode,
 43:             body: jsonResponse
 44:           });
 45:         } catch (e) {
 46:           resolve({
 47:             status: res.statusCode,
 48:             body: { raw: body }
 49:           });
 50:         }
 51:       });
 52:     });
 53: 
 54:     req.on('error', (err) => {
 55:       reject(err);
 56:     });
 57: 
 58:     req.write(postData);
 59:     req.end();
 60:   });
 61: }
 62: 
 63: 
 64: 
 65: 
 66: function printResult(testName, passed, expected, actual) {
 67:   const status = passed
 68:     ? `${colors.green}${colors.bold}✓ PASS${colors.reset}`
 69:     : `${colors.red}${colors.bold}✗ FAIL${colors.reset}`;
 70: 
 71:   console.log(`\n${status} ${testName}`);
 72:   console.log(`  Expected: ${expected}`);
 73:   console.log(`  Actual:   ${actual}`);
 74: }
 75: 
 76: 
 77: 
 78: 
 79: async function runTests() {
 80:   console.log(`\n${colors.cyan}${colors.bold}═══════════════════════════════════════════════════════════${colors.reset}`);
 81:   console.log(`${colors.cyan}${colors.bold}  Medium Priority Fixes - Verification Tests${colors.reset}`);
 82:   console.log(`${colors.cyan}${colors.bold}  Sections: 2.2, 2.6, 2.7${colors.reset}`);
 83:   console.log(`${colors.cyan}${colors.bold}═══════════════════════════════════════════════════════════${colors.reset}\n`);
 84: 
 85:   let passedTests = 0;
 86:   let totalTests = 3;
 87: 
 88: 
 89:   console.log(`${colors.yellow}Test 1: Weak Password Rejection (Section 2.6)${colors.reset}`);
 90:   try {
 91:     const response1 = await makeSignupRequest({
 92:       firstName: 'Test',
 93:       lastName: 'User',
 94:       email: 'test1@example.com',
 95:       phone: '09171234567',
 96:       password: 'weakpass'
 97:     });
 98: 
 99:     const passed1 = response1.status === 400 &&
100:                     response1.body.message &&
101:                     response1.body.message.includes('8+ chars with a number and special character');
102: 
103:     if (passed1) passedTests++;
104: 
105:     printResult(
106:       'Weak Password (weakpass)',
107:       passed1,
108:       '400 - Password must be 8+ chars with a number and special character',
109:       `${response1.status} - ${response1.body.message || 'Unknown error'}`
110:     );
111:   } catch (err) {
112:     printResult('Weak Password', false, '400 error', `Connection error: ${err.message}`);
113:   }
114: 
115: 
116:   console.log(`\n${colors.yellow}Test 2: Invalid Email Rejection (Section 2.7)${colors.reset}`);
117:   try {
118:     const response2 = await makeSignupRequest({
119:       firstName: 'Test',
120:       lastName: 'User',
121:       email: 'bad-email',
122:       phone: '09171234567',
123:       password: 'StrongP@ss1!'
124:     });
125: 
126:     const passed2 = response2.status === 400 &&
127:                     response2.body.message &&
128:                     response2.body.message.includes('Invalid email format');
129: 
130:     if (passed2) passedTests++;
131: 
132:     printResult(
133:       'Invalid Email (bad-email)',
134:       passed2,
135:       '400 - Invalid email format',
136:       `${response2.status} - ${response2.body.message || 'Unknown error'}`
137:     );
138:   } catch (err) {
139:     printResult('Invalid Email', false, '400 error', `Connection error: ${err.message}`);
140:   }
141: 
142: 
143:   console.log(`\n${colors.yellow}Test 3: Valid Request (All Validations Pass)${colors.reset}`);
144:   try {
145:     const timestamp = Date.now();
146:     const response3 = await makeSignupRequest({
147:       firstName: 'Valid',
148:       lastName: 'User',
149:       email: `validuser${timestamp}@example.com`,
150:       phone: '09171234567',
151:       password: 'StrongP@ss1!'
152:     });
153: 
154: 
155:     const passed3 = response3.status === 201 ||
156:                     (response3.status === 400 && response3.body.message &&
157:                      response3.body.message.includes('Email already registered'));
158: 
159:     if (passed3) passedTests++;
160: 
161:     printResult(
162:       'Valid Request (StrongP@ss1! + good@email.com)',
163:       passed3,
164:       '201 Created OR 400 Email exists',
165:       `${response3.status} - ${response3.body.message || 'User created successfully'}`
166:     );
167:   } catch (err) {
168:     printResult('Valid Request', false, '201 or 400', `Connection error: ${err.message}`);
169:   }
170: 
171: 
172:   console.log(`\n${colors.cyan}${colors.bold}═══════════════════════════════════════════════════════════${colors.reset}`);
173:   console.log(`${colors.cyan}${colors.bold}  Test Summary${colors.reset}`);
174:   console.log(`${colors.cyan}${colors.bold}═══════════════════════════════════════════════════════════${colors.reset}\n`);
175: 
176:   const allPassed = passedTests === totalTests;
177:   const summaryColor = allPassed ? colors.green : colors.red;
178: 
179:   console.log(`  ${summaryColor}${colors.bold}${passedTests}/${totalTests} tests passed${colors.reset}`);
180: 
181:   if (allPassed) {
182:     console.log(`\n  ${colors.green}${colors.bold}✓ ALL MEDIUM PRIORITY FIXES VERIFIED!${colors.reset}\n`);
183:     process.exit(0);
184:   } else {
185:     console.log(`\n  ${colors.red}${colors.bold}✗ Some tests failed. Please review the implementation.${colors.reset}\n`);
186:     process.exit(1);
187:   }
188: }
189: 
190: 
191: console.log(`${colors.cyan}Checking if server is running on http://localhost:3000...${colors.reset}`);
192: 
193: const checkReq = http.request({
194:   hostname: 'localhost',
195:   port: 3000,
196:   path: '/api/rooms',
197:   method: 'GET'
198: }, (res) => {
199:   console.log(`${colors.green}✓ Server is running${colors.reset}`);
200:   runTests().catch(err => {
201:     console.error(`\n${colors.red}Test execution error: ${err.message}${colors.reset}\n`);
202:     process.exit(1);
203:   });
204: });
205: 
206: checkReq.on('error', (err) => {
207:   console.error(`\n${colors.red}✗ Cannot connect to server on http://localhost:3000${colors.reset}`);
208:   console.error(`  Error: ${err.message}`);
209:   console.error(`\n  ${colors.yellow}Please start the server first:${colors.reset}`);
210:   console.error(`  ${colors.yellow}cd server && node server.js${colors.reset}\n`);
211:   process.exit(1);
212: });
213: 
214: checkReq.end();
</file>

<file path="server/scripts/test-price-fix.js">
  1: const http = require('http');
  2: const https = require('https');
  3: 
  4: 
  5: const GREEN = '\x1b[32m';
  6: const RED = '\x1b[31m';
  7: const YELLOW = '\x1b[33m';
  8: const BLUE = '\x1b[36m';
  9: const RESET = '\x1b[0m';
 10: const BOLD = '\x1b[1m';
 11: 
 12: 
 13: const API_BASE = process.env.API_URL || 'http://localhost:3000';
 14: const TEST_USER = {
 15:   email: 'test_price@example.com',
 16:   password: 'TestPassword123!',
 17:   firstName: 'Price',
 18:   lastName: 'Tester',
 19:   phone: '09123456789',
 20:   address: 'Test Address'
 21: };
 22: 
 23: let authToken = null;
 24: let testUserId = null;
 25: 
 26: 
 27: function makeRequest(method, path, data = null, token = null) {
 28:   return new Promise((resolve, reject) => {
 29:     const url = new URL(path, API_BASE);
 30:     const isHttps = url.protocol === 'https:';
 31:     const lib = isHttps ? https : http;
 32: 
 33:     const options = {
 34:       hostname: url.hostname,
 35:       port: url.port || (isHttps ? 443 : 80),
 36:       path: url.pathname + url.search,
 37:       method: method,
 38:       headers: {
 39:         'Content-Type': 'application/json'
 40:       }
 41:     };
 42: 
 43:     if (token) {
 44:       options.headers['Authorization'] = `Bearer ${token}`;
 45:     }
 46: 
 47:     const req = lib.request(options, (res) => {
 48:       let body = '';
 49:       res.on('data', chunk => body += chunk);
 50:       res.on('end', () => {
 51:         try {
 52:           const parsed = JSON.parse(body);
 53:           resolve({ status: res.statusCode, data: parsed });
 54:         } catch (e) {
 55:           resolve({ status: res.statusCode, data: body });
 56:         }
 57:       });
 58:     });
 59: 
 60:     req.on('error', reject);
 61:     if (data) req.write(JSON.stringify(data));
 62:     req.end();
 63:   });
 64: }
 65: 
 66: 
 67: function printResult(testName, passed, details = '') {
 68:   const icon = passed ? '✅' : '⛔';
 69:   const color = passed ? GREEN : RED;
 70:   console.log(`${color}${icon} ${testName}${RESET}`);
 71:   if (details) {
 72:     console.log(`   ${details}`);
 73:   }
 74: }
 75: 
 76: // Step 1: Register Test User
 77: async function registerTestUser() {
 78:   console.log(`\n${BLUE}${BOLD}=== STEP 1: Register Test User ===${RESET}`);
 79: 
 80:   try {
 81:     const res = await makeRequest('POST', '/api/auth/signup', TEST_USER);
 82: 
 83:     if (res.status === 201 || res.status === 200) {
 84:       authToken = res.data.token;
 85:       testUserId = res.data.userId || res.data.user?.id;
 86:       printResult('Test user registered', true, `User ID: ${testUserId}`);
 87:       return true;
 88:     } else if (res.status === 400 && res.data.message?.includes('already')) {
 89: 
 90:       console.log(`${YELLOW}ℹ User exists, logging in...${RESET}`);
 91:       return await loginTestUser();
 92:     } else {
 93:       printResult('Test user registration', false, `Status: ${res.status}, ${JSON.stringify(res.data)}`);
 94:       return false;
 95:     }
 96:   } catch (error) {
 97:     printResult('Test user registration', false, error.message);
 98:     return false;
 99:   }
100: }
101: 
102: 
103: async function loginTestUser() {
104:   try {
105:     const res = await makeRequest('POST', '/api/auth/login', {
106:       email: TEST_USER.email,
107:       password: TEST_USER.password
108:     });
109: 
110:     if (res.status === 200) {
111:       authToken = res.data.token;
112:       testUserId = res.data.userId || res.data.user?.id;
113:       printResult('Test user login', true, `User ID: ${testUserId}`);
114:       return true;
115:     } else {
116:       printResult('Test user login', false, `Status: ${res.status}`);
117:       return false;
118:     }
119:   } catch (error) {
120:     printResult('Test user login', false, error.message);
121:     return false;
122:   }
123: }
124: 
125: 
126: async function testPriceManipulation() {
127:   console.log(`\n${BLUE}${BOLD}=== STEP 2: Test Price Manipulation Attack ===${RESET}`);
128: 
129: 
130:   const checkInDate = new Date();
131:   checkInDate.setDate(checkInDate.getDate() + 2);
132:   const dateStr = checkInDate.toISOString().split('T')[0];
133: 
134:   const maliciousBooking = {
135:     roomSlug: 'deluxe-room',
136:     checkInDate: dateStr,
137:     checkInTime: '14:00',
138:     duration: '12',
139:     totalAmount: 1.00,
140:     guestInfo: {
141:       firstName: TEST_USER.firstName,
142:       lastName: TEST_USER.lastName,
143:       email: TEST_USER.email,
144:       phone: TEST_USER.phone,
145:       guestId: testUserId
146:     }
147:   };
148: 
149:   console.log(`${YELLOW}⚠️  Attempting price manipulation:${RESET}`);
150:   console.log(`   Sending totalAmount: ₱${maliciousBooking.totalAmount} (fake)`);
151:   console.log(`   Expected real price: ~₱1500+ (12h Deluxe room)`);
152: 
153:   try {
154:     const res = await makeRequest('POST', '/api/payment/create-checkout', maliciousBooking, authToken);
155: 
156:     if (res.status === 200 && res.data.success) {
157: 
158:       const referenceCode = res.data.referenceCode;
159:       console.log(`   Checkout created: ${referenceCode}`);
160: 
161: 
162:       await new Promise(r => setTimeout(r, 1000));
163: 
164: 
165:       const bookingRes = await makeRequest('GET', `/api/payment/booking/${referenceCode}`, null, authToken);
166: 
167:       if (bookingRes.status === 200) {
168:         const actualPrice = parseFloat(bookingRes.data.booking.totalAmount);
169:         console.log(`   Server-calculated price: ₱${actualPrice}`);
170: 
171: 
172:         const wasManipulated = (actualPrice === 1.00);
173:         const isRealisticPrice = (actualPrice >= 1000);
174: 
175:         if (!wasManipulated && isRealisticPrice) {
176:           printResult(
177:             'Price manipulation BLOCKED',
178:             true,
179:             `Server enforced ₱${actualPrice} (ignored client's ₱1.00)`
180:           );
181:           return true;
182:         } else {
183:           printResult(
184:             'Price manipulation BLOCKED',
185:             false,
186:             `Server used ₱${actualPrice} - SHOULD be ~₱1500, NOT ₱1`
187:           );
188:           return false;
189:         }
190:       } else {
191:         printResult('Fetch booking for verification', false, `Status: ${bookingRes.status}`);
192:         return false;
193:       }
194:     } else {
195:       printResult('Create checkout with fake price', false, `Status: ${res.status}, ${JSON.stringify(res.data)}`);
196:       return false;
197:     }
198:   } catch (error) {
199:     printResult('Price manipulation test', false, error.message);
200:     return false;
201:   }
202: }
203: 
204: 
205: async function testZeroPriceAttack() {
206:   console.log(`\n${BLUE}${BOLD}=== STEP 3: Test Zero Price Attack ===${RESET}`);
207: 
208:   const checkInDate = new Date();
209:   checkInDate.setDate(checkInDate.getDate() + 3);
210:   const dateStr = checkInDate.toISOString().split('T')[0];
211: 
212:   const zeroPriceBooking = {
213:     roomSlug: 'standard-room',
214:     checkInDate: dateStr,
215:     checkInTime: '10:00',
216:     duration: '6',
217:     totalAmount: 0,
218:     guestInfo: {
219:       firstName: TEST_USER.firstName,
220:       lastName: TEST_USER.lastName,
221:       email: TEST_USER.email,
222:       phone: TEST_USER.phone,
223:       guestId: testUserId
224:     }
225:   };
226: 
227:   console.log(`${YELLOW}⚠️  Attempting zero-price attack:${RESET}`);
228:   console.log(`   Sending totalAmount: ₱${zeroPriceBooking.totalAmount} (free)`);
229: 
230:   try {
231:     const res = await makeRequest('POST', '/api/payment/create-checkout', zeroPriceBooking, authToken);
232: 
233:     if (res.status === 200 && res.data.success) {
234:       const referenceCode = res.data.referenceCode;
235:       await new Promise(r => setTimeout(r, 1000));
236: 
237:       const bookingRes = await makeRequest('GET', `/api/payment/booking/${referenceCode}`, null, authToken);
238: 
239:       if (bookingRes.status === 200) {
240:         const actualPrice = parseFloat(bookingRes.data.booking.totalAmount);
241: 
242:         const isZero = (actualPrice === 0);
243:         const isPositive = (actualPrice > 0);
244: 
245:         if (!isZero && isPositive) {
246:           printResult(
247:             'Zero-price attack BLOCKED',
248:             true,
249:             `Server enforced ₱${actualPrice} (ignored client's ₱0)`
250:           );
251:           return true;
252:         } else {
253:           printResult(
254:             'Zero-price attack BLOCKED',
255:             false,
256:             `Server allowed ₱${actualPrice} - should be > 0`
257:           );
258:           return false;
259:         }
260:       } else {
261:         printResult('Verify zero-price booking', false, `Status: ${bookingRes.status}`);
262:         return false;
263:       }
264:     } else {
265:       printResult('Create checkout with zero price', false, `Status: ${res.status}`);
266:       return false;
267:     }
268:   } catch (error) {
269:     printResult('Zero-price attack test', false, error.message);
270:     return false;
271:   }
272: }
273: 
274: 
275: async function testNegativePriceAttack() {
276:   console.log(`\n${BLUE}${BOLD}=== STEP 4: Test Negative Price Attack ===${RESET}`);
277: 
278:   const checkInDate = new Date();
279:   checkInDate.setDate(checkInDate.getDate() + 4);
280:   const dateStr = checkInDate.toISOString().split('T')[0];
281: 
282:   const negativeBooking = {
283:     roomSlug: 'value-room',
284:     checkInDate: dateStr,
285:     checkInTime: '16:00',
286:     duration: '3',
287:     totalAmount: -500,
288:     guestInfo: {
289:       firstName: TEST_USER.firstName,
290:       lastName: TEST_USER.lastName,
291:       email: TEST_USER.email,
292:       phone: TEST_USER.phone,
293:       guestId: testUserId
294:     }
295:   };
296: 
297:   console.log(`${YELLOW}⚠️  Attempting negative price attack:${RESET}`);
298:   console.log(`   Sending totalAmount: ₱${negativeBooking.totalAmount} (negative)`);
299: 
300:   try {
301:     const res = await makeRequest('POST', '/api/payment/create-checkout', negativeBooking, authToken);
302: 
303:     if (res.status === 200 && res.data.success) {
304:       const referenceCode = res.data.referenceCode;
305:       await new Promise(r => setTimeout(r, 1000));
306: 
307:       const bookingRes = await makeRequest('GET', `/api/payment/booking/${referenceCode}`, null, authToken);
308: 
309:       if (bookingRes.status === 200) {
310:         const actualPrice = parseFloat(bookingRes.data.booking.totalAmount);
311: 
312:         const isNegative = (actualPrice < 0);
313:         const isPositive = (actualPrice > 0);
314: 
315:         if (!isNegative && isPositive) {
316:           printResult(
317:             'Negative price attack BLOCKED',
318:             true,
319:             `Server enforced ₱${actualPrice} (ignored client's ₱-500)`
320:           );
321:           return true;
322:         } else {
323:           printResult(
324:             'Negative price attack BLOCKED',
325:             false,
326:             `Server used ₱${actualPrice} - should be positive, not negative`
327:           );
328:           return false;
329:         }
330:       } else {
331:         printResult('Verify negative price booking', false, `Status: ${bookingRes.status}`);
332:         return false;
333:       }
334:     } else {
335:       printResult('Create checkout with negative price', false, `Status: ${res.status}`);
336:       return false;
337:     }
338:   } catch (error) {
339:     printResult('Negative price attack test', false, error.message);
340:     return false;
341:   }
342: }
343: 
344: 
345: async function runTests() {
346:   console.log(`${BOLD}${BLUE}`);
347:   console.log('╔════════════════════════════════════════════════════════════╗');
348:   console.log('║         PRICE MANIPULATION FIX - SECURITY TEST             ║');
349:   console.log('╚════════════════════════════════════════════════════════════╝');
350:   console.log(RESET);
351: 
352:   console.log(`${YELLOW}Testing against: ${API_BASE}${RESET}\n`);
353: 
354:   const results = [];
355: 
356: 
357:   const setupSuccess = await registerTestUser();
358:   if (!setupSuccess) {
359:     console.log(`\n${RED}${BOLD}❌ SETUP FAILED - Cannot continue tests${RESET}`);
360:     process.exit(1);
361:   }
362: 
363: 
364:   results.push(await testPriceManipulation());
365:   results.push(await testZeroPriceAttack());
366:   results.push(await testNegativePriceAttack());
367: 
368: 
369:   console.log(`\n${BOLD}${BLUE}╔════════════════════════════════════════════════════════════╗`);
370:   console.log('║                      FINAL RESULTS                         ║');
371:   console.log(`╚════════════════════════════════════════════════════════════╝${RESET}\n`);
372: 
373:   const passed = results.filter(r => r === true).length;
374:   const failed = results.filter(r => r === false).length;
375:   const total = results.length;
376: 
377:   console.log(`${BOLD}Tests Passed: ${GREEN}${passed}/${total}${RESET}`);
378:   console.log(`${BOLD}Tests Failed: ${RED}${failed}/${total}${RESET}\n`);
379: 
380:   if (failed === 0) {
381:     console.log(`${GREEN}${BOLD}✅✅✅ ALL TESTS PASSED ✅✅✅${RESET}`);
382:     console.log(`${GREEN}Price manipulation vulnerability is FIXED!${RESET}\n`);
383:     process.exit(0);
384:   } else {
385:     console.log(`${RED}${BOLD}⛔⛔⛔ TESTS FAILED ⛔⛔⛔${RESET}`);
386:     console.log(`${RED}Price manipulation vulnerability still exists!${RESET}\n`);
387:     process.exit(1);
388:   }
389: }
390: 
391: 
392: runTests().catch(error => {
393:   console.error(`${RED}${BOLD}Fatal error:${RESET}`, error);
394:   process.exit(1);
395: });
</file>

<file path="server/scripts/TRANSACTION-QUICK-REF.txt">
  1: # Database Transaction - Quick Reference
  2: 
  3: ## ✅ FIXED: Transaction Safety in Payment Flow
  4: 
  5: ---
  6: 
  7: ## What Changed?
  8: 
  9: **File**: `server/controllers/paymentController.js`  
 10: **Function**: `createCheckoutSession`
 11: 
 12: ### Before (❌ No Transaction)
 13: ```javascript
 14: // Create PayMongo session
 15: const response = await axios.post(...);
 16: 
 17: // Create booking (separate operation)
 18: await Booking.create({ ... });
 19: ```
 20: **Problem**: If PayMongo succeeds but booking fails (or vice versa), data becomes inconsistent.
 21: 
 22: ---
 23: 
 24: ### After (✅ With Transaction)
 25: ```javascript
 26: const result = await sequelize.transaction(async (t) => {
 27:   // All operations use same transaction
 28:   const booking = await Booking.create({ ... }, { transaction: t });
 29:   
 30:   const response = await axios.post(...); // If fails, rollback
 31:   
 32:   await booking.update({ ... }, { transaction: t });
 33:   
 34:   return checkoutSession;
 35: });
 36: ```
 37: **Benefit**: All operations succeed together or fail together (atomicity).
 38: 
 39: ---
 40: 
 41: ## Key Points
 42: 
 43: ### 1. Import Required
 44: ```javascript
 45: const sequelize = require('../config/database');
 46: ```
 47: 
 48: ### 2. Transaction Wrapper
 49: ```javascript
 50: await sequelize.transaction(async (t) => {
 51:   // All DB operations here must pass { transaction: t }
 52: });
 53: ```
 54: 
 55: ### 3. Automatic Rollback
 56: - If ANY error is thrown inside the transaction block, ALL changes are rolled back
 57: - No need to manually call `rollback()`
 58: 
 59: ### 4. External API Calls
 60: - Can be inside transaction
 61: - If they fail and throw, transaction rolls back
 62: - Database remains clean
 63: 
 64: ---
 65: 
 66: ## When to Use Transactions
 67: 
 68: ✅ **Use when**:
 69: - Creating/updating multiple related records
 70: - Combining database ops with external API calls
 71: - Ensuring data consistency across operations
 72: 
 73: ❌ **Not needed when**:
 74: - Single database query (already atomic)
 75: - Read-only operations
 76: - Batch updates with single UPDATE query
 77: 
 78: ---
 79: 
 80: ## Error Handling
 81: 
 82: ```javascript
 83: try {
 84:   const result = await sequelize.transaction(async (t) => {
 85:     // Operations that might fail
 86:   });
 87:   
 88:   res.json({ success: true });
 89:   
 90: } catch (error) {
 91:   // Transaction already rolled back at this point
 92:   console.error('Transaction failed:', error);
 93:   res.status(500).json({ success: false });
 94: }
 95: ```
 96: 
 97: ---
 98: 
 99: ## Testing the Fix
100: 
101: ### Test Case 1: PayMongo Timeout
102: 1. Temporarily set PayMongo API to invalid URL
103: 2. Try to create booking
104: 3. ✅ Expected: No booking record in database, user sees error
105: 
106: ### Test Case 2: Normal Flow
107: 1. Create booking with valid data
108: 2. ✅ Expected: Booking created, PayMongo session created, checkout URL returned
109: 
110: ### Test Case 3: Database Constraint Violation
111: 1. Try to create booking with invalid guest_id
112: 2. ✅ Expected: Transaction rolls back, no orphaned PayMongo session
113: 
114: ---
115: 
116: ## SQL Queries Generated
117: 
118: ### Before Transaction Fix
119: ```sql
120: -- Separate, independent queries
121: INSERT INTO bookings (...) VALUES (...);
122: -- If this fails, no way to undo the previous insert
123: ```
124: 
125: ### After Transaction Fix
126: ```sql
127: START TRANSACTION;
128: INSERT INTO bookings (...) VALUES (...);
129: -- If error occurs, automatic ROLLBACK
130: UPDATE bookings SET checkout_session_id = '...' WHERE booking_id = ...;
131: COMMIT;
132: ```
133: 
134: ---
135: 
136: ## Performance
137: 
138: - **Overhead**: ~1-5ms per transaction
139: - **Benefit**: Prevents data corruption, reduces support tickets
140: - **Concurrency**: Sequelize manages connection pool efficiently
141: 
142: ---
143: 
144: ## Related Security Fixes (Untouched)
145: 
146: ✅ **IDOR Protection**: Uses JWT-verified guest_id  
147: ✅ **Price Manipulation**: Server-calculated pricing enforced  
148: ✅ **Duration Validation**: Only [3, 6, 12, 24] hours allowed  
149: ✅ **Time Validation**: 5-minute increments only  
150: 
151: ---
152: 
153: ## Debugging Tips
154: 
155: ### Enable Transaction Logging
156: ```javascript
157: // In config/database.js
158: const sequelize = new Sequelize({
159:   logging: console.log, // Shows SQL queries
160:   // ...
161: });
162: ```
163: 
164: ### Check for Orphaned Records
165: ```sql
166: -- Find bookings without PayMongo sessions
167: SELECT * FROM bookings 
168: WHERE status = 'Pending_Payment' 
169: AND checkout_session_id IS NULL;
170: ```
171: 
172: ### Monitor Transaction Duration
173: ```javascript
174: console.time('transaction');
175: await sequelize.transaction(async (t) => {
176:   // operations
177: });
178: console.timeEnd('transaction');
179: ```
180: 
181: ---
182: 
183: ## Summary
184: 
185: ✅ **What was fixed**: Booking creation + PayMongo session creation now atomic  
186: ✅ **How it works**: Sequelize transaction with automatic rollback  
187: ✅ **Impact**: No orphaned bookings, consistent data  
188: ✅ **Security**: All previous fixes preserved  
189: 
190: **Risk 2.17 (No Database Transactions) → RESOLVED**
</file>

<file path="server/utils/AppError.js">
 1: class AppError extends Error {
 2:   constructor(message, statusCode) {
 3:     super(message);
 4: 
 5:     this.statusCode = statusCode;
 6:     this.status = `${statusCode}`.startsWith('4') ? 'fail' : 'error';
 7:     this.isOperational = true;
 8: 
 9:     Error.captureStackTrace(this, this.constructor);
10:   }
11: }
12: 
13: module.exports = AppError;
</file>

<file path="ims-admin/package.json">
 1: {
 2:   "name": "ims-admin",
 3:   "version": "0.0.0",
 4:   "private": true,
 5:   "type": "module",
 6:   "engines": {
 7:     "node": "^20.19.0 || >=22.12.0"
 8:   },
 9:   "scripts": {
10:     "dev": "vite",
11:     "build": "vite build",
12:     "preview": "vite preview"
13:   },
14:   "dependencies": {
15:     "@fontsource/inter": "^5.2.8",
16:     "@heroicons/vue": "^2.2.0",
17:     "pinia": "^3.0.4",
18:     "vue": "^3.5.26",
19:     "vue-router": "^4.6.4"
20:   },
21:   "devDependencies": {
22:     "@vitejs/plugin-vue": "^6.0.3",
23:     "autoprefixer": "^10.4.23",
24:     "postcss": "^8.5.6",
25:     "tailwindcss": "^3.4.17",
26:     "vite": "^7.3.0",
27:     "vite-plugin-vue-devtools": "^8.0.5"
28:   }
29: }
</file>

<file path="ims-admin/src/App.vue">
1: <script setup></script>
2: 
3: <template>
4:   <router-view />
5: </template>
6: 
7: <style scoped></style>
</file>

<file path="ims-admin/src/layouts/AdminLayoutView.vue">
  1: <script setup>
  2: import { ref, onMounted, onUnmounted } from 'vue'
  3: import { useRouter, useRoute } from 'vue-router'
  4: import {
  5:   HomeIcon,
  6:   CalendarIcon,
  7:   ShoppingCartIcon,
  8:   BeakerIcon,
  9:   UserGroupIcon,
 10:   CurrencyDollarIcon,
 11:   ChartBarIcon
 12: } from '@heroicons/vue/24/outline'
 13: 
 14: const router = useRouter()
 15: const route = useRoute()
 16: 
 17: 
 18: const currentStaff = ref('Juan D.')
 19: const currentTime = ref(new Date())
 20: 
 21: let timer
 22: onMounted(() => {
 23:   timer = setInterval(() => {
 24:     currentTime.value = new Date()
 25:   }, 1000)
 26: })
 27: onUnmounted(() => clearInterval(timer))
 28: 
 29: const menuItems = [
 30:   { name: 'Dashboard', path: '/admin/dashboard', icon: HomeIcon },
 31:   { name: 'Reservations', path: '/admin/reservations', icon: CalendarIcon },
 32:   { name: 'POS & Orders', path: '/admin/pos', icon: ShoppingCartIcon },
 33:   { name: 'Housekeeping', path: '/admin/housekeeping', icon: BeakerIcon },
 34:   { name: 'HR & Staff', path: '/admin/hr', icon: UserGroupIcon },
 35:   { name: 'Shift & Cash', path: '/admin/shift', icon: CurrencyDollarIcon },
 36:   { name: 'Reports', path: '/admin/reports', icon: ChartBarIcon },
 37: ]
 38: 
 39: const isActive = (path) => route.path === path
 40: 
 41: const handleSignOut = () => {
 42:   router.push('/login')
 43: }
 44: </script>
 45: 
 46: <template>
 47:   <div class="flex h-screen bg-[#F9FAFB] font-[Inter]">
 48: 
 49:     <aside class="w-20 lg:w-64 bg-white border-r border-gray-200 flex flex-col transition-all duration-300">
 50:       <div class="h-16 flex items-center justify-center lg:justify-start lg:px-6 border-b border-gray-100">
 51:         <div class="w-8 h-8 bg-black rounded-lg flex items-center justify-center text-white font-bold text-sm">B</div>
 52:         <span class="ml-3 font-bold text-gray-900 hidden lg:block tracking-tight">Balai Almeda</span>
 53:       </div>
 54: 
 55:       <nav class="flex-1 py-6 px-3 space-y-1">
 56:         <router-link
 57:           v-for="item in menuItems"
 58:           :key="item.name"
 59:           :to="item.path"
 60:           class="flex items-center px-3 py-2.5 rounded-lg transition-all group"
 61:           :class="isActive(item.path) ? 'bg-gray-100 text-gray-900 shadow-sm' : 'text-gray-500 hover:bg-gray-50 hover:text-gray-900'"
 62:         >
 63:           <component
 64:             :is="item.icon"
 65:             class="w-5 h-5 transition-colors"
 66:             :class="isActive(item.path) ? 'text-gray-900' : 'text-gray-400 group-hover:text-gray-600'"
 67:           />
 68:           <span class="ml-3 font-medium text-sm hidden lg:block">{{ item.name }}</span>
 69:         </router-link>
 70:       </nav>
 71: 
 72:       <div class="p-4 border-t border-gray-100">
 73:         <div class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 cursor-pointer">
 74:           <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-xs font-bold text-gray-600">
 75:             {{ currentStaff.charAt(0) }}
 76:           </div>
 77:           <div class="hidden lg:block">
 78:             <p class="text-sm font-medium text-gray-900">{{ currentStaff }}</p>
 79:             <p class="text-xs text-green-600 flex items-center gap-1">
 80:               <span class="w-1.5 h-1.5 rounded-full bg-green-500"></span> Online
 81:             </p>
 82:           </div>
 83:         </div>
 84:       </div>
 85:     </aside>
 86: 
 87:     <div class="flex-1 flex flex-col min-w-0 overflow-hidden">
 88:       <header class="bg-white/80 backdrop-blur-md border-b border-gray-200 h-16 flex items-center justify-between px-8 sticky top-0 z-10">
 89:         <h2 class="text-lg font-semibold text-gray-800 tracking-tight">{{ route.name || 'Overview' }}</h2>
 90: 
 91:         <div class="flex items-center gap-6">
 92:           <div class="text-right hidden md:block">
 93:             <p class="text-sm font-medium text-gray-900 font-mono">
 94:               {{ currentTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) }}
 95:             </p>
 96:             <p class="text-[10px] text-gray-400 uppercase tracking-wider font-semibold">
 97:               {{ currentTime.toLocaleDateString([], { month: 'short', day: 'numeric' }) }}
 98:             </p>
 99:           </div>
100:           <button @click="handleSignOut" class="text-xs font-medium text-red-600 hover:text-red-700 hover:bg-red-50 px-3 py-1.5 rounded-md transition-colors border border-transparent hover:border-red-100">
101:             Sign Out
102:           </button>
103:         </div>
104:       </header>
105: 
106:       <main class="flex-1 overflow-x-hidden overflow-y-auto p-6 lg:p-8">
107:         <router-view />
108:       </main>
109:     </div>
110:   </div>
111: </template>
</file>

<file path="ims-admin/src/router/index.js">
 1: import { createRouter, createWebHistory } from 'vue-router'
 2: import AdminLayoutView from '@/layouts/AdminLayoutView.vue'
 3: import LoginView from '@/views/LoginView.vue'
 4: import DashboardView from '@/views/DashboardView.vue'
 5: import ReservationsView from '@/views/ReservationsView.vue'
 6: import POSView from '@/views/POSView.vue'
 7: import HouseKeepingView from '@/views/HouseKeepingView.vue'
 8: import HRView from '@/views/HRView.vue'
 9: import ShiftView from '@/views/ShiftView.vue'
10: 
11: const router = createRouter({
12:   history: createWebHistory(import.meta.env.BASE_URL),
13:   routes: [
14: 
15:     {
16:       path: '/login',
17:       name: 'Login',
18:       component: LoginView
19:     },
20: 
21:     {
22:       path: '/',
23:       redirect: '/login'
24:     },
25: 
26:     {
27:       path: '/admin',
28:       component: AdminLayoutView,
29:       redirect: '/admin/dashboard',
30:       children: [
31:         {
32:           path: 'dashboard',
33:           name: 'Dashboard',
34:           component: DashboardView
35:         },
36:         {
37:           path: 'reservations',
38:           name: 'Reservations',
39:           component: ReservationsView
40:         },
41:         {
42:           path: 'pos',
43:           name: 'POS & Orders',
44:           component: POSView
45:         },
46:         {
47:           path: 'housekeeping',
48:           name: 'Housekeeping',
49:           component: HouseKeepingView
50:         },
51:         {
52:           path: 'hr',
53:           name: 'HR & Staff',
54:           component: HRView
55:         },
56:         {
57:           path: 'shift',
58:           name: 'Shift & Cash',
59:           component: ShiftView
60:         },
61:         {
62:           path: 'reports',
63:           name: 'Reports',
64:           component: () => import('@/views/DashboardView.vue')
65:         }
66:       ]
67:     },
68: 
69:     {
70:       path: '/:pathMatch(.*)*',
71:       redirect: '/login'
72:     }
73:   ],
74: })
75: 
76: export default router
</file>

<file path="public-website/src/services/api.js">
  1: import axios from 'axios'
  2: import router from '../router'
  3: 
  4: const API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:3000/api'
  5: 
  6: 
  7: 
  8: 
  9: const getAuthToken = () => {
 10:   return localStorage.getItem('token')
 11: }
 12: 
 13: 
 14: 
 15: 
 16: 
 17: const showErrorNotification = (message, title = 'Error') => {
 18: 
 19:   if (import.meta.env.PROD) {
 20: 
 21:     const originalAlert = window.alert
 22:     window.alert = function(msg) { originalAlert.call(window, msg) }
 23:   }
 24: 
 25: 
 26:   window.alert(`${title}\n\n${message}`)
 27: }
 28: 
 29: 
 30: 
 31: 
 32: const apiClient = axios.create({
 33:   baseURL: API_BASE_URL,
 34:   headers: {
 35:     'Content-Type': 'application/json'
 36:   },
 37:   timeout: 30000
 38: })
 39: 
 40: 
 41: 
 42: 
 43: apiClient.interceptors.request.use(
 44:   (config) => {
 45:     const token = getAuthToken()
 46:     if (token) {
 47:       config.headers['Authorization'] = `Bearer ${token}`
 48:     }
 49:     return config
 50:   },
 51:   (error) => {
 52:     console.error('Request setup error:', error)
 53:     return Promise.reject(error)
 54:   }
 55: )
 56: 
 57: 
 58: 
 59: 
 60: apiClient.interceptors.response.use(
 61: 
 62:   (response) => {
 63:     return response
 64:   },
 65: 
 66: 
 67:   (error) => {
 68: 
 69:     if (!error.response) {
 70:       console.error('Network Error:', error.message)
 71:       showErrorNotification(
 72:         'Unable to connect to the server. Please check your internet connection and try again.',
 73:         'Connection Error'
 74:       )
 75:       return Promise.reject(error)
 76:     }
 77: 
 78:     const { status, data } = error.response
 79:     const errorMessage = data?.message || data?.error || 'An unexpected error occurred'
 80: 
 81: 
 82:     switch (status) {
 83:       case 400:
 84:         console.error('Bad Request (400):', errorMessage)
 85:         showErrorNotification(
 86:           errorMessage,
 87:           'Invalid Request'
 88:         )
 89:         break
 90: 
 91:       case 401:
 92:         console.error('Unauthorized (401):', errorMessage)
 93: 
 94: 
 95:         localStorage.removeItem('token')
 96:         localStorage.removeItem('user')
 97:         localStorage.removeItem('userId')
 98: 
 99: 
100:         showErrorNotification(
101:           'Your session has expired. Please log in again.',
102:           'Session Expired'
103:         )
104: 
105: 
106:         router.push({
107:           path: '/login',
108:           query: { redirect: router.currentRoute.value.fullPath }
109:         })
110:         break
111: 
112:       case 403:
113:         console.error('Forbidden (403):', errorMessage)
114:         showErrorNotification(
115:           'You do not have permission to perform this action.',
116:           'Access Denied'
117:         )
118:         break
119: 
120:       case 404:
121:         console.error('Not Found (404):', errorMessage)
122:         showErrorNotification(
123:           errorMessage || 'The requested resource was not found.',
124:           'Not Found'
125:         )
126:         break
127: 
128:       case 409:
129:         console.error('Conflict (409):', errorMessage)
130:         showErrorNotification(
131:           errorMessage,
132:           'Booking Conflict'
133:         )
134:         break
135: 
136:       case 422:
137:         console.error('Validation Error (422):', errorMessage)
138:         showErrorNotification(
139:           errorMessage,
140:           'Validation Error'
141:         )
142:         break
143: 
144:       case 500:
145:       case 502:
146:       case 503:
147:       case 504:
148:         console.error(`Server Error (${status}):`, errorMessage)
149:         showErrorNotification(
150:           'The server encountered an error. Please try again later or contact support if the problem persists.',
151:           'Server Error'
152:         )
153:         break
154: 
155:       default:
156:         console.error(`HTTP Error (${status}):`, errorMessage)
157:         showErrorNotification(
158:           errorMessage || `An error occurred (Error ${status})`,
159:           'Error'
160:         )
161:     }
162: 
163:     return Promise.reject(error)
164:   }
165: )
166: 
167: 
168: 
169: 
170: const api = {
171: 
172: 
173: 
174: 
175: 
176:   get: async (endpoint, config = {}) => {
177:     const response = await apiClient.get(endpoint, config)
178:     return {
179:       data: response.data,
180:       ok: response.status >= 200 && response.status < 300,
181:       status: response.status,
182:       statusText: response.statusText
183:     }
184:   },
185: 
186: 
187: 
188: 
189: 
190: 
191: 
192:   post: async (endpoint, body = {}, config = {}) => {
193:     const response = await apiClient.post(endpoint, body, config)
194:     return {
195:       data: response.data,
196:       ok: response.status >= 200 && response.status < 300,
197:       status: response.status,
198:       statusText: response.statusText
199:     }
200:   },
201: 
202: 
203: 
204: 
205: 
206: 
207: 
208:   put: async (endpoint, body = {}, config = {}) => {
209:     const response = await apiClient.put(endpoint, body, config)
210:     return {
211:       data: response.data,
212:       ok: response.status >= 200 && response.status < 300,
213:       status: response.status,
214:       statusText: response.statusText
215:     }
216:   },
217: 
218: 
219: 
220: 
221: 
222: 
223:   delete: async (endpoint, config = {}) => {
224:     const response = await apiClient.delete(endpoint, config)
225:     return {
226:       data: response.data,
227:       ok: response.status >= 200 && response.status < 300,
228:       status: response.status,
229:       statusText: response.statusText
230:     }
231:   }
232: }
233: 
234: export default api
</file>

<file path="public-website/src/views/ContactView.vue">
  1: <script setup>
  2: import { PhoneIcon, EnvelopeIcon, MapPinIcon } from '@heroicons/vue/24/outline'
  3: 
  4: 
  5: </script>
  6: 
  7: <template>
  8:   <main class="text-balai-dark font-sans min-h-screen bg-balai-bg">
  9: 
 10:     <section class="relative h-[50vh] bg-balai-dark flex items-center justify-center text-white px-4">
 11:       <div class="absolute inset-0 bg-black/40"></div>
 12:       <div class="relative z-10 text-center max-w-3xl mx-auto">
 13:         <h1 class="font-serif text-4xl md:text-5xl mb-4 tracking-wide">
 14:           CONTACT US
 15:         </h1>
 16:         <p class="text-sm md:text-lg uppercase tracking-widest opacity-90">
 17:           We are here to assist you
 18:         </p>
 19:       </div>
 20:     </section>
 21: 
 22:     <section class="container mx-auto px-4 md:px-6 py-16 md:py-24">
 23: 
 24:        <div class="bg-white shadow-2xl p-8 md:p-16 border-t-4 border-balai-gold">
 25: 
 26:           <div class="grid grid-cols-1 lg:grid-cols-2 gap-16">
 27: 
 28:              <div class="space-y-12">
 29:                 <div>
 30:                    <h2 class="font-serif text-3xl mb-6">Get in Touch</h2>
 31:                    <p class="text-gray-600 leading-relaxed">
 32:                       Whether you have a question about room availability, event bookings, or special requests, our front desk is ready to help.
 33:                    </p>
 34:                 </div>
 35: 
 36:                 <div class="space-y-8">
 37:                    <div class="flex items-start gap-6 group">
 38:                       <div class="w-12 h-12 bg-balai-bg flex shrink-0 items-center justify-center text-balai-gold-dark rounded-full">
 39:                         <PhoneIcon class="w-6 h-6" />
 40:                       </div>
 41:                       <div>
 42:                          <h4 class="font-bold uppercase text-xs tracking-widest text-gray-500 mb-1">Phone</h4>
 43:                          <p class="text-2xl font-serif text-balai-dark">+63 995 420 6515</p>
 44:                          <p class="text-xs text-gray-400 mt-1">Available Daily, 8AM - 8PM</p>
 45:                       </div>
 46:                    </div>
 47: 
 48:                    <a href="mailto:balai.almeda@gmail.com" class="flex items-start gap-6 group">
 49:                       <div class="w-12 h-12 bg-balai-bg flex shrink-0 items-center justify-center text-balai-gold-dark rounded-full">
 50:                         <EnvelopeIcon class="w-6 h-6" />
 51:                       </div>
 52:                       <div>
 53:                          <h4 class="font-bold uppercase text-xs tracking-widest text-gray-500 mb-1">Email</h4>
 54:                          <p class="text-xl font-bold text-balai-dark underline decoration-balai-gold/30 hover:decoration-balai-gold transition-all">balaialmeda@gmail.com</p>
 55:                          <p class="text-xs text-gray-400 mt-1">Click to send email</p>
 56:                       </div>
 57:                    </a>
 58: 
 59:                    <div class="flex items-start gap-6 group">
 60:                       <div class="w-12 h-12 bg-balai-bg flex shrink-0 items-center justify-center text-balai-gold-dark rounded-full">
 61:                         <MapPinIcon class="w-6 h-6" />
 62:                       </div>
 63:                       <div>
 64:                          <h4 class="font-bold uppercase text-xs tracking-widest text-gray-500 mb-1">Location</h4>
 65:                          <p class="text-lg text-balai-dark leading-relaxed">163 M. Almeda St., Barangay San Roque,<br>Pateros, Metro Manila</p>
 66:                       </div>
 67:                    </div>
 68:                 </div>
 69:              </div>
 70: 
 71:              <div class="lg:border-l lg:border-gray-100 lg:pl-16">
 72:                 <h3 class="font-serif text-2xl mb-8">Frequently Asked</h3>
 73: 
 74:                 <div class="space-y-6">
 75:                    <details class="group">
 76:                       <summary class="font-bold cursor-pointer list-none flex justify-between items-center text-balai-dark hover:text-balai-gold transition-colors">
 77:                          Is there parking available?
 78:                          <span class="group-open:rotate-180 transition-transform">↓</span>
 79:                       </summary>
 80:                       <p class="text-gray-600 mt-3 text-sm leading-relaxed pl-4 border-l-2 border-balai-gold">
 81:                          Yes, we have limited parking spaces available for guests on a first-come, first-served basis.
 82:                       </p>
 83:                    </details>
 84: 
 85:                    <details class="group">
 86:                       <summary class="font-bold cursor-pointer list-none flex justify-between items-center text-balai-dark hover:text-balai-gold transition-colors">
 87:                          Do you allow pets?
 88:                          <span class="group-open:rotate-180 transition-transform">↓</span>
 89:                       </summary>
 90:                       <p class="text-gray-600 mt-3 text-sm leading-relaxed pl-4 border-l-2 border-balai-gold">
 91:                          We currently do not allow pets in the guest rooms to ensure the comfort of all our guests.
 92:                       </p>
 93:                    </details>
 94: 
 95:                    <details class="group">
 96:                       <summary class="font-bold cursor-pointer list-none flex justify-between items-center text-balai-dark hover:text-balai-gold transition-colors">
 97:                          What time is check-in?
 98:                          <span class="group-open:rotate-180 transition-transform">↓</span>
 99:                       </summary>
100:                       <p class="text-gray-600 mt-3 text-sm leading-relaxed pl-4 border-l-2 border-balai-gold">
101:                          Standard check-in is at 2:00 PM and check-out is at 12:00 PM.
102:                       </p>
103:                    </details>
104:                 </div>
105: 
106: 
107:              </div>
108:           </div>
109: 
110:        </div>
111:     </section>
112: 
113:   </main>
114: </template>
</file>

<file path="public-website/tailwind.config.js">
 1: export default {
 2:   content: [
 3:     "./index.html",
 4:     "./src/**/*.{vue,js,ts,jsx,tsx}",
 5:   ],
 6:   theme: {
 7:     extend: {
 8:       colors: {
 9:         'balai-bg': '#F9F9F7',
10:         'balai-dark': '#2B2B2B',
11:         'balai-gold': '#B58B4C',
12:         'balai-gold-dark': '#96733F'
13:       },
14:       fontFamily: {
15:         serif: ['Prata', 'serif'],
16:         sans: ['Lato', 'sans-serif'],
17:       },
18:       container: {
19:         center: true,
20:         padding: '1.5rem',
21:         screens: {
22:           lg: '1124px',
23:           xl: '1124px',
24:           '2xl': '1124px',
25:         }
26:       }
27:     },
28:   },
29:   plugins: [],
30: }
</file>

<file path="server/config/validateEnv.js">
 1: function validateRequiredEnvVars() {
 2:   const required = [
 3:     'JWT_SECRET',
 4:     'DB_NAME',
 5:     'DB_USER',
 6:     'PAYMONGO_TEST_SECRET_KEY',
 7:     'PAYMONGO_WEBHOOK_SECRET',
 8:     'FRONTEND_URL'
 9:   ];
10: 
11:   const missing = [];
12: 
13: 
14:   required.forEach(varName => {
15:     if (!process.env[varName] || process.env[varName].trim() === '') {
16:       missing.push(varName);
17:     }
18:   });
19: 
20:   // If any are missing, log and exit
21:   if (missing.length > 0) {
22:     console.error('❌ CRITICAL ERROR: Missing required environment variables:');
23:     missing.forEach(varName => {
24:       console.error(`   - ${varName}`);
25:     });
26:     console.error('\n💡 Please set these variables in your .env file before starting the server.');
27:     console.error('Example .env file:');
28:     console.error('JWT_SECRET=your-secret-key-here');
29:     console.error('DB_NAME=balai_almeda_db');
30:     console.error('DB_USER=root');
31:     console.error('PAYMONGO_TEST_SECRET_KEY=sk_test_...');
32:     console.error('FRONTEND_URL=http://localhost:5173');
33:     console.error('\n🛑 Server cannot start without these variables.\n');
34: 
35:     process.exit(1);
36:   }
37: 
38: 
39:   console.log('✅ Environment variables validated successfully');
40: }
41: 
42: module.exports = validateRequiredEnvVars;
</file>

<file path="server/middleware/authMiddleware.js">
 1: const jwt = require('jsonwebtoken');
 2: 
 3: 
 4: 
 5: const JWT_SECRET = process.env.JWT_SECRET;
 6: 
 7: 
 8: exports.verifyToken = (req, res, next) => {
 9:   try {
10: 
11:     const authHeader = req.headers.authorization;
12: 
13:     if (!authHeader || !authHeader.startsWith('Bearer ')) {
14:       return res.status(401).json({
15:         success: false,
16:         message: 'No token provided'
17:       });
18:     }
19: 
20: 
21:     const token = authHeader.substring(7);
22: 
23: 
24:     const decoded = jwt.verify(token, JWT_SECRET);
25: 
26: 
27:     req.userId = decoded.id;
28:     req.userEmail = decoded.email;
29:     req.userRole = decoded.role;
30: 
31:     next();
32:   } catch (error) {
33:     if (error.name === 'JsonWebTokenError') {
34:       return res.status(401).json({
35:         success: false,
36:         message: 'Invalid token'
37:       });
38:     }
39:     if (error.name === 'TokenExpiredError') {
40:       return res.status(401).json({
41:         success: false,
42:         message: 'Token expired. Please login again.'
43:       });
44:     }
45:     return res.status(500).json({
46:       success: false,
47:       message: 'Server error during authentication'
48:     });
49:   }
50: };
</file>

<file path="server/models/index.js">
 1: 'use strict';
 2: 
 3: const fs = require('fs');
 4: const path = require('path');
 5: const Sequelize = require('sequelize');
 6: const process = require('process');
 7: const basename = path.basename(__filename);
 8: const db = {};
 9: 
10: 
11: const sequelize = require('../config/database');
12: 
13: fs.readdirSync(__dirname)
14:   .filter(file => {
15:     return (
16:       file.indexOf('.') !== 0 &&
17:       file !== basename &&
18:       file.slice(-3) === '.js' &&
19:       file.indexOf('.test.js') === -1
20:     );
21:   })
22:   .forEach(file => {
23: 
24:     const modelDef = require(path.join(__dirname, file));
25: 
26: 
27:     let model;
28:     if (typeof modelDef === 'function' && !modelDef.options) {
29: 
30:         model = modelDef(sequelize, Sequelize.DataTypes);
31:     } else {
32: 
33:         model = modelDef;
34:     }
35: 
36: 
37:     if (model && model.name) {
38:         db[model.name] = model;
39:     }
40:   });
41: 
42: 
43: Object.keys(db).forEach(modelName => {
44:   if (db[modelName].associate) {
45:     db[modelName].associate(db);
46:   }
47: });
48: 
49: db.sequelize = sequelize;
50: db.Sequelize = Sequelize;
51: 
52: module.exports = db;
</file>

<file path="server/routes/roomRoutes.js">
 1: const express = require('express');
 2: const router = express.Router();
 3: const roomController = require('../controllers/roomController');
 4: 
 5: 
 6: router.get('/', roomController.getAllRooms);
 7: 
 8: 
 9: router.get('/available', roomController.getAvailableRooms);
10: 
11: 
12: router.get('/:slug/check-availability', roomController.checkAvailability);
13: 
14: 
15: router.get('/:slug', roomController.getRoomBySlug);
16: 
17: module.exports = router;
</file>

<file path="ims-admin/index.html">
 1: <!DOCTYPE html>
 2: <html lang="en">
 3:   <head>
 4:     <meta charset="UTF-8" />
 5:     <link rel="icon" href="/favicon.ico" />
 6:     <meta name="viewport" content="width=device-width, initial-scale=1.0" />
 7:     <title>Balai Almeda IMS</title>
 8:   </head>
 9:   <body>
10:     <div id="app"></div>
11:     <script type="module" src="/src/main.js"></script>
12:   </body>
13: </html>
</file>

<file path="ims-admin/tailwind.config.js">
 1: export default {
 2:   content: [
 3:     "./index.html",
 4:     "./src/**/*.{vue,js,ts,jsx,tsx}",
 5:   ],
 6:   theme: {
 7:     extend: {
 8:       fontFamily: {
 9:         sans: ['Inter', 'system-ui', 'sans-serif'],
10:       },
11:       colors: {
12:         'balai-gold': '#D4AF37',
13:         'balai-gold-dark': '#B8941C',
14:         'balai-dark': '#1a1a1a',
15:       },
16:     },
17:   },
18:   plugins: [],
19: }
</file>

<file path="public-website/src/App.vue">
 1: <script setup>
 2: import { RouterView } from 'vue-router'
 3: import NavBar from './components/NavBar.vue'
 4: import Footer from './components/Footer.vue'
 5: </script>
 6: 
 7: <template>
 8:   <div class="flex flex-col min-h-screen bg-balai-bg font-sans text-balai-dark">
 9: 
10:     <Toaster position="top-center" :duration="4000" richColors />
11: 
12:     <NavBar />
13: 
14:     <div class="flex-grow">
15:       <RouterView />
16:     </div>
17: 
18:     <Footer />
19:   </div>
20: 
21: 
22: 
23: 
24: 
25: 
26: 
27: 
28: 
29: 
30: </template>
31: 
32: <style scoped>
33: </style>
</file>

<file path="public-website/src/components/Footer.vue">
 1: <script setup>
 2: import { RouterLink } from 'vue-router'
 3: </script>
 4: 
 5: <template>
 6:   <footer class="bg-balai-dark text-white pt-24 pb-10 font-sans mt-24">
 7: 
 8:     <div class="container mx-auto px-6 md:px-12">
 9: 
10:       <div class="flex flex-col md:flex-row justify-between gap-12 border-b border-white/10 pb-16">
11: 
12:         <div class="max-w-xs space-y-4">
13:           <img src="/images/logo.svg" alt="Balai Almeda" class="h-32 w-auto brightness-0 invert" />
14:           <p class="text-xs uppercase tracking-[0.3em] opacity-50 pl-1">
15:             Simple. Organic. Comfortable.
16:           </p>
17:         </div>
18: 
19:         <div class="flex gap-12 md:gap-24">
20:            <div class="space-y-6">
21:               <h3 class="font-serif text-lg text-balai-gold">Explore</h3>
22:               <nav class="flex flex-col space-y-3 text-sm opacity-70">
23:                  <RouterLink to="/" class="hover:text-balai-gold transition-colors">Home</RouterLink>
24:                  <RouterLink to="/rooms" class="hover:text-balai-gold transition-colors">Rooms</RouterLink>
25:                  <RouterLink to="/location" class="hover:text-balai-gold transition-colors">Location</RouterLink>
26:                  <RouterLink to="/contact" class="hover:text-balai-gold transition-colors">Contact</RouterLink>
27:               </nav>
28:            </div>
29: 
30:            <div class="space-y-6">
31:               <h3 class="font-serif text-lg text-balai-gold">Visit Us</h3>
32:               <div class="text-sm opacity-70 space-y-2">
33:                  <p>163 M. Almeda St., Brgy San Roque,<br>Pateros, Metro Manila</p>
34:                  <p class="pt-2">+63 995 420 6515</p>
35:                  <a href="mailto:balai.almeda@gmail.com" class="hover:text-balai-gold transition-colors underline decoration-balai-gold/30 underline-offset-4">
36:                     balai.almeda@gmail.com
37:                  </a>
38:               </div>
39:            </div>
40:         </div>
41: 
42:         <div class="max-w-xs space-y-6">
43:           <h3 class="font-serif text-lg text-balai-gold">Reserve Your Stay</h3>
44:           <p class="text-xs opacity-60 leading-relaxed">
45:              Ready for a pause? Book your sanctuary in the heart of the city today.
46:           </p>
47:           <RouterLink to="/availability" class="inline-block border border-balai-gold text-balai-gold px-8 py-3 text-xs font-bold uppercase tracking-widest hover:bg-balai-gold hover:text-balai-dark transition-colors">
48:              Check Availability
49:           </RouterLink>
50:         </div>
51: 
52:       </div>
53: 
54:       <div class="pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-[10px] uppercase tracking-wider opacity-40">
55:         <p>&copy; 2026 Balai Almeda. All rights reserved.</p>
56:         <div class="flex gap-6">
57:            <RouterLink to="/privacy" class="hover:text-white transition-colors">Privacy Policy</RouterLink>
58:            <RouterLink to="/cookies" class="hover:text-white transition-colors">Cookie Policy</RouterLink>
59:         </div>
60:       </div>
61: 
62:     </div>
63:   </footer>
64: </template>
</file>

<file path="public-website/src/views/LoginView.vue">
  1: <script setup>
  2: import { ref } from 'vue'
  3: import { RouterLink, useRouter } from 'vue-router'
  4: import api from '@/services/api'
  5: 
  6: const router = useRouter()
  7: 
  8: 
  9: const formData = ref({
 10:   email: '',
 11:   password: ''
 12: })
 13: 
 14: // UI state
 15: const isLoading = ref(false)
 16: 
 17: // ============================================================
 18: // FEEDBACK MESSAGE STATE - YOU CAN MODIFY THE STYLING HERE
 19: // ============================================================
 20: const feedbackMessage = ref('')
 21: const feedbackType = ref('') // 'success' or 'error'
 22: 
 23: 
 24: const handleLogin = async () => {
 25: 
 26:   feedbackMessage.value = ''
 27:   feedbackType.value = ''
 28: 
 29:   // Validate
 30:   if (!formData.value.email || !formData.value.password) {
 31:     feedbackMessage.value = 'Email and password are required'
 32:     feedbackType.value = 'error'
 33:     return
 34:   }
 35: 
 36:   isLoading.value = true
 37: 
 38:   try {
 39:     const response = await api.post('/auth/login', formData.value)
 40: 
 41:     if (response.ok && response.data.success) {
 42: 
 43:       localStorage.setItem('token', response.data.token)
 44:       localStorage.setItem('user', JSON.stringify(response.data.user))
 45: 
 46:       feedbackMessage.value = response.data.message
 47:       feedbackType.value = 'success'
 48: 
 49: 
 50:       setTimeout(() => {
 51:         router.push('/')
 52:       }, 1000)
 53:     } else {
 54:       feedbackMessage.value = response.data.message
 55:       feedbackType.value = 'error'
 56:     }
 57:   } catch (error) {
 58:     console.error('Login error:', error)
 59:     feedbackMessage.value = 'Connection error. Please check if the server is running.'
 60:     feedbackType.value = 'error'
 61:   } finally {
 62:     isLoading.value = false
 63:   }
 64: }
 65: </script>
 66: 
 67: <template>
 68:   <main class="min-h-screen bg-balai-bg flex items-center justify-center px-4 py-20 font-sans text-balai-dark">
 69: 
 70:     <div class="w-full max-w-md bg-white shadow-2xl p-8 md:p-12 border-t-4 border-balai-gold relative">
 71: 
 72:       <div class="text-center mb-10">
 73:         <h1 class="font-serif text-3xl mb-2">Welcome Back</h1>
 74:         <p class="text-gray-500 text-sm">Please enter your details to sign in.</p>
 75:       </div>
 76: 
 77: 
 78: 
 79: 
 80:       <div v-if="feedbackMessage"
 81:            :class="[
 82:              'mb-6 p-4 rounded text-sm text-center font-medium',
 83:              feedbackType === 'success' ? 'bg-green-100 text-green-800 border border-green-300' : 'bg-red-100 text-red-800 border border-red-300'
 84:            ]">
 85:         {{ feedbackMessage }}
 86:       </div>
 87: 
 88:       <form @submit.prevent="handleLogin" class="space-y-6">
 89:         <div class="flex flex-col">
 90:            <label class="text-xs font-bold uppercase tracking-wider text-gray-500 mb-2">Email Address</label>
 91:            <input
 92:              v-model="formData.email"
 93:              type="email"
 94:              required
 95:              class="w-full border border-gray-300 p-3 text-sm focus:outline-none focus:border-balai-gold transition-colors"
 96:              placeholder="name@example.com"
 97:            />
 98:         </div>
 99: 
100:         <div class="flex flex-col">
101:            <div class="flex justify-between items-center mb-2">
102:               <label class="text-xs font-bold uppercase tracking-wider text-gray-500">Password</label>
103:               <a href="#" class="text-xs text-balai-gold hover:underline">Forgot password?</a>
104:            </div>
105:            <input
106:              v-model="formData.password"
107:              type="password"
108:              required
109:              class="w-full border border-gray-300 p-3 text-sm focus:outline-none focus:border-balai-gold transition-colors"
110:              placeholder="••••••••"
111:            />
112:         </div>
113: 
114:         <button
115:           type="submit"
116:           :disabled="isLoading"
117:           class="w-full bg-balai-dark text-white py-4 uppercase tracking-widest font-medium text-sm hover:bg-balai-gold transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"
118:         >
119:            {{ isLoading ? 'Signing In...' : 'Sign In' }}
120:         </button>
121:       </form>
122: 
123:       <div class="relative my-8 text-center">
124:          <div class="absolute inset-0 flex items-center">
125:             <div class="w-full border-t border-gray-200"></div>
126:          </div>
127:          <span class="relative bg-white px-4 text-xs text-gray-400 uppercase tracking-widest">Or</span>
128:       </div>
129: 
130:       <div class="text-center text-sm">
131:          <span class="text-gray-600">Don't have an account? </span>
132:          <RouterLink to="/signup" class="font-bold text-balai-gold hover:text-balai-gold-dark underline">Create one</RouterLink>
133:       </div>
134: 
135:     </div>
136:   </main>
137: </template>
</file>

<file path="public-website/src/views/SignUpView.vue">
  1: <script setup>
  2: import { ref } from 'vue'
  3: import { RouterLink, useRouter } from 'vue-router'
  4: import api from '@/services/api'
  5: 
  6: const router = useRouter()
  7: 
  8: 
  9: const formData = ref({
 10:   firstName: '',
 11:   lastName: '',
 12:   email: '',
 13:   phone: '',
 14:   password: ''
 15: })
 16: 
 17: // UI state
 18: const isLoading = ref(false)
 19: 
 20: // ============================================================
 21: // FEEDBACK MESSAGE STATE - YOU CAN MODIFY THE STYLING HERE
 22: // ============================================================
 23: const feedbackMessage = ref('')
 24: const feedbackType = ref('') // 'success' or 'error'
 25: 
 26: 
 27: const phoneRegex = /^(09|\+639|639)\d{9}$/
 28: 
 29: 
 30: const validatePhone = (phone) => {
 31: 
 32:   const cleanPhone = phone.replace(/[\s-]/g, '')
 33:   return phoneRegex.test(cleanPhone)
 34: }
 35: 
 36: // Signup handler
 37: const handleSignup = async () => {
 38:   // Clear previous messages
 39:   feedbackMessage.value = ''
 40:   feedbackType.value = ''
 41: 
 42:   // Trim whitespace from names
 43:   formData.value.firstName = formData.value.firstName.trim()
 44:   formData.value.lastName = formData.value.lastName.trim()
 45: 
 46:   // Validate required fields
 47:   if (!formData.value.firstName || !formData.value.lastName || !formData.value.email || !formData.value.phone || !formData.value.password) {
 48:     feedbackMessage.value = 'All fields are required'
 49:     feedbackType.value = 'error'
 50:     return
 51:   }
 52: 
 53: 
 54:   if (!validatePhone(formData.value.phone)) {
 55:     feedbackMessage.value = 'Please enter a valid PH mobile number (e.g., 0917... or 63917...)'
 56:     feedbackType.value = 'error'
 57:     return
 58:   }
 59: 
 60: 
 61:   if (formData.value.password.length < 8) {
 62:     feedbackMessage.value = 'Password must be at least 8 characters'
 63:     feedbackType.value = 'error'
 64:     return
 65:   }
 66: 
 67:   if (formData.value.password.length > 64) {
 68:     feedbackMessage.value = 'Password must not exceed 64 characters'
 69:     feedbackType.value = 'error'
 70:     return
 71:   }
 72: 
 73:   isLoading.value = true
 74: 
 75:   try {
 76:     const response = await api.post('/auth/signup', formData.value)
 77: 
 78:     if (response.ok && response.data.success) {
 79: 
 80:       localStorage.setItem('token', response.data.token)
 81:       localStorage.setItem('user', JSON.stringify(response.data.user))
 82: 
 83:       feedbackMessage.value = response.data.message
 84:       feedbackType.value = 'success'
 85: 
 86: 
 87:       setTimeout(() => {
 88:         router.push('/')
 89:       }, 1000)
 90:     } else {
 91:       feedbackMessage.value = response.data.message
 92:       feedbackType.value = 'error'
 93:     }
 94:   } catch (error) {
 95:     console.error('Signup error:', error)
 96:     feedbackMessage.value = 'Connection error. Please check if the server is running.'
 97:     feedbackType.value = 'error'
 98:   } finally {
 99:     isLoading.value = false
100:   }
101: }
102: </script>
103: 
104: <template>
105:   <main class="min-h-screen bg-balai-bg flex items-center justify-center px-4 py-20 font-sans text-balai-dark">
106: 
107:     <div class="w-full max-w-lg bg-white shadow-2xl p-8 md:p-12 border-t-4 border-balai-gold">
108: 
109:       <div class="text-center mb-10">
110:         <h1 class="font-serif text-3xl mb-2">Create Account</h1>
111:         <p class="text-gray-500 text-sm">Join us to book your stay at Balai Almeda.</p>
112:       </div>
113: 
114: 
115: 
116: 
117:       <div v-if="feedbackMessage"
118:            :class="[
119:              'mb-6 p-4 rounded text-sm text-center font-medium',
120:              feedbackType === 'success' ? 'bg-green-100 text-green-800 border border-green-300' : 'bg-red-100 text-red-800 border border-red-300'
121:            ]">
122:         {{ feedbackMessage }}
123:       </div>
124: 
125:       <form @submit.prevent="handleSignup" class="space-y-6">
126: 
127:         <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
128:            <div class="flex flex-col">
129:               <label class="text-xs font-bold uppercase tracking-wider text-gray-500 mb-2">First Name</label>
130:               <input
131:                 v-model="formData.firstName"
132:                 type="text"
133:                 required
134:                 maxlength="50"
135:                 class="w-full border border-gray-300 p-3 text-sm focus:outline-none focus:border-balai-gold transition-colors"
136:               />
137:            </div>
138:            <div class="flex flex-col">
139:               <label class="text-xs font-bold uppercase tracking-wider text-gray-500 mb-2">Last Name</label>
140:               <input
141:                 v-model="formData.lastName"
142:                 type="text"
143:                 required
144:                 maxlength="50"
145:                 class="w-full border border-gray-300 p-3 text-sm focus:outline-none focus:border-balai-gold transition-colors"
146:               />
147:            </div>
148:         </div>
149: 
150:         <div class="flex flex-col">
151:            <label class="text-xs font-bold uppercase tracking-wider text-gray-500 mb-2">Email Address</label>
152:            <input
153:              v-model="formData.email"
154:              type="email"
155:              required
156:              maxlength="100"
157:              class="w-full border border-gray-300 p-3 text-sm focus:outline-none focus:border-balai-gold transition-colors"
158:            />
159:         </div>
160: 
161:         <div class="flex flex-col">
162:            <label class="text-xs font-bold uppercase tracking-wider text-gray-500 mb-2">Phone Number</label>
163:            <input
164:              v-model="formData.phone"
165:              type="tel"
166:              required
167:              maxlength="13"
168:              pattern="(09|\+639|639)\d{9}"
169:              class="w-full border border-gray-300 p-3 text-sm focus:outline-none focus:border-balai-gold transition-colors"
170:              placeholder="09171234567 or +639171234567"
171:            />
172:            <p class="text-xs text-gray-400 mt-1">PH mobile number (e.g., 0917... or +639...)</p>
173:         </div>
174: 
175:         <div class="flex flex-col">
176:            <label class="text-xs font-bold uppercase tracking-wider text-gray-500 mb-2">Password</label>
177:            <input
178:              v-model="formData.password"
179:              type="password"
180:              required
181:              minlength="8"
182:              maxlength="64"
183:              class="w-full border border-gray-300 p-3 text-sm focus:outline-none focus:border-balai-gold transition-colors"
184:            />
185:            <p class="text-xs text-gray-400 mt-1">Must be 8-64 characters</p>
186:         </div>
187: 
188:         <button
189:           type="submit"
190:           :disabled="isLoading"
191:           class="w-full bg-balai-dark text-white py-4 uppercase tracking-widest font-medium text-sm hover:bg-balai-gold transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"
192:         >
193:            {{ isLoading ? 'Creating Account...' : 'Create Account' }}
194:         </button>
195:       </form>
196: 
197:       <div class="text-center text-sm mt-8">
198:          <span class="text-gray-600">Already have an account? </span>
199:          <RouterLink to="/login" class="font-bold text-balai-gold hover:text-balai-gold-dark underline">Sign in</RouterLink>
200:       </div>
201: 
202:     </div>
203:   </main>
204: </template>
</file>

<file path="server/models/Room.js">
  1: const { DataTypes } = require('sequelize');
  2: const sequelize = require('../config/database');
  3: 
  4: const Room = sequelize.define('Room', {
  5:   room_id: {
  6:     type: DataTypes.INTEGER,
  7:     primaryKey: true,
  8:     autoIncrement: true,
  9:     field: 'room_id'
 10:   },
 11:   room_number: {
 12:     type: DataTypes.STRING(10),
 13:     allowNull: false,
 14:     unique: true,
 15:     field: 'room_number'
 16:   },
 17:   type: {
 18:     type: DataTypes.ENUM('Value', 'Standard', 'Deluxe', 'Superior', 'Suite'),
 19:     allowNull: false
 20:   },
 21:   name: {
 22:     type: DataTypes.STRING(100),
 23:     allowNull: true
 24:   },
 25:   slug: {
 26:     type: DataTypes.STRING(100),
 27:     allowNull: true,
 28:     unique: true
 29:   },
 30:   tagline: {
 31:     type: DataTypes.STRING(255),
 32:     allowNull: true
 33:   },
 34:   description: {
 35:     type: DataTypes.TEXT,
 36:     allowNull: true
 37:   },
 38:   capacity: {
 39:     type: DataTypes.STRING(50),
 40:     allowNull: true
 41:   },
 42:   size: {
 43:     type: DataTypes.STRING(20),
 44:     allowNull: true
 45:   },
 46:   amenities: {
 47:     type: DataTypes.JSON,
 48:     allowNull: true,
 49:     get() {
 50:       const rawValue = this.getDataValue('amenities');
 51:       return rawValue ? (typeof rawValue === 'string' ? JSON.parse(rawValue) : rawValue) : [];
 52:     }
 53:   },
 54:   image: {
 55:     type: DataTypes.STRING(255),
 56:     allowNull: true
 57:   },
 58:   base_rate_3hr: {
 59:     type: DataTypes.DECIMAL(10, 2),
 60:     allowNull: false,
 61:     field: 'base_rate_3hr'
 62:   },
 63:   base_rate_6hr: {
 64:     type: DataTypes.DECIMAL(10, 2),
 65:     allowNull: false,
 66:     field: 'base_rate_6hr'
 67:   },
 68:   base_rate_12hr: {
 69:     type: DataTypes.DECIMAL(10, 2),
 70:     allowNull: false,
 71:     field: 'base_rate_12hr'
 72:   },
 73:   base_rate_24hr: {
 74:     type: DataTypes.DECIMAL(10, 2),
 75:     allowNull: false,
 76:     field: 'base_rate_24hr'
 77:   },
 78:   status: {
 79:     type: DataTypes.ENUM('Available', 'Occupied', 'Dirty', 'Maintenance'),
 80:     defaultValue: 'Available'
 81:   },
 82:   lock_expiration: {
 83:     type: DataTypes.DATE,
 84:     allowNull: true,
 85:     field: 'lock_expiration'
 86:   },
 87:   locked_by_session_id: {
 88:     type: DataTypes.STRING(255),
 89:     allowNull: true,
 90:     field: 'locked_by_session_id'
 91:   }
 92: }, {
 93:   tableName: 'rooms',
 94:   timestamps: false,
 95:   underscored: true
 96: });
 97: 
 98: 
 99: Room.associate = function(models) {
100:   Room.hasMany(models.Booking, {
101:     foreignKey: 'room_id',
102:     sourceKey: 'room_id',
103:     as: 'bookings'
104:   });
105: 
106:   Room.hasMany(models.RoomImage, {
107:     foreignKey: 'room_id',
108:     sourceKey: 'room_id',
109:     as: 'images'
110:   });
111: };
112: 
113: module.exports = Room;
</file>

<file path="ims-admin/src/main.js">
 1: import { createApp } from 'vue'
 2: import { createPinia } from 'pinia'
 3: 
 4: import App from './App.vue'
 5: import router from './router'
 6: import '@fontsource/inter/300.css'
 7: import '@fontsource/inter/400.css'
 8: import '@fontsource/inter/500.css'
 9: import '@fontsource/inter/600.css'
10: import '@fontsource/inter/700.css'
11: import './assets/main.css'
12: 
13: 
14: if (import.meta.env.PROD) {
15:   console.log = function() {};
16:   console.debug = function() {};
17:   console.info = function() {};
18: 
19: }
20: 
21: const app = createApp(App)
22: 
23: app.use(createPinia())
24: app.use(router)
25: 
26: app.mount('#app')
</file>

<file path="public-website/index.html">
 1: <!DOCTYPE html>
 2: <html lang="">
 3:   <head>
 4:     <meta charset="UTF-8">
 5:     <link rel="icon" href="images/logo.svg">
 6:     <meta name="viewport" content="width=device-width, initial-scale=1.0">
 7:     <link rel="stylesheet" href="src/assets/main.css">
 8:     <title>Balai Almeda Hotel</title>
 9:   </head>
10: 
11:   <body>
12:     <div id="app"></div>
13:     <script type="module" src="/src/main.js"></script>
14:   </body>
15: 
16: </html>
</file>

<file path="public-website/package.json">
 1: {
 2:   "name": "public-website",
 3:   "version": "0.0.0",
 4:   "private": true,
 5:   "type": "module",
 6:   "engines": {
 7:     "node": "^20.19.0 || >=22.12.0"
 8:   },
 9:   "scripts": {
10:     "dev": "vite",
11:     "build": "vite build",
12:     "preview": "vite preview"
13:   },
14:   "dependencies": {
15:     "@fontsource/lato": "^5.2.7",
16:     "@fontsource/prata": "^5.2.7",
17:     "@heroicons/vue": "^2.2.0",
18:     "axios": "^1.13.2",
19:     "pinia": "^3.0.4",
20:     "vue": "^3.5.26",
21:     "vue-router": "^4.6.4",
22:     "vue-sonner": "^2.0.9"
23:   },
24:   "devDependencies": {
25:     "@vitejs/plugin-vue": "^6.0.3",
26:     "autoprefixer": "^10.4.23",
27:     "postcss": "^8.5.6",
28:     "tailwindcss": "^3.4.17",
29:     "vite": "^7.3.0",
30:     "vite-plugin-vue-devtools": "^8.0.5"
31:   }
32: }
</file>

<file path="public-website/src/components/NavBar.vue">
  1: <script setup>
  2: import { RouterLink, useRouter } from 'vue-router'
  3: import { ref, onMounted, onUnmounted, watch } from 'vue'
  4: import { useRoute } from 'vue-router'
  5: import { isAuthenticated, getUserName, logout } from '@/utils/auth'
  6: 
  7: const route = useRoute()
  8: const router = useRouter()
  9: const isScrolled = ref(false)
 10: const isMenuOpen = ref(false)
 11: const isLoggedIn = ref(false)
 12: const userName = ref('')
 13: const showProfileMenu = ref(false)
 14: 
 15: // Check authentication status
 16: const checkAuth = () => {
 17:   isLoggedIn.value = isAuthenticated()
 18:   if (isLoggedIn.value) {
 19:     userName.value = getUserName() || 'Guest'
 20:   }
 21: }
 22: 
 23: 
 24: watch(route, () => {
 25:   isMenuOpen.value = false
 26:   showProfileMenu.value = false
 27:   checkAuth()
 28: })
 29: 
 30: const handleScroll = () => {
 31:   isScrolled.value = window.scrollY > 50
 32: }
 33: 
 34: const toggleMenu = () => {
 35:   isMenuOpen.value = !isMenuOpen.value
 36: }
 37: 
 38: const toggleProfileMenu = () => {
 39:   showProfileMenu.value = !showProfileMenu.value
 40: }
 41: 
 42: const handleLogout = () => {
 43:   logout()
 44:   isLoggedIn.value = false
 45:   userName.value = ''
 46:   showProfileMenu.value = false
 47:   router.push('/')
 48: }
 49: 
 50: onMounted(() => {
 51:   window.addEventListener('scroll', handleScroll)
 52:   checkAuth()
 53: })
 54: 
 55: onUnmounted(() => {
 56:   window.removeEventListener('scroll', handleScroll)
 57: })
 58: </script>
 59: 
 60: <template>
 61:   <nav
 62:     class="fixed top-0 left-0 w-full z-50 transition-all duration-300 px-6 py-4 flex justify-between items-center font-sans"
 63:     :class="[
 64:       (isScrolled || isMenuOpen) ? 'bg-white shadow-md' : 'bg-transparent',
 65:       (isScrolled || isMenuOpen || route.path !== '/') ? 'text-balai-dark' : 'text-white'
 66:     ]"
 67:   >
 68:     <div class="z-10 relative">
 69:       <RouterLink to="/" class="hover:opacity-80 transition-opacity block">
 70:         <img
 71:           src="/images/logo.svg"
 72:           alt="Balai Almeda"
 73:           class="h-20 w-auto transition-all duration-300"
 74:           :class="(isScrolled || isMenuOpen || route.path !== '/') ? '' : 'brightness-0 invert'"
 75:         />
 76:       </RouterLink>
 77:     </div>
 78: 
 79:     <div class="hidden md:flex absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 gap-8 text-xs font-medium tracking-widest uppercase z-0">
 80:       <RouterLink to="/" class="hover:text-balai-gold transition-colors">Home</RouterLink>
 81:       <RouterLink to="/rooms" class="hover:text-balai-gold transition-colors">Rooms</RouterLink>
 82:       <RouterLink to="/virtual-tour" class="hover:text-balai-gold transition-colors">Virtual Tour</RouterLink>
 83:       <RouterLink to="/location" class="hover:text-balai-gold transition-colors">Location</RouterLink>
 84:       <RouterLink to="/contact" class="hover:text-balai-gold transition-colors">Contact</RouterLink>
 85:     </div>
 86: 
 87:     <div class="hidden md:flex items-center gap-6 z-10">
 88: 
 89:       <div v-if="!isLoggedIn" class="flex items-center gap-6">
 90:          <RouterLink to="/login" class="text-xs font-bold uppercase tracking-widest hover:text-balai-gold transition-colors">
 91:             Log In
 92:          </RouterLink>
 93:          <RouterLink
 94:            to="/signup"
 95:            class="px-6 py-2.5 text-xs font-medium uppercase tracking-widest transition-colors"
 96:            :class="(isScrolled || isMenuOpen || route.path !== '/') ? 'bg-balai-dark text-white hover:bg-balai-gold' : 'bg-white text-balai-dark hover:bg-balai-gold hover:text-white'"
 97:          >
 98:             Sign Up
 99:          </RouterLink>
100:       </div>
101: 
102:       <div v-else class="flex items-center gap-6">
103: 
104:         <RouterLink
105:           to="/rooms"
106:           class="px-6 py-3 text-[10px] font-bold uppercase tracking-widest transition-colors shadow-sm"
107:           :class="(isScrolled || isMenuOpen || route.path !== '/') ? 'bg-balai-dark text-white hover:bg-balai-gold' : 'bg-white text-balai-dark hover:bg-balai-gold hover:text-white'"
108:         >
109:           Book a Stay
110:         </RouterLink>
111: 
112:         <div
113:           class="h-8 w-px transition-colors"
114:           :class="(isScrolled || isMenuOpen || route.path !== '/') ? 'bg-gray-200' : 'bg-white/30'"
115:         ></div>
116: 
117:         <div class="relative">
118:           <button
119:             @click="toggleProfileMenu"
120:             class="flex items-center gap-3 group focus:outline-none text-left"
121:           >
122:             <div class="hidden lg:block">
123:               <span
124:                 class="block text-[9px] uppercase tracking-widest leading-none mb-1 text-right transition-colors"
125:                 :class="(isScrolled || isMenuOpen || route.path !== '/') ? 'text-gray-400' : 'text-white/60'"
126:               >Account</span>
127:               <span class="block text-xs font-bold uppercase tracking-widest group-hover:text-balai-gold transition-colors">{{ userName }}</span>
128:             </div>
129: 
130:             <div
131:               class="w-10 h-10 rounded-full flex items-center justify-center text-sm font-serif font-bold group-hover:border-balai-gold group-hover:bg-balai-gold group-hover:text-white transition-all shadow-sm"
132:               :class="(isScrolled || isMenuOpen || route.path !== '/') ? 'bg-white border border-gray-200 text-balai-dark' : 'bg-white/20 border border-white/40 text-white'"
133:             >
134:               {{ userName.charAt(0).toUpperCase() }}
135:             </div>
136:           </button>
137: 
138:           <transition name="fade">
139:             <div
140:               v-if="showProfileMenu"
141:               class="absolute right-0 top-full mt-6 w-56 bg-white shadow-xl border-t-2 border-balai-gold z-50 py-2"
142:             >
143:               <div class="px-6 py-3 border-b border-gray-100 lg:hidden">
144:                 <span class="text-xs font-bold uppercase text-balai-dark">{{ userName }}</span>
145:               </div>
146: 
147:               <RouterLink
148:                 to="/profile"
149:                 class="flex items-center gap-3 px-6 py-3 text-[10px] font-bold uppercase tracking-widest text-gray-600 hover:bg-gray-50 hover:text-balai-gold transition-colors"
150:               >
151:                 My Profile
152:               </RouterLink>
153: 
154:               <RouterLink
155:                 to="/bookings"
156:                 class="flex items-center gap-3 px-6 py-3 text-[10px] font-bold uppercase tracking-widest text-gray-600 hover:bg-gray-50 hover:text-balai-gold transition-colors"
157:               >
158:                 My Bookings
159:               </RouterLink>
160: 
161:               <div class="border-t border-gray-100 mt-1 pt-1">
162:                 <button
163:                   @click="handleLogout"
164:                   class="w-full text-left flex items-center gap-3 px-6 py-3 text-[10px] font-bold uppercase tracking-widest text-red-500 hover:bg-red-50 transition-colors"
165:                 >
166:                   Log Out
167:                 </button>
168:               </div>
169:             </div>
170:           </transition>
171:         </div>
172:       </div>
173:     </div>
174: 
175:     <button @click="toggleMenu" class="md:hidden text-2xl z-50 relative focus:outline-none transition-transform active:scale-90">
176:       <span v-if="!isMenuOpen">☰</span>
177:       <span v-else>✕</span>
178:     </button>
179: 
180:     <div
181:       class="fixed inset-0 bg-white flex flex-col items-center justify-center gap-6 text-lg font-serif transition-transform duration-300 md:hidden"
182:       :class="[isMenuOpen ? 'translate-x-0' : 'translate-x-full']"
183:     >
184:       <RouterLink to="/" class="hover:text-balai-gold">Home</RouterLink>
185:       <RouterLink to="/rooms" class="hover:text-balai-gold">Rooms</RouterLink>
186:       <RouterLink to="/virtual-tour" class="hover:text-balai-gold">Virtual Tour</RouterLink>
187:       <RouterLink to="/location" class="hover:text-balai-gold">Location</RouterLink>
188:       <RouterLink to="/contact" class="hover:text-balai-gold">Contact</RouterLink>
189: 
190:       <div v-if="!isLoggedIn" class="flex flex-col items-center gap-4 mt-8 w-full px-12">
191:          <div class="w-12 border-t border-gray-200 mb-2"></div>
192:          <RouterLink to="/login" class="text-xs font-sans font-bold uppercase tracking-widest hover:text-balai-gold">
193:             Log In
194:          </RouterLink>
195:          <RouterLink to="/signup" class="bg-balai-dark text-white w-full py-4 text-center text-xs font-sans font-medium uppercase tracking-widest hover:bg-balai-gold">
196:             Sign Up
197:          </RouterLink>
198:       </div>
199: 
200:       <div v-else class="flex flex-col items-center gap-5 mt-6 w-full px-10">
201:          <div class="w-12 border-t border-gray-200 mb-2"></div>
202: 
203:          <div class="flex flex-col items-center mb-2">
204:             <div class="w-12 h-12 rounded-full bg-balai-dark text-white flex items-center justify-center text-xl font-serif mb-2 shadow-md">
205:               {{ userName.charAt(0).toUpperCase() }}
206:             </div>
207:             <span class="text-[10px] font-sans text-gray-400 uppercase tracking-widest">Welcome back</span>
208:             <span class="text-lg font-serif text-balai-dark">{{ userName }}</span>
209:          </div>
210: 
211:          <RouterLink to="/rooms" class="bg-balai-dark text-white w-full py-4 text-center text-xs font-sans font-bold uppercase tracking-widest hover:bg-balai-gold shadow-sm">
212:             Book a Stay
213:          </RouterLink>
214: 
215:          <div class="grid grid-cols-2 gap-3 w-full">
216:            <RouterLink to="/profile" class="text-center py-3 border border-gray-200 text-[10px] font-sans font-bold uppercase tracking-widest hover:border-balai-gold hover:text-balai-gold transition-colors">
217:              Profile
218:            </RouterLink>
219:            <RouterLink to="/bookings" class="text-center py-3 border border-gray-200 text-[10px] font-sans font-bold uppercase tracking-widest hover:border-balai-gold hover:text-balai-gold transition-colors">
220:              Bookings
221:            </RouterLink>
222:          </div>
223: 
224:          <button @click="handleLogout" class="mt-4 text-xs font-sans font-bold uppercase tracking-widest text-red-500 hover:text-red-700">
225:            Log Out
226:          </button>
227:       </div>
228:     </div>
229:   </nav>
230: </template>
231: 
232: <style scoped>
233: .fade-enter-active,
234: .fade-leave-active {
235:   transition: opacity 0.2s ease, transform 0.2s ease;
236: }
237: 
238: .fade-enter-from,
239: .fade-leave-to {
240:   opacity: 0;
241:   transform: translateY(-10px);
242: }
243: </style>
</file>

<file path="public-website/src/main.js">
 1: import { createApp } from 'vue'
 2: import { createPinia } from 'pinia'
 3: 
 4: 
 5: import '@fontsource/lato/300.css'
 6: import '@fontsource/lato/400.css'
 7: import '@fontsource/lato/700.css'
 8: import '@fontsource/prata/400.css'
 9: 
10: 
11: import { Toaster } from 'vue-sonner'
12: import 'vue-sonner/style.css'
13: 
14: import App from './App.vue'
15: import router from './router'
16: 
17: 
18: if (import.meta.env.PROD) {
19:   console.log = function() {};
20:   console.debug = function() {};
21:   console.info = function() {};
22: 
23: }
24: 
25: const app = createApp(App)
26: 
27: app.use(createPinia())
28: app.use(router)
29: 
30: 
31: app.component('Toaster', Toaster)
32: 
33: app.mount('#app')
</file>

<file path="public-website/src/views/ProfileView.vue">
  1: <template>
  2:   <div class="min-h-screen bg-gray-50 pt-28 pb-12 px-6 font-sans text-balai-dark">
  3:     <div class="max-w-6xl mx-auto">
  4: 
  5:       <h1 class="text-3xl md:text-4xl font-serif mb-8">Account Settings</h1>
  6: 
  7:       <div v-if="user" class="grid grid-cols-1 lg:grid-cols-3 gap-8">
  8: 
  9:         <div class="lg:col-span-1">
 10:           <div class="bg-white shadow-lg shadow-gray-200/50 p-8 text-center border border-gray-100 top-28">
 11:             <div class="w-24 h-24 rounded-full bg-balai-dark text-white flex items-center justify-center text-3xl font-serif mx-auto mb-4 shadow-md">
 12:               {{ user.firstName?.charAt(0) }}
 13:             </div>
 14: 
 15:             <h2 class="font-serif text-2xl mb-1">{{ user.firstName }} {{ user.lastName }}</h2>
 16:             <p class="text-xs font-bold uppercase tracking-widest text-gray-400 mb-6">{{ user.role }} Account</p>
 17: 
 18:             <div class="border-t border-gray-100 pt-6 space-y-3">
 19:               <div class="flex justify-between text-sm">
 20:                 <span class="text-gray-500">Member since</span>
 21:                 <span class="font-medium">{{ userStats.memberSince || '...' }}</span>
 22:               </div>
 23:               <div class="flex justify-between text-sm">
 24:                 <span class="text-gray-500">Bookings</span>
 25:                 <span class="font-medium">{{ userStats.totalBookings || 0 }}</span>
 26:               </div>
 27:             </div>
 28:           </div>
 29:         </div>
 30: 
 31:         <div class="lg:col-span-2 space-y-6">
 32: 
 33:           <div class="bg-white shadow-md shadow-gray-200/40 p-8 border border-gray-100">
 34:             <div class="flex justify-between items-center mb-6">
 35:               <h3 class="font-serif text-xl">Personal Information</h3>
 36:               <button
 37:                 @click="isEditing = !isEditing"
 38:                 class="text-[10px] font-bold uppercase tracking-widest text-balai-gold hover:text-balai-dark transition-colors"
 39:               >
 40:                 {{ isEditing ? 'Cancel Edit' : 'Edit Details' }}
 41:               </button>
 42:             </div>
 43: 
 44: 
 45:             <div v-if="profileMessage.text" class="mb-6 p-4 border" :class="profileMessage.type === 'success' ? 'bg-green-50 border-green-200 text-green-800' : 'bg-red-50 border-red-200 text-red-800'">
 46:               <p class="text-sm">{{ profileMessage.text }}</p>
 47:             </div>
 48: 
 49:             <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
 50:               <div class="space-y-1">
 51:                 <label class="text-[10px] font-bold uppercase tracking-widest text-gray-400">First Name</label>
 52:                 <div v-if="!isEditing" class="text-base font-medium border-b border-transparent py-2">{{ user.firstName }}</div>
 53:                 <input v-else type="text" v-model="form.firstName" maxlength="50" class="w-full border-b border-gray-300 py-2 focus:outline-none focus:border-balai-gold bg-gray-50 px-2 transition-colors" />
 54:               </div>
 55: 
 56:               <div class="space-y-1">
 57:                 <label class="text-[10px] font-bold uppercase tracking-widest text-gray-400">Last Name</label>
 58:                 <div v-if="!isEditing" class="text-base font-medium border-b border-transparent py-2">{{ user.lastName }}</div>
 59:                 <input v-else type="text" v-model="form.lastName" maxlength="50" class="w-full border-b border-gray-300 py-2 focus:outline-none focus:border-balai-gold bg-gray-50 px-2 transition-colors" />
 60:               </div>
 61: 
 62:               <div class="space-y-1 md:col-span-2">
 63:                 <label class="text-[10px] font-bold uppercase tracking-widest text-gray-400">Email Address</label>
 64:                 <div v-if="!isEditing" class="text-base font-medium border-b border-transparent py-2">{{ user.email }}</div>
 65:                 <input v-else type="email" v-model="form.email" maxlength="100" class="w-full border-b border-gray-300 py-2 focus:outline-none focus:border-balai-gold bg-gray-50 px-2 transition-colors" />
 66:               </div>
 67: 
 68:               <div class="space-y-1 md:col-span-2">
 69:                 <label class="text-[10px] font-bold uppercase tracking-widest text-gray-400">Phone Number</label>
 70:                 <div v-if="!isEditing" class="text-base font-medium border-b border-transparent py-2">{{ user.phone || 'No phone number added' }}</div>
 71:                 <input v-else type="tel" v-model="form.phone" maxlength="13" pattern="(09|\+639|639)\d{9}" placeholder="09171234567 or +639171234567" class="w-full border-b border-gray-300 py-2 focus:outline-none focus:border-balai-gold bg-gray-50 px-2 transition-colors" />
 72:               </div>
 73:             </div>
 74: 
 75:             <div v-if="isEditing" class="mt-8 flex justify-end gap-4 animate-fade-in">
 76:               <button @click="isEditing = false" class="px-6 py-3 text-xs font-bold uppercase tracking-widest text-gray-500 hover:text-balai-dark transition-colors">Cancel</button>
 77:               <button
 78:                 @click="saveProfile"
 79:                 :disabled="isSavingProfile"
 80:                 class="px-6 py-3 bg-balai-dark text-white text-xs font-bold uppercase tracking-widest hover:bg-balai-gold transition-colors shadow-md disabled:opacity-50 disabled:cursor-not-allowed"
 81:               >
 82:                 {{ isSavingProfile ? 'Saving...' : 'Save Changes' }}
 83:               </button>
 84:             </div>
 85:           </div>
 86: 
 87:           <div class="bg-white shadow-md shadow-gray-200/40 p-8 border border-gray-100">
 88:             <div class="flex justify-between items-center mb-6">
 89:               <h3 class="font-serif text-xl">Security</h3>
 90:             </div>
 91: 
 92: 
 93:             <div v-if="passwordMessage.text" class="mb-6 p-4 border" :class="passwordMessage.type === 'success' ? 'bg-green-50 border-green-200 text-green-800' : 'bg-red-50 border-red-200 text-red-800'">
 94:               <p class="text-sm">{{ passwordMessage.text }}</p>
 95:             </div>
 96: 
 97:             <div v-if="!isChangingPassword">
 98:                <div class="flex items-center justify-between p-4 bg-gray-50 border border-gray-100">
 99:                   <div class="flex items-center gap-3">
100:                     <LockClosedIcon class="w-5 h-5 text-gray-600" />
101:                     <div>
102:                       <p class="text-sm font-bold text-gray-700">Password</p>
103:                     </div>
104:                   </div>
105:                   <button
106:                     @click="isChangingPassword = true"
107:                     class="text-[10px] font-bold uppercase tracking-widest text-balai-dark hover:text-balai-gold transition-colors border border-gray-300 px-4 py-2 hover:border-balai-gold"
108:                   >
109:                     Change
110:                   </button>
111:                </div>
112:             </div>
113: 
114:             <div v-else class="space-y-4 animate-fade-in">
115:               <div class="space-y-1">
116:                 <label class="text-[10px] font-bold uppercase tracking-widest text-gray-400">Current Password</label>
117:                 <input
118:                   v-model="passwordForm.currentPassword"
119:                   type="password"
120:                   maxlength="64"
121:                   class="w-full border border-gray-200 p-3 text-sm focus:outline-none focus:border-balai-gold transition-colors"
122:                 />
123:               </div>
124:               <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
125:                 <div class="space-y-1">
126:                   <label class="text-[10px] font-bold uppercase tracking-widest text-gray-400">New Password</label>
127:                   <input
128:                     v-model="passwordForm.newPassword"
129:                     type="password"
130:                     minlength="8"
131:                     maxlength="64"
132:                     class="w-full border border-gray-200 p-3 text-sm focus:outline-none focus:border-balai-gold transition-colors"
133:                   />
134:                   <p class="text-xs text-gray-400 mt-1">Must be 8-64 characters</p>
135:                 </div>
136:                 <div class="space-y-1">
137:                   <label class="text-[10px] font-bold uppercase tracking-widest text-gray-400">Confirm Password</label>
138:                   <input
139:                     v-model="passwordForm.confirmPassword"
140:                     type="password"
141:                     minlength="8"
142:                     maxlength="64"
143:                     class="w-full border border-gray-200 p-3 text-sm focus:outline-none focus:border-balai-gold transition-colors"
144:                   />
145:                 </div>
146:               </div>
147:               <div class="flex justify-end gap-4 pt-4">
148:                 <button @click="isChangingPassword = false" class="px-6 py-3 text-xs font-bold uppercase tracking-widest text-gray-500 hover:text-balai-dark transition-colors">Cancel</button>
149:                 <button
150:                   @click="changePassword"
151:                   :disabled="isSavingPassword"
152:                   class="px-6 py-3 bg-balai-dark text-white text-xs font-bold uppercase tracking-widest hover:bg-balai-gold transition-colors shadow-md disabled:opacity-50 disabled:cursor-not-allowed"
153:                 >
154:                   {{ isSavingPassword ? 'Updating...' : 'Update Password' }}
155:                 </button>
156:               </div>
157:             </div>
158:           </div>
159: 
160:         </div>
161:       </div>
162: 
163:       <div v-else class="text-center py-20 bg-white shadow-sm border border-gray-100">
164:         <p class="text-gray-600 mb-6 font-serif text-lg">Please log in to manage your account.</p>
165:         <RouterLink
166:           to="/login"
167:           class="inline-block bg-balai-dark text-white px-8 py-3 text-xs font-bold uppercase tracking-widest hover:bg-balai-gold transition-colors"
168:         >
169:           Log In
170:         </RouterLink>
171:       </div>
172: 
173:     </div>
174:   </div>
175: </template>
176: 
177: <script setup>
178: import { ref, onMounted, reactive } from 'vue'
179: import { RouterLink, useRouter } from 'vue-router'
180: import { getUser, getToken, isAuthenticated } from '@/utils/auth'
181: import api from '@/services/api'
182: import { LockClosedIcon } from '@heroicons/vue/24/outline'
183: 
184: const router = useRouter()
185: const user = ref(null)
186: 
187: 
188: const userStats = ref({
189:   memberSince: null,
190:   totalBookings: 0
191: })
192: 
193: 
194: const isEditing = ref(false)
195: const isChangingPassword = ref(false)
196: const isSavingProfile = ref(false)
197: const isSavingPassword = ref(false)
198: const profileMessage = ref({ type: '', text: '' })
199: const passwordMessage = ref({ type: '', text: '' })
200: 
201: // Form State
202: const form = reactive({
203:   firstName: '',
204:   lastName: '',
205:   email: '',
206:   phone: ''
207: })
208: 
209: // Password Form State
210: const passwordForm = reactive({
211:   currentPassword: '',
212:   newPassword: '',
213:   confirmPassword: ''
214: })
215: 
216: // Phone number validation regex for PH mobile numbers
217: const phoneRegex = /^(09|\+639|639)\d{9}$/
218: 
219: // Validate phone number format
220: const validatePhone = (phone) => {
221:   if (!phone) return true // Phone is optional in profile
222:   // Remove all spaces and dashes for validation
223:   const cleanPhone = phone.replace(/[\s-]/g, '')
224:   return phoneRegex.test(cleanPhone)
225: }
226: 
227: // Fetch user stats (member since and total bookings)
228: const fetchUserStats = async () => {
229:   try {
230:     const response = await api.get('/auth/stats', true)
231: 
232:     if (response.ok && response.data.success) {
233: 
234:       if (!response.data.stats || typeof response.data.stats !== 'object') {
235:         console.warn('⚠️ API Response Validation Failed: Expected stats object, got:', typeof response.data.stats)
236:         userStats.value = {
237:           memberSince: new Date().toISOString(),
238:           totalBookings: 0
239:         }
240:         return
241:       }
242: 
243: 
244:       userStats.value = {
245:         memberSince: response.data.stats.memberSince ?? new Date().toISOString(),
246:         totalBookings: response.data.stats.totalBookings ?? 0
247:       }
248:     }
249:   } catch (error) {
250:     console.error('Failed to fetch user stats:', error)
251: 
252:     userStats.value = {
253:       memberSince: new Date().toISOString(),
254:       totalBookings: 0
255:     }
256:   }
257: }
258: 
259: 
260: const saveProfile = async () => {
261:   isSavingProfile.value = true
262:   profileMessage.value = { type: '', text: '' }
263: 
264:   // Trim whitespace from names
265:   form.firstName = form.firstName.trim()
266:   form.lastName = form.lastName.trim()
267:   form.phone = form.phone.trim()
268: 
269:   // Validate required fields
270:   if (!form.firstName || !form.lastName || !form.email) {
271:     profileMessage.value = { type: 'error', text: 'First name, last name, and email are required' }
272:     isSavingProfile.value = false
273:     return
274:   }
275: 
276: 
277:   if (form.phone && !validatePhone(form.phone)) {
278:     profileMessage.value = { type: 'error', text: 'Please enter a valid PH mobile number (e.g., 0917... or +639...)' }
279:     isSavingProfile.value = false
280:     return
281:   }
282: 
283:   try {
284:     const response = await api.put('/auth/profile', {
285:       firstName: form.firstName,
286:       lastName: form.lastName,
287:       email: form.email,
288:       phone: form.phone
289:     }, true)
290: 
291:     if (response.ok && response.data.success) {
292: 
293:       localStorage.setItem('user', JSON.stringify(response.data.user))
294:       user.value = response.data.user
295: 
296: 
297:       form.firstName = response.data.user.firstName
298:       form.lastName = response.data.user.lastName
299:       form.email = response.data.user.email
300:       form.phone = response.data.user.phone
301: 
302:       profileMessage.value = { type: 'success', text: 'Profile updated successfully!' }
303:       isEditing.value = false
304: 
305: 
306:       setTimeout(() => {
307:         profileMessage.value = { type: '', text: '' }
308:       }, 3000)
309:     } else {
310:       profileMessage.value = { type: 'error', text: response.data.message || 'Failed to update profile' }
311:     }
312:   } catch (error) {
313:     console.error('Profile update error:', error)
314:     profileMessage.value = { type: 'error', text: 'Network error. Please try again.' }
315:   } finally {
316:     isSavingProfile.value = false
317:   }
318: }
319: 
320: 
321: const changePassword = async () => {
322: 
323:   if (passwordForm.newPassword !== passwordForm.confirmPassword) {
324:     passwordMessage.value = { type: 'error', text: 'New passwords do not match' }
325:     return
326:   }
327: 
328: 
329:   if (passwordForm.newPassword.length < 8) {
330:     passwordMessage.value = { type: 'error', text: 'Password must be at least 8 characters' }
331:     return
332:   }
333: 
334:   if (passwordForm.newPassword.length > 64) {
335:     passwordMessage.value = { type: 'error', text: 'Password must not exceed 64 characters' }
336:     return
337:   }
338: 
339:   isSavingPassword.value = true
340:   passwordMessage.value = { type: '', text: '' }
341: 
342:   try {
343:     const response = await api.put('/auth/change-password', {
344:       currentPassword: passwordForm.currentPassword,
345:       newPassword: passwordForm.newPassword
346:     }, true)
347: 
348:     if (response.ok && response.data.success) {
349:       passwordMessage.value = { type: 'success', text: 'Password changed successfully!' }
350:       isChangingPassword.value = false
351: 
352: 
353:       passwordForm.currentPassword = ''
354:       passwordForm.newPassword = ''
355:       passwordForm.confirmPassword = ''
356: 
357:       // Clear message after 3 seconds
358:       setTimeout(() => {
359:         passwordMessage.value = { type: '', text: '' }
360:       }, 3000)
361:     } else {
362:       passwordMessage.value = { type: 'error', text: response.data.message || 'Failed to change password' }
363:     }
364:   } catch (error) {
365:     console.error('Password change error:', error)
366:     passwordMessage.value = { type: 'error', text: 'Network error. Please try again.' }
367:   } finally {
368:     isSavingPassword.value = false
369:   }
370: }
371: 
372: onMounted(() => {
373:   if (!isAuthenticated()) {
374:     router.push('/login')
375:   } else {
376:     user.value = getUser()
377: 
378:     if (user.value) {
379:       form.firstName = user.value.firstName
380:       form.lastName = user.value.lastName
381:       form.email = user.value.email
382:       form.phone = user.value.phone || ''
383:     }
384: 
385:     fetchUserStats()
386:   }
387: })
388: </script>
389: 
390: <style scoped>
391: .animate-fade-in {
392:   animation: fadeIn 0.3s ease-out forwards;
393: }
394: 
395: @keyframes fadeIn {
396:   from { opacity: 0; transform: translateY(-5px); }
397:   to { opacity: 1; transform: translateY(0); }
398: }
399: </style>
</file>

<file path="server/models/Booking.js">
 1: const { DataTypes } = require('sequelize');
 2: const sequelize = require('../config/database');
 3: 
 4: const Booking = sequelize.define('Booking', {
 5:   booking_id: {
 6:     type: DataTypes.INTEGER,
 7:     primaryKey: true,
 8:     autoIncrement: true,
 9:     field: 'booking_id'
10:   },
11:   guest_id: {
12:     type: DataTypes.INTEGER,
13:     allowNull: true,
14:     field: 'guest_id'
15:   },
16:   room_id: {
17:     type: DataTypes.INTEGER,
18:     allowNull: false,
19:     field: 'room_id'
20:   },
21:   reference_code: {
22:     type: DataTypes.STRING(20),
23:     unique: true,
24:     field: 'reference_code'
25:   },
26:   checkout_session_id: {
27:     type: DataTypes.STRING(255),
28:     allowNull: true,
29:     field: 'checkout_session_id'
30:   },
31:   check_in_time: {
32:     type: DataTypes.DATE,
33:     allowNull: true,
34:     field: 'check_in_time'
35:   },
36:   check_out_time: {
37:     type: DataTypes.DATE,
38:     allowNull: true,
39:     field: 'check_out_time'
40:   },
41:   duration_hours: {
42:     type: DataTypes.INTEGER,
43:     allowNull: false,
44:     field: 'duration_hours'
45:   },
46:   source: {
47:     type: DataTypes.ENUM('Web', 'Walk_in'),
48:     defaultValue: 'Web'
49:   },
50:   status: {
51:     type: DataTypes.ENUM('Pending_Payment', 'Confirmed', 'Checked_In', 'Completed', 'Cancelled'),
52:     defaultValue: 'Pending_Payment'
53:   },
54:   total_amount: {
55:     type: DataTypes.DECIMAL(10, 2),
56:     allowNull: false,
57:     field: 'total_amount'
58:   },
59:   created_at: {
60:     type: DataTypes.DATE,
61:     defaultValue: DataTypes.NOW,
62:     field: 'created_at'
63:   }
64: }, {
65:   tableName: 'bookings',
66:   timestamps: false,
67:   underscored: true
68: });
69: 
70: 
71: Booking.associate = function(models) {
72:   Booking.belongsTo(models.Room, {
73:     foreignKey: 'room_id',
74:     targetKey: 'room_id',
75:     as: 'room'
76:   });
77: };
78: 
79: module.exports = Booking;
</file>

<file path="server/package.json">
 1: {
 2:   "name": "server",
 3:   "version": "1.0.0",
 4:   "main": "server.js",
 5:   "scripts": {
 6:     "start": "nodemon server.js"
 7:   },
 8:   "keywords": [],
 9:   "author": "",
10:   "license": "ISC",
11:   "description": "",
12:   "dependencies": {
13:     "axios": "^1.13.2",
14:     "bcryptjs": "^3.0.3",
15:     "body-parser": "^2.2.2",
16:     "cors": "^2.8.5",
17:     "dotenv": "^17.2.3",
18:     "express": "^5.2.1",
19:     "express-rate-limit": "^8.2.1",
20:     "express-rate-limiter": "^1.3.1",
21:     "jsonwebtoken": "^9.0.3",
22:     "mysql2": "^3.16.1",
23:     "nodemon": "^3.1.11",
24:     "sequelize": "^6.37.7",
25:     "validator": "^13.15.26"
26:   },
27:   "devDependencies": {
28:     "sequelize-cli": "^6.6.5"
29:   }
30: }
</file>

<file path="server/routes/authRoutes.js">
 1: const express = require('express');
 2: const router = express.Router();
 3: const authController = require('../controllers/authController');
 4: const authMiddleware = require('../middleware/authMiddleware');
 5: const { authLimiter } = require('../middleware/rateLimiters');
 6: 
 7: 
 8: 
 9: router.post('/signup', authLimiter, authController.signup);
10: 
11: 
12: router.post('/login', authLimiter, authController.login);
13: 
14: 
15: router.put('/profile', authMiddleware.verifyToken, authController.updateProfile);
16: 
17: 
18: router.put('/change-password', authMiddleware.verifyToken, authController.changePassword);
19: 
20: 
21: router.get('/stats', authMiddleware.verifyToken, authController.getUserStats);
22: 
23: module.exports = router;
</file>

<file path="server/routes/paymentRoutes.js">
 1: const express = require('express');
 2: const router = express.Router();
 3: const paymentController = require('../controllers/paymentController');
 4: const { verifyToken } = require('../middleware/authMiddleware');
 5: 
 6: 
 7: 
 8: router.post('/create-checkout', verifyToken, paymentController.createCheckoutSession);
 9: 
10: 
11: router.post('/webhook', paymentController.handleWebhook);
12: 
13: 
14: router.get('/verify/:referenceCode', paymentController.verifyPayment);
15: 
16: 
17: router.get('/booking/:referenceCode', paymentController.getBookingByReference);
18: 
19: 
20: router.get('/my-bookings', verifyToken, paymentController.getUserBookings);
21: 
22: 
23: router.get('/cleanup-stale-bookings', paymentController.cancelStaleBookings);
24: 
25: module.exports = router;
</file>

<file path="public-website/src/router/index.js">
  1: import { createRouter, createWebHistory } from 'vue-router'
  2: import HomeView from '../views/HomeView.vue'
  3: import RoomsView from '../views/RoomsView.vue'
  4: import VirtualTourView from '../views/VirtualTourView.vue'
  5: import LocationView from '../views/LocationView.vue'
  6: import ContactView from '../views/ContactView.vue'
  7: import SignUpView from '../views/SignUpView.vue'
  8: import LoginView from '../views/LoginView.vue'
  9: import PrivacyView from '../views/PrivacyView.vue'
 10: import CookiesView from '../views/CookiesView.vue'
 11: import BookingView from '../views/BookingView.vue'
 12: import BookingSuccessView from '../views/BookingSuccessView.vue'
 13: import RoomsDetailsView from '../views/RoomsDetailsView.vue'
 14: import AvailabilityView from '../views/AvailabilityView.vue'
 15: import ProfileView from '../views/ProfileView.vue'
 16: import MyBookingsView from '../views/MyBookingsView.vue'
 17: 
 18: 
 19: const router = createRouter({
 20:   history: createWebHistory(import.meta.env.BASE_URL),
 21:   routes: [
 22:     {
 23:       path: '/',
 24:       name: 'home',
 25:       component: HomeView
 26:     },
 27:     {
 28:       path: '/rooms',
 29:       name: 'rooms',
 30:       component: RoomsView
 31:     },
 32:     {
 33:       path: '/virtual-tour',
 34:       name: 'virtual-tour',
 35:       component: VirtualTourView
 36:     },
 37:     {
 38:       path: '/location',
 39:       name: 'location',
 40:       component: LocationView
 41:     },
 42:     {
 43:       path: '/contact',
 44:       name: 'contact',
 45:       component: ContactView
 46:     },
 47:     {
 48:       path: '/signup',
 49:       name: 'signup',
 50:       component: SignUpView
 51:     },
 52:     {
 53:       path: '/login',
 54:       name: 'login',
 55:       component: LoginView
 56:     },
 57:     {
 58:       path: '/privacy',
 59:       name: 'privacy',
 60:       component: PrivacyView
 61:     },
 62:     {
 63:       path: '/cookies',
 64:       name: 'cookies',
 65:       component: CookiesView
 66:     },
 67:     {
 68:       path: '/booking',
 69:       name: 'booking',
 70:       component: BookingView
 71:     },
 72:     {
 73:       path: '/booking-success',
 74:       name: 'booking-success',
 75:       component: BookingSuccessView
 76:     },
 77:     {
 78:       path: '/rooms/details',
 79:       name: 'rooms-details',
 80:       component: RoomsDetailsView
 81:     },
 82:     {
 83:       path: '/availability',
 84:       name: 'availability',
 85:       component: AvailabilityView
 86:     },
 87:     {
 88:       path: '/profile',
 89:       name: 'profile',
 90:       component: ProfileView
 91:     },
 92:     {
 93:       path: '/bookings',
 94:       name: 'bookings',
 95:       component: MyBookingsView
 96:     },
 97:   ],
 98:   scrollBehavior() {
 99:     return { top: 0 }
100:   }
101: })
102: 
103: export default router
</file>

<file path="public-website/src/views/BookingSuccessView.vue">
  1: <script setup>
  2: import { ref, onMounted } from 'vue'
  3: import { useRoute, useRouter } from 'vue-router'
  4: import { CheckCircleIcon } from '@heroicons/vue/24/solid'
  5: 
  6: const route = useRoute()
  7: const router = useRouter()
  8: 
  9: const loading = ref(true)
 10: const error = ref(null)
 11: const booking = ref(null)
 12: 
 13: onMounted(async () => {
 14: 
 15:   const referenceCode = route.query.reference
 16: 
 17:   if (!referenceCode) {
 18:     error.value = 'No booking reference found'
 19:     loading.value = false
 20:     setTimeout(() => router.push('/rooms'), 3000)
 21:     return
 22:   }
 23: 
 24: 
 25:   try {
 26:     const response = await fetch(`http://localhost:3000/api/payment/verify/${referenceCode}`)
 27:     const data = await response.json()
 28: 
 29:     if (data.success) {
 30: 
 31:       if (!data.booking || typeof data.booking !== 'object') {
 32:         error.value = 'Invalid booking data received from server'
 33:         setTimeout(() => router.push('/rooms'), 3000)
 34:         return
 35:       }
 36: 
 37: 
 38:       booking.value = {
 39:         referenceCode: data.booking.referenceCode ?? 'N/A',
 40:         guestName: data.booking.guestName ?? 'Guest',
 41:         email: data.booking.email ?? 'N/A',
 42:         phone: data.booking.phone ?? 'N/A',
 43:         checkInTime: data.booking.checkInTime ?? null,
 44:         checkOutTime: data.booking.checkOutTime ?? null,
 45:         totalAmount: data.booking.totalAmount ?? 0,
 46:         durationHours: data.booking.durationHours ?? 0,
 47:         status: data.booking.status ?? 'Pending',
 48:         roomId: data.booking.roomId ?? null,
 49:         roomName: data.booking.roomName ?? 'Unknown Room'
 50:       }
 51: 
 52: 
 53:       if (data.status === 'pending') {
 54: 
 55:       }
 56:     } else {
 57:       error.value = 'Booking not found or payment not confirmed'
 58:       setTimeout(() => router.push('/rooms'), 3000)
 59:     }
 60:   } catch (err) {
 61:     error.value = 'Failed to verify booking'
 62:     setTimeout(() => router.push('/rooms'), 3000)
 63:   } finally {
 64:     loading.value = false
 65:   }
 66: })
 67: 
 68: const formatDate = (dateString) => {
 69:   if (!dateString) return 'N/A'
 70:   const date = new Date(dateString)
 71:   if (isNaN(date.getTime())) return 'N/A'
 72:   return new Intl.DateTimeFormat('en-US', {
 73:     month: 'short', day: 'numeric', year: 'numeric'
 74:   }).format(date)
 75: }
 76: 
 77: const formatTime = (dateString) => {
 78:   if (!dateString) return 'N/A'
 79:   const date = new Date(dateString)
 80:   if (isNaN(date.getTime())) return 'N/A'
 81:   return new Intl.DateTimeFormat('en-US', {
 82:     hour: 'numeric', minute: 'numeric', hour12: true
 83:   }).format(date)
 84: }
 85: 
 86: const formatPrice = (price) => {
 87:   if (!price || isNaN(price)) return '0.00'
 88:   return parseFloat(price).toLocaleString('en-US', {
 89:     minimumFractionDigits: 2,
 90:     maximumFractionDigits: 2
 91:   })
 92: }
 93: 
 94: const goToMyBookings = () => {
 95:   router.push('/my-bookings')
 96: }
 97: 
 98: const goToHome = () => {
 99:   router.push('/')
100: }
101: </script>
102: 
103: <template>
104:   <main class="min-h-screen bg-gray-50 font-sans text-balai-dark pt-32 pb-20 px-6">
105: 
106:     <div v-if="loading" class="container mx-auto max-w-xl text-center pt-10">
107:       <div class="bg-white p-12 shadow-sm border border-gray-100">
108:         <div class="animate-spin h-10 w-10 border-2 border-gray-100 border-t-balai-gold mx-auto mb-6"></div>
109:         <p class="text-xs font-bold uppercase tracking-widest text-gray-400">Verifying Payment...</p>
110:       </div>
111:     </div>
112: 
113:     <div v-else-if="error" class="container mx-auto max-w-xl text-center pt-10">
114:       <div class="bg-white p-12 shadow-sm border border-gray-100">
115:         <div class="w-16 h-16 bg-red-50 text-red-500 flex items-center justify-center text-2xl mx-auto mb-6">✕</div>
116:         <h2 class="font-serif text-2xl mb-4 text-red-600">Verification Failed</h2>
117:         <p class="text-gray-600 mb-8 text-sm leading-relaxed">{{ error }}</p>
118:         <p class="text-[10px] font-bold uppercase tracking-widest text-gray-400">Redirecting...</p>
119:       </div>
120:     </div>
121: 
122:     <div v-else-if="booking" class="container mx-auto max-w-4xl">
123: 
124:       <div class="text-center mb-12">
125:         <div class="w-20 h-20 rounded-full bg-balai-dark text-white flex items-center justify-center mx-auto mb-8 shadow-lg">
126:           <CheckCircleIcon class="w-12 h-12" />
127:         </div>
128:         <h1 class="font-serif text-3xl md:text-5xl mb-4 text-balai-dark">
129:           {{ booking.status === 'Confirmed' ? 'Booking Confirmed' : 'Payment Received' }}
130:         </h1>
131:         <p class="text-gray-500 text-xs font-bold uppercase tracking-[0.2em]">
132:           {{ booking.status === 'Confirmed' ? 'Your stay is secured' : 'Processing your reservation' }}
133:         </p>
134: 
135:         <p v-if="booking.status === 'Pending_Payment'" class="text-yellow-600 text-xs mt-4 bg-yellow-50 inline-block px-4 py-2 border border-yellow-200">
136:           We are finalizing your payment details.
137:         </p>
138:       </div>
139: 
140:       <div class="bg-white shadow-xl shadow-gray-200/50 border border-gray-100">
141: 
142:         <div class="bg-balai-dark text-white p-8 md:p-10 text-center relative overflow-hidden">
143:           <div class="absolute top-0 left-0 w-full h-1 bg-balai-gold opacity-50"></div>
144: 
145:           <p class="text-[10px] font-bold uppercase tracking-widest mb-3 text-gray-400">Reference Code</p>
146:           <h2 class="font-serif text-4xl md:text-5xl tracking-wide">{{ booking.referenceCode }}</h2>
147:         </div>
148: 
149:         <div class="p-8 md:p-12">
150: 
151:           <div class="grid grid-cols-1 md:grid-cols-2 gap-12 mb-12 pb-12 border-b border-gray-100">
152:             <div>
153:                <h3 class="text-[10px] font-bold uppercase tracking-widest text-gray-400 mb-4">Accommodation</h3>
154:                <p class="font-serif text-2xl md:text-3xl mb-1">{{ booking.roomName }}</p>
155:                <p class="text-sm text-gray-500">{{ booking.durationHours }} Hour Duration</p>
156:             </div>
157: 
158:             <div class="flex flex-col justify-end">
159:                <div class="flex justify-between items-end mb-1">
160:                  <span class="text-sm text-gray-500">Amount Paid</span>
161:                  <span class="font-serif text-2xl text-balai-dark">₱{{ formatPrice(booking.totalAmount) }}</span>
162:                </div>
163:                <div class="text-right">
164:                  <span class="text-[10px] font-bold uppercase tracking-widest px-2 py-1 bg-green-50 text-green-700">
165:                    {{ booking.status }}
166:                  </span>
167:                </div>
168:             </div>
169:           </div>
170: 
171:           <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
172:             <div class="bg-gray-50 p-6 border border-gray-100">
173:               <h4 class="text-[10px] font-bold uppercase tracking-widest text-gray-400 mb-2">Check-In</h4>
174:               <p class="font-serif text-xl mb-1">{{ formatDate(booking.checkInTime) }}</p>
175:               <p class="text-sm text-balai-gold font-medium">{{ formatTime(booking.checkInTime) }}</p>
176:             </div>
177: 
178:             <div class="bg-gray-50 p-6 border border-gray-100">
179:               <h4 class="text-[10px] font-bold uppercase tracking-widest text-gray-400 mb-2">Check-Out</h4>
180:               <p class="font-serif text-xl mb-1">{{ formatDate(booking.checkOutTime) }}</p>
181:               <p class="text-sm text-balai-gold font-medium">{{ formatTime(booking.checkOutTime) }}</p>
182:             </div>
183:           </div>
184: 
185:           <div class="bg-white border border-gray-200 p-8 mb-10">
186:             <h4 class="font-serif text-lg mb-4 flex items-center gap-2">
187:               <span class="text-balai-gold">✦</span> Guest Reminders
188:             </h4>
189:             <ul class="text-sm text-gray-600 space-y-3 pl-1">
190:               <li class="flex gap-3">
191:                 <span class="text-balai-gold font-bold">01</span>
192:                 <span>A confirmation email has been sent to your inbox.</span>
193:               </li>
194:               <li class="flex gap-3">
195:                 <span class="text-balai-gold font-bold">02</span>
196:                 <span>Please present your reference code <b>{{ booking.referenceCode }}</b> upon arrival.</span>
197:               </li>
198:               <li class="flex gap-3">
199:                 <span class="text-balai-gold font-bold">03</span>
200:                 <span>Standard check-in requires a valid government ID.</span>
201:               </li>
202:             </ul>
203:           </div>
204: 
205:           <div class="flex flex-col md:flex-row gap-4">
206:             <button
207:               @click="goToMyBookings"
208:               class="flex-1 bg-balai-dark text-white py-4 px-6 text-xs font-bold uppercase tracking-widest hover:bg-balai-gold transition-colors"
209:             >
210:               View My Bookings
211:             </button>
212:             <button
213:               @click="goToHome"
214:               class="flex-1 bg-white border border-gray-200 text-balai-dark py-4 px-6 text-xs font-bold uppercase tracking-widest hover:border-balai-dark transition-colors"
215:             >
216:               Return Home
217:             </button>
218:           </div>
219: 
220:         </div>
221:       </div>
222: 
223:       <div class="text-center mt-12 mb-8">
224:         <p class="text-sm text-gray-500 font-serif italic">"We look forward to welcoming you home."</p>
225:       </div>
226: 
227:     </div>
228:   </main>
229: </template>
</file>

<file path="public-website/src/views/RoomsDetailsView.vue">
  1: <script setup>
  2: import { ref, computed, onMounted, watch } from 'vue'
  3: import { RouterLink, useRoute, useRouter } from 'vue-router'
  4: import { isAuthenticated } from '@/utils/auth'
  5: import LoginRequiredModal from '@/components/modals/LoginRequiredModal.vue'
  6: import { CheckIcon } from '@heroicons/vue/24/solid'
  7: 
  8: const route = useRoute()
  9: const router = useRouter()
 10: const room = ref(null)
 11: const loading = ref(true)
 12: const error = ref(null)
 13: const showLoginModal = ref(false)
 14: 
 15: 
 16: const fetchRoomDetails = async (slug) => {
 17:   try {
 18:     loading.value = true
 19:     error.value = null
 20: 
 21:     const response = await fetch(`http://localhost:3000/api/rooms/${slug}`)
 22:     const data = await response.json()
 23: 
 24:     if (data.success) {
 25: 
 26:       if (!data.room || typeof data.room !== 'object') {
 27:         console.warn('⚠️ API Response Validation Failed: Expected room object, got:', typeof data.room)
 28:         error.value = 'Invalid room data received from server'
 29:         return
 30:       }
 31: 
 32: 
 33:       room.value = {
 34:         id: data.room.id ?? 'unknown',
 35:         name: data.room.name ?? 'Unnamed Room',
 36:         capacity: data.room.capacity ?? 'N/A',
 37:         size: data.room.size ?? 'N/A',
 38:         description: data.room.description ?? 'No description available',
 39:         image: data.room.image ?? 'bg-gray-300',
 40:         rates: {
 41:           '3h': data.room.rates?.['3h'] ?? 0,
 42:           '6h': data.room.rates?.['6h'] ?? 0,
 43:           '12h': data.room.rates?.['12h'] ?? 0,
 44:           '24h': data.room.rates?.['24h'] ?? 0
 45:         },
 46:         amenities: Array.isArray(data.room.amenities) ? data.room.amenities : [],
 47:         images: data.room.images ?? []
 48:       }
 49:     } else {
 50:       error.value = 'Room not found'
 51:     }
 52:   } catch (err) {
 53:     console.error('Error fetching room details:', err)
 54:     error.value = 'Network error. Please try again later.'
 55:   } finally {
 56:     loading.value = false
 57:   }
 58: }
 59: 
 60: const formatPrice = (price) => price ? price.toLocaleString() : '0'
 61: 
 62: 
 63: const primaryImage = computed(() => {
 64:   if (!room.value || !room.value.images || room.value.images.length === 0) return null
 65:   return room.value.images.find(img => img.isPrimary)
 66: })
 67: 
 68: 
 69: const galleryImages = computed(() => {
 70:   if (!room.value || !room.value.images || room.value.images.length === 0) return []
 71:   return room.value.images
 72:     .filter(img => !img.isPrimary)
 73:     .sort((a, b) => (a.displayOrder || 0) - (b.displayOrder || 0))
 74:     .slice(0, 3)
 75: })
 76: 
 77: 
 78: const handleBookNow = (roomId) => {
 79:   if (!isAuthenticated()) {
 80:     showLoginModal.value = true
 81:   } else {
 82:     router.push({ path: '/availability', query: { id: roomId } })
 83:   }
 84: }
 85: 
 86: 
 87: watch(() => route.query.id, (newId) => {
 88:   if (newId) {
 89:     fetchRoomDetails(newId)
 90:   }
 91: }, { immediate: true })
 92: 
 93: onMounted(() => {
 94:   const roomId = route.query.id || 'standard'
 95:   fetchRoomDetails(roomId)
 96: })
 97: </script>
 98: 
 99: <template>
100:   <main class="min-h-screen bg-balai-bg font-sans text-balai-dark pt-24 pb-20 px-4 md:px-6">
101: 
102: 
103:     <div v-if="loading" class="container mx-auto max-w-6xl text-center py-20">
104:       <p class="text-gray-600">Loading room details...</p>
105:     </div>
106: 
107: 
108:     <div v-else-if="error" class="container mx-auto max-w-6xl text-center py-20">
109:       <p class="text-red-600 mb-4">{{ error }}</p>
110:       <RouterLink to="/rooms" class="text-sm font-bold uppercase tracking-widest text-balai-gold hover:text-balai-dark">
111:         Back to Rooms
112:       </RouterLink>
113:     </div>
114: 
115: 
116:     <div v-else-if="room" class="container mx-auto max-w-6xl">
117: 
118:       <div class="mb-6 text-xs font-bold uppercase tracking-widest text-gray-400">
119:         <RouterLink to="/" class="hover:text-balai-gold">Home</RouterLink>
120:         <span class="mx-2">/</span>
121:         <RouterLink to="/rooms" class="hover:text-balai-gold">Rooms</RouterLink>
122:         <span class="mx-2">/</span>
123:         <span class="text-balai-gold-dark">{{ room.name }}</span>
124:       </div>
125: 
126:       <div class="grid grid-cols-1 md:grid-cols-4 gap-4 h-[50vh] mb-12">
127: 
128:         <div class="md:col-span-2 h-full bg-gray-300 relative overflow-hidden group">
129:            <img
130:              v-if="primaryImage"
131:              :src="primaryImage.path"
132:              :alt="primaryImage.altText || room.name"
133:              class="absolute inset-0 w-full h-full object-cover"
134:            />
135:            <div class="absolute inset-0 bg-black/10 group-hover:bg-transparent transition-colors"></div>
136:         </div>
137: 
138:         <div class="md:col-span-2 grid grid-cols-2 gap-4 h-full">
139:            <div
140:              v-for="(img, index) in galleryImages.slice(0, 2)"
141:              :key="img.id"
142:              class="bg-gray-300 h-full relative overflow-hidden"
143:            >
144:              <img
145:                :src="img.path"
146:                :alt="img.altText || room.name"
147:                class="absolute inset-0 w-full h-full object-cover"
148:              />
149:            </div>
150:            <div
151:              v-if="galleryImages[2]"
152:              class="bg-gray-300 h-full relative overflow-hidden"
153:            >
154:              <img
155:                :src="galleryImages[2].path"
156:                :alt="galleryImages[2].altText || room.name"
157:                class="absolute inset-0 w-full h-full object-cover"
158:              />
159:            </div>
160:            <div
161:              v-else
162:              class="bg-gray-300 h-full"
163:            ></div>
164:            <div class="bg-gray-300 h-full relative flex items-center justify-center cursor-pointer hover:bg-gray-400 transition-colors">
165:               <span class="font-serif text-white text-lg underline">View All Photos</span>
166:            </div>
167:         </div>
168:       </div>
169: 
170:       <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
171: 
172:         <div class="lg:col-span-2 space-y-12">
173:            <div>
174:               <h1 class="font-serif text-4xl md:text-5xl mb-4 text-balai-dark">{{ room.name }}</h1>
175: 
176:               <p class="text-xl text-balai-gold-dark font-serif mb-6">
177:                 Starts at ₱{{ formatPrice(room.rates['3h']) }} <span class="text-sm font-sans text-gray-500">/ 3hrs</span>
178:               </p>
179: 
180:               <p class="text-gray-600 leading-relaxed text-lg">
181:                  {{ room.description }}
182:               </p>
183:            </div>
184: 
185:            <div class="border-t border-gray-200 pt-8">
186:               <h3 class="font-serif text-2xl mb-6">Room Amenities</h3>
187:               <div class="grid grid-cols-2 md:grid-cols-3 gap-4 text-sm text-gray-600">
188:                  <div v-for="amenity in room.amenities" :key="amenity" class="flex items-center gap-2">
189:                     <CheckIcon class="w-4 h-4 text-green-600" /> {{ amenity }}
190:                  </div>
191:               </div>
192:            </div>
193:         </div>
194: 
195:         <div class="lg:col-span-1">
196:            <div class="bg-white p-8 shadow-xl border-t-4 border-balai-gold sticky top-24">
197:               <h3 class="font-serif text-2xl mb-6">Reserve this Stay</h3>
198: 
199:               <div class="space-y-4 mb-8">
200:                  <div class="flex justify-between text-sm border-b border-gray-100 pb-2">
201:                     <span class="text-gray-500">Capacity</span>
202:                     <span class="font-bold">{{ room.capacity }}</span>
203:                  </div>
204:                  <div class="flex justify-between text-sm border-b border-gray-100 pb-2">
205:                     <span class="text-gray-500">Size</span>
206:                     <span class="font-bold">{{ room.size }}</span>
207:                  </div>
208:                  </div>
209: 
210:               <div class="bg-gray-50 p-4 rounded mb-8">
211:                  <p class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 text-center">Available Rates</p>
212:                  <div class="space-y-2 text-sm">
213:                     <div class="flex justify-between items-center">
214:                        <span class="text-gray-600">3 Hours</span>
215:                        <span class="font-bold text-balai-dark">₱{{ formatPrice(room.rates['3h']) }}</span>
216:                     </div>
217:                     <div class="flex justify-between items-center">
218:                        <span class="text-gray-600">6 Hours</span>
219:                        <span class="font-bold text-balai-dark">₱{{ formatPrice(room.rates['6h']) }}</span>
220:                     </div>
221:                     <div class="flex justify-between items-center">
222:                        <span class="text-gray-600">12 Hours</span>
223:                        <span class="font-bold text-balai-dark">₱{{ formatPrice(room.rates['12h']) }}</span>
224:                     </div>
225:                     <div class="flex justify-between items-center border-t border-gray-200 pt-2 mt-2">
226:                        <span class="text-gray-600">24 Hours</span>
227:                        <span class="font-bold text-balai-gold-dark">₱{{ formatPrice(room.rates['24h']) }}</span>
228:                     </div>
229:                  </div>
230:               </div>
231: 
232:               <button
233:                  @click="handleBookNow(room.id)"
234:                  class="block w-full bg-balai-dark text-white text-center py-4 text-sm font-medium uppercase tracking-widest hover:bg-balai-gold transition-colors"
235:               >
236:                  Proceed to Book
237:               </button>
238: 
239:               <p class="text-xs text-center text-gray-400 mt-4">Select duration at checkout</p>
240:            </div>
241:         </div>
242: 
243:       </div>
244: 
245:     </div>
246: 
247: 
248:     <LoginRequiredModal
249:         :isOpen="showLoginModal"
250:         @close="showLoginModal = false"
251:     />
252:   </main>
253: </template>
</file>

<file path="server/controllers/authController.js">
  1: const bcrypt = require('bcryptjs');
  2: const jwt = require('jsonwebtoken');
  3: const User = require('../models/User');
  4: const Booking = require('../models/Booking');
  5: 
  6: 
  7: 
  8: const JWT_SECRET = process.env.JWT_SECRET;
  9: 
 10: 
 11: const phoneRegex = /^(09|\+639|639)\d{9}$/;
 12: 
 13: 
 14: 
 15: const emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
 16: 
 17: /**
 18:  * 🔒 SECURITY: Validate password strength (Section 2.6)
 19:  * Enforces strong password policy:
 20:  * - Minimum 8 characters
 21:  * - At least 1 number
 22:  * - At least 1 special character (!@#$%^&*(),.?":{}|<>)
 23:  *
 24:  * @param {string} password - The password to validate
 25:  * @returns {boolean} True if password meets all requirements
 26:  */
 27: const validatePasswordStrength = (password) => {
 28:   if (!password || password.length < 8) {
 29:     return false;
 30:   }
 31: 
 32:   const hasNumber = /\d/.test(password);
 33:   const hasSpecial = /[!@#$%^&*(),.?":{}|<>]/.test(password);
 34: 
 35:   return hasNumber && hasSpecial;
 36: };
 37: 
 38: /**
 39:  * 🔒 SECURITY: Validate email format (Section 2.7)
 40:  * Uses strict regex validation to prevent invalid/malicious emails
 41:  *
 42:  * @param {string} email - The email to validate
 43:  * @returns {boolean} True if email is valid
 44:  */
 45: const validateEmailFormat = (email) => {
 46:   if (!email || typeof email !== 'string') {
 47:     return false;
 48:   }
 49: 
 50:   return emailRegex.test(email.trim());
 51: };
 52: 
 53: 
 54: 
 55: 
 56: 
 57: 
 58: const normalizePhoneNumber = (phone) => {
 59:   if (!phone) return null;
 60: 
 61: 
 62:   let cleanPhone = phone.replace(/[\s\-\(\)]/g, '');
 63: 
 64:   // Normalize to 09xxxxxxxxx format
 65:   if (cleanPhone.startsWith('+639')) {
 66:     cleanPhone = '0' + cleanPhone.substring(3);
 67:   } else if (cleanPhone.startsWith('639')) {
 68:     cleanPhone = '0' + cleanPhone.substring(2);
 69:   }
 70: 
 71:   return cleanPhone;
 72: };
 73: 
 74: 
 75: 
 76: 
 77: 
 78: const validatePhoneNumber = (phone) => {
 79:   if (!phone) return false;
 80:   const cleanPhone = phone.replace(/[\s\-\(\)]/g, '');
 81:   return phoneRegex.test(cleanPhone);
 82: };
 83: 
 84: // Register a new user
 85: exports.signup = async (req, res) => {
 86:   try {
 87:     const { firstName, lastName, email, phone, password } = req.body;
 88: 
 89:     // Validate required fields
 90:     if (!firstName || !lastName || !email || !phone || !password) {
 91:       return res.status(400).json({
 92:         success: false,
 93:         message: 'All fields are required'
 94:       });
 95:     }
 96: 
 97: 
 98:     const trimmedFirstName = firstName.trim();
 99:     const trimmedLastName = lastName.trim();
100: 
101: 
102:     if (!validateEmailFormat(email)) {
103:       console.warn(`⚠️ SECURITY: Invalid email format attempt: ${email}`);
104:       return res.status(400).json({
105:         success: false,
106:         message: 'Invalid email format'
107:       });
108:     }
109: 
110: 
111:     if (trimmedFirstName.length > 50 || trimmedLastName.length > 50) {
112:       return res.status(400).json({
113:         success: false,
114:         message: 'Names must not exceed 50 characters'
115:       });
116:     }
117: 
118:     if (trimmedFirstName.length === 0 || trimmedLastName.length === 0) {
119:       return res.status(400).json({
120:         success: false,
121:         message: 'Names cannot be empty'
122:       });
123:     }
124: 
125: 
126:     if (!validatePhoneNumber(phone)) {
127:       return res.status(400).json({
128:         success: false,
129:         message: 'Invalid phone number format. Please use a valid PH mobile number (e.g., 0917... or +639...)'
130:       });
131:     }
132: 
133: 
134:     const normalizedPhone = normalizePhoneNumber(phone);
135: 
136: 
137:     if (!validatePasswordStrength(password)) {
138:       console.warn(`⚠️ SECURITY: Weak password attempt for email: ${email}`);
139:       return res.status(400).json({
140:         success: false,
141:         message: 'Password must be 8+ chars with a number and special character'
142:       });
143:     }
144: 
145: 
146:     if (password.length < 8) {
147:       return res.status(400).json({
148:         success: false,
149:         message: 'Password must be at least 8 characters'
150:       });
151:     }
152: 
153:     if (password.length > 64) {
154:       return res.status(400).json({
155:         success: false,
156:         message: 'Password must not exceed 64 characters'
157:       });
158:     }
159: 
160: 
161:     const existingUser = await User.findOne({ where: { email } });
162:     if (existingUser) {
163:       return res.status(400).json({
164:         success: false,
165:         message: 'Email already registered'
166:       });
167:     }
168: 
169: 
170:     const hashedPassword = await bcrypt.hash(password, 10);
171: 
172: 
173:     const user = await User.create({
174:       first_name: trimmedFirstName,
175:       last_name: trimmedLastName,
176:       email,
177:       phone: normalizedPhone,
178:       password: hashedPassword,
179:       role: 'Guest'
180:     });
181: 
182: 
183:     const token = jwt.sign(
184:       { id: user.user_id, email: user.email, role: user.role },
185:       JWT_SECRET,
186:       { expiresIn: '24h' }
187:     );
188: 
189:     res.status(201).json({
190:       success: true,
191:       message: 'Account created successfully',
192:       token,
193:       user: {
194:         id: user.user_id,
195:         firstName: user.first_name,
196:         lastName: user.last_name,
197:         email: user.email,
198:         phone: user.phone,
199:         role: user.role
200:       }
201:     });
202:   } catch (error) {
203:     console.error('Signup error:', error);
204:     res.status(500).json({
205:       success: false,
206:       message: 'Server error. Please try again later.'
207:     });
208:   }
209: };
210: 
211: 
212: exports.login = async (req, res) => {
213:   try {
214:     const { email, password } = req.body;
215: 
216: 
217:     if (!email || !password) {
218:       return res.status(400).json({
219:         success: false,
220:         message: 'Email and password are required'
221:       });
222:     }
223: 
224: 
225:     const user = await User.findOne({ where: { email } });
226:     if (!user) {
227:       return res.status(401).json({
228:         success: false,
229:         message: 'Invalid email or password'
230:       });
231:     }
232: 
233: 
234:     const isPasswordValid = await bcrypt.compare(password, user.password);
235:     if (!isPasswordValid) {
236:       return res.status(401).json({
237:         success: false,
238:         message: 'Invalid email or password'
239:       });
240:     }
241: 
242: 
243:     const token = jwt.sign(
244:       { id: user.user_id, email: user.email, role: user.role },
245:       JWT_SECRET,
246:       { expiresIn: '24h' }
247:     );
248: 
249:     res.status(200).json({
250:       success: true,
251:       message: 'Login successful',
252:       token,
253:       user: {
254:         id: user.user_id,
255:         firstName: user.first_name,
256:         lastName: user.last_name,
257:         email: user.email,
258:         phone: user.phone,
259:         role: user.role
260:       }
261:     });
262:   } catch (error) {
263:     console.error('Login error:', error);
264:     res.status(500).json({
265:       success: false,
266:       message: 'Server error. Please try again later.'
267:     });
268:   }
269: };
270: 
271: 
272: exports.updateProfile = async (req, res) => {
273:   try {
274:     const userId = req.userId;
275:     const { firstName, lastName, email, phone } = req.body;
276: 
277: 
278:     if (!firstName || !lastName || !email) {
279:       return res.status(400).json({
280:         success: false,
281:         message: 'First name, last name, and email are required'
282:       });
283:     }
284: 
285: 
286:     const trimmedFirstName = firstName.trim();
287:     const trimmedLastName = lastName.trim();
288: 
289: 
290:     if (trimmedFirstName.length > 50 || trimmedLastName.length > 50) {
291:       return res.status(400).json({
292:         success: false,
293:         message: 'Names must not exceed 50 characters'
294:       });
295:     }
296: 
297:     if (trimmedFirstName.length === 0 || trimmedLastName.length === 0) {
298:       return res.status(400).json({
299:         success: false,
300:         message: 'Names cannot be empty'
301:       });
302:     }
303: 
304: 
305:     let normalizedPhone = null;
306:     if (phone && phone.trim()) {
307:       if (!validatePhoneNumber(phone)) {
308:         return res.status(400).json({
309:           success: false,
310:           message: 'Invalid phone number format. Please use a valid PH mobile number (e.g., 0917... or +639...)'
311:         });
312:       }
313:       normalizedPhone = normalizePhoneNumber(phone);
314:     }
315: 
316: 
317:     const user = await User.findByPk(userId);
318:     if (!user) {
319:       return res.status(404).json({
320:         success: false,
321:         message: 'User not found'
322:       });
323:     }
324: 
325: 
326:     if (email !== user.email) {
327:       const existingUser = await User.findOne({ where: { email } });
328:       if (existingUser) {
329:         return res.status(400).json({
330:           success: false,
331:           message: 'Email already in use by another account'
332:         });
333:       }
334:     }
335: 
336: 
337:     await user.update({
338:       first_name: trimmedFirstName,
339:       last_name: trimmedLastName,
340:       email,
341:       phone: normalizedPhone || user.phone
342:     });
343: 
344:     res.status(200).json({
345:       success: true,
346:       message: 'Profile updated successfully',
347:       user: {
348:         id: user.user_id,
349:         firstName: user.first_name,
350:         lastName: user.last_name,
351:         email: user.email,
352:         phone: user.phone,
353:         role: user.role
354:       }
355:     });
356:   } catch (error) {
357:     console.error('Update profile error:', error);
358:     res.status(500).json({
359:       success: false,
360:       message: 'Server error. Please try again later.'
361:     });
362:   }
363: };
364: 
365: 
366: exports.changePassword = async (req, res) => {
367:   try {
368:     const userId = req.userId;
369:     const { currentPassword, newPassword } = req.body;
370: 
371: 
372:     if (!currentPassword || !newPassword) {
373:       return res.status(400).json({
374:         success: false,
375:         message: 'Current password and new password are required'
376:       });
377:     }
378: 
379: 
380:     if (newPassword.length < 8) {
381:       return res.status(400).json({
382:         success: false,
383:         message: 'New password must be at least 8 characters long'
384:       });
385:     }
386: 
387:     if (newPassword.length > 64) {
388:       return res.status(400).json({
389:         success: false,
390:         message: 'New password must not exceed 64 characters'
391:       });
392:     }
393: 
394: 
395:     const user = await User.findByPk(userId);
396:     if (!user) {
397:       return res.status(404).json({
398:         success: false,
399:         message: 'User not found'
400:       });
401:     }
402: 
403: 
404:     const isPasswordValid = await bcrypt.compare(currentPassword, user.password);
405:     if (!isPasswordValid) {
406:       return res.status(401).json({
407:         success: false,
408:         message: 'Current password is incorrect'
409:       });
410:     }
411: 
412: 
413:     const hashedPassword = await bcrypt.hash(newPassword, 10);
414: 
415: 
416:     await user.update({
417:       password: hashedPassword
418:     });
419: 
420:     res.status(200).json({
421:       success: true,
422:       message: 'Password changed successfully'
423:     });
424:   } catch (error) {
425:     console.error('Change password error:', error);
426:     res.status(500).json({
427:       success: false,
428:       message: 'Server error. Please try again later.'
429:     });
430:   }
431: };
432: 
433: 
434: exports.getUserStats = async (req, res) => {
435:   try {
436:     const userId = req.userId;
437: 
438: 
439:     const user = await User.findByPk(userId);
440:     if (!user) {
441:       return res.status(404).json({
442:         success: false,
443:         message: 'User not found'
444:       });
445:     }
446: 
447: 
448:     const totalBookings = await Booking.count({
449:       where: {
450:         guest_id: userId,
451:         status: ['Pending_Payment', 'Confirmed', 'Checked_In', 'Completed']
452:       }
453:     });
454: 
455: 
456:     const registrationYear = user.created_at ? new Date(user.created_at).getFullYear() : new Date().getFullYear();
457: 
458:     res.status(200).json({
459:       success: true,
460:       stats: {
461:         memberSince: registrationYear,
462:         totalBookings: totalBookings
463:       }
464:     });
465:   } catch (error) {
466:     console.error('Get user stats error:', error);
467:     res.status(500).json({
468:       success: false,
469:       message: 'Server error. Please try again later.'
470:     });
471:   }
472: };
</file>

<file path="server/controllers/roomController.js">
  1: const { Room, RoomImage, Booking } = require('../models');
  2: const { Op } = require('sequelize');
  3: const sequelize = require('../config/database');
  4: const { cleanUpStaleBookingsInternal } = require('./paymentController');
  5: 
  6: 
  7: exports.getAllRooms = async (req, res) => {
  8:   try {
  9:     console.log('=== GET ALL ROOMS ===');
 10: 
 11:     const rooms = await Room.findAll({
 12:       where: {
 13:         status: ['Available', 'Occupied']
 14:       },
 15:       include: [{
 16:         model: RoomImage,
 17:         as: 'images',
 18:         required: false
 19:       }],
 20:       order: [['type', 'ASC'], ['base_rate_3hr', 'ASC']]
 21:     });
 22: 
 23:     console.log(`Found ${rooms.length} physical rooms in database`);
 24: 
 25: 
 26:     const roomsByType = {};
 27: 
 28:     rooms.forEach(room => {
 29:       const type = room.type;
 30: 
 31:       if (!roomsByType[type]) {
 32:         roomsByType[type] = room;
 33:         console.log(`  - Type "${type}": Using ${room.room_number} as representative`);
 34:       }
 35:     });
 36: 
 37:     console.log(`Grouped into ${Object.keys(roomsByType).length} unique room types`);
 38: 
 39: 
 40:     const formattedRooms = Object.values(roomsByType).map(room => {
 41:       const genericSlug = room.type.toLowerCase() + '-room';
 42: 
 43:       return {
 44:         id: genericSlug,
 45:         name: `${room.type} Room`,
 46:         slug: genericSlug,
 47:         tagline: room.tagline || '',
 48:         description: room.description || '',
 49:         capacity: room.capacity || '2 Adults',
 50:         size: room.size || '25m²',
 51:         rates: {
 52:           '3h': parseFloat(room.base_rate_3hr),
 53:           '6h': parseFloat(room.base_rate_6hr),
 54:           '12h': parseFloat(room.base_rate_12hr),
 55:           '24h': parseFloat(room.base_rate_24hr)
 56:         },
 57:         amenities: room.amenities || [],
 58:         image: room.image || 'bg-gray-300',
 59:         images: room.images ? room.images.map(img => ({
 60:           id: img.image_id,
 61:           path: img.image_path,
 62:           isPrimary: img.is_primary
 63:         })) : [],
 64:         type: room.type
 65:       };
 66:     });
 67: 
 68:     console.log(`Returning ${formattedRooms.length} room type(s) to frontend`);
 69:     formattedRooms.forEach(r => console.log(`  - ${r.id} (${r.name})`));
 70: 
 71:     res.status(200).json({
 72:       success: true,
 73:       rooms: formattedRooms
 74:     });
 75:   } catch (error) {
 76:     console.error('Get all rooms error:', error);
 77:     console.error('Error name:', error.name);
 78:     console.error('Error message:', error.message);
 79:     console.error('Error stack:', error.stack);
 80:     res.status(500).json({
 81:       success: false,
 82:       message: 'Server error. Please try again later.'
 83:     });
 84:   }
 85: };
 86: 
 87: 
 88: exports.getRoomBySlug = async (req, res) => {
 89:   try {
 90:     const { slug } = req.params;
 91: 
 92: 
 93:     const slugToType = {
 94:       'value-room': 'Value',
 95:       'standard-room': 'Standard',
 96:       'deluxe-room': 'Deluxe',
 97:       'superior-room': 'Superior',
 98:       'suite-room': 'Suite'
 99:     };
100: 
101:     let room;
102: 
103: 
104:     room = await Room.findOne({
105:       where: { slug },
106:       include: [{
107:         model: RoomImage,
108:         as: 'images',
109:         required: false
110:       }]
111:     });
112: 
113: 
114:     if (!room && slugToType[slug]) {
115:       room = await Room.findOne({
116:         where: { type: slugToType[slug] },
117:         include: [{
118:           model: RoomImage,
119:           as: 'images',
120:           required: false
121:         }]
122:       });
123:     }
124: 
125: 
126:     if (!room) {
127:       const type = slug.charAt(0).toUpperCase() + slug.slice(1).replace('-room', '');
128:       room = await Room.findOne({
129:         where: { type: type },
130:         include: [{
131:           model: RoomImage,
132:           as: 'images',
133:           required: false
134:         }]
135:       });
136:     }
137: 
138:     if (!room) {
139:       return res.status(404).json({
140:         success: false,
141:         message: 'Room not found'
142:       });
143:     }
144: 
145: 
146:     const genericSlug = room.type.toLowerCase() + '-room';
147: 
148:     const formattedRoom = {
149:       id: genericSlug,
150:       name: `${room.type} Room`,
151:       slug: genericSlug,
152:       tagline: room.tagline || '',
153:       description: room.description || '',
154:       capacity: room.capacity || '2 Adults',
155:       size: room.size || '25m²',
156:       rates: {
157:         '3h': parseFloat(room.base_rate_3hr),
158:         '6h': parseFloat(room.base_rate_6hr),
159:         '12h': parseFloat(room.base_rate_12hr),
160:         '24h': parseFloat(room.base_rate_24hr)
161:       },
162:       amenities: room.amenities || [],
163:       image: room.image || 'bg-gray-300',
164:       images: room.images ? room.images.map(img => ({
165:         id: img.image_id,
166:         path: img.image_path,
167:         isPrimary: img.is_primary
168:       })) : [],
169:       type: room.type
170:     };
171: 
172:     res.status(200).json({
173:       success: true,
174:       room: formattedRoom
175:     });
176:   } catch (error) {
177:     console.error('Get room by slug error:', error);
178:     res.status(500).json({
179:       success: false,
180:       message: 'Server error. Please try again later.'
181:     });
182:   }
183: };
184: 
185: 
186: exports.getAvailableRooms = async (req, res) => {
187:   try {
188:     const rooms = await Room.findAll({
189:       where: {
190:         status: 'Available'
191:       },
192:       include: [{
193:         model: RoomImage,
194:         as: 'images',
195:         required: false
196:       }],
197:       order: [['base_rate_3hr', 'ASC']]
198:     });
199: 
200:     const formattedRooms = rooms.map(room => ({
201:       id: room.slug || room.type.toLowerCase(),
202:       name: room.name || `${room.type} Room`,
203:       slug: room.slug || room.type.toLowerCase(),
204:       type: room.type,
205:       rates: {
206:         '3h': parseFloat(room.base_rate_3hr),
207:         '6h': parseFloat(room.base_rate_6hr),
208:         '12h': parseFloat(room.base_rate_12hr),
209:         '24h': parseFloat(room.base_rate_24hr)
210:       },
211:       roomNumber: room.room_number,
212:       images: room.images ? room.images.map(img => ({
213:         id: img.image_id,
214:         path: img.image_path,
215:         isPrimary: img.is_primary
216:       })) : []
217:     }));
218: 
219:     res.status(200).json({
220:       success: true,
221:       rooms: formattedRooms
222:     });
223:   } catch (error) {
224:     console.error('Get available rooms error:', error);
225:     res.status(500).json({
226:       success: false,
227:       message: 'Server error. Please try again later.'
228:     });
229:   }
230: };
231: 
232: 
233: exports.checkAvailability = async (req, res) => {
234:   try {
235:     console.log('=== CHECK AVAILABILITY ===');
236: 
237: 
238:     await cleanUpStaleBookingsInternal();
239: 
240:     const { slug } = req.params;
241:     const { checkInDate, checkInTime, duration } = req.query;
242: 
243:     console.log(`Requested slug: ${slug}`);
244:     console.log(`Check-in: ${checkInDate} ${checkInTime}, Duration: ${duration}`);
245: 
246: 
247:     if (!checkInDate || !checkInTime || !duration) {
248:       return res.status(400).json({
249:         success: false,
250:         message: 'Missing required parameters: checkInDate, checkInTime, duration'
251:       });
252:     }
253: 
254: 
255:     const [hours, minutes] = checkInTime.split(':').map(Number);
256:     if (minutes % 5 !== 0) {
257:       return res.status(400).json({
258:         success: false,
259:         message: 'Check-in time must be in 5-minute increments (e.g., 14:00, 14:05, 14:10)'
260:       });
261:     }
262: 
263: 
264:     const slugToType = {
265:       'value-room': 'Value',
266:       'standard-room': 'Standard',
267:       'deluxe-room': 'Deluxe',
268:       'superior-room': 'Superior',
269:       'suite-room': 'Suite'
270:     };
271: 
272:     let roomType = slugToType[slug];
273: 
274: 
275:     if (!roomType) {
276:       roomType = slug.charAt(0).toUpperCase() + slug.slice(1).replace('-room', '');
277:     }
278: 
279:     // Find ALL physical rooms of this type
280:     const roomsOfType = await Room.findAll({
281:       where: {
282:         type: roomType,
283:         status: ['Available', 'Occupied']
284:       }
285:     });
286: 
287:     console.log(`Found ${roomsOfType.length} physical rooms of type "${roomType}"`);
288: 
289:     if (roomsOfType.length === 0) {
290:       return res.status(404).json({
291:         success: false,
292:         message: 'Room type not found'
293:       });
294:     }
295: 
296: 
297:     const durationHours = parseInt(duration.replace('h', ''));
298: 
299:     // Create check-in and check-out datetime
300:     const checkIn = new Date(`${checkInDate}T${checkInTime}`);
301:     const checkOut = new Date(checkIn.getTime() + (durationHours * 60 * 60 * 1000));
302: 
303:     // Get Booking model
304:     const Booking = sequelize.models.Booking || require('../models/Booking');
305:     const CLEANING_GAP_MINUTES = 30;
306: 
307: 
308:     const availableRooms = [];
309: 
310:     console.log(`Checking availability for each physical room...`);
311: 
312:     for (const room of roomsOfType) {
313: 
314:       if (room.lock_expiration && new Date(room.lock_expiration) > new Date()) {
315:         console.log(`  - Room ${room.room_number}: LOCKED (expires ${room.lock_expiration})`);
316:         continue;
317:       }
318: 
319: 
320:       const conflictingBookings = await Booking.findAll({
321:         where: {
322:           room_id: room.room_id,
323:           status: {
324:             [Op.in]: ['Pending_Payment', 'Confirmed', 'Checked_In']
325:           }
326:         }
327:       });
328: 
329: 
330:       let hasConflict = false;
331:       for (const booking of conflictingBookings) {
332:         const existingCheckIn = new Date(booking.check_in_time);
333:         const existingCheckOut = new Date(booking.check_out_time);
334: 
335: 
336:         const existingCheckOutWithCleaning = new Date(existingCheckOut.getTime() + CLEANING_GAP_MINUTES * 60000);
337: 
338: 
339: 
340: 
341:         const hasOverlap = (
342:           checkIn < existingCheckOutWithCleaning &&
343:           checkOut > existingCheckIn
344:         );
345: 
346:         if (hasOverlap) {
347:           hasConflict = true;
348:           break;
349:         }
350:       }
351: 
352: 
353:       if (!hasConflict) {
354:         availableRooms.push({
355:           id: room.room_id,
356:           number: room.room_number,
357:           name: room.name
358:         });
359:         console.log(`  - Room ${room.room_number}: AVAILABLE ✓`);
360:       } else {
361:         console.log(`  - Room ${room.room_number}: BOOKED (conflict found)`);
362:       }
363:     }
364: 
365:     console.log(`Result: ${availableRooms.length} room(s) available`);
366: 
367: 
368:     const representativeRoom = roomsOfType[0];
369:     const genericSlug = representativeRoom.type.toLowerCase() + '-room';
370: 
371: 
372:     if (availableRooms.length > 0) {
373:       res.status(200).json({
374:         success: true,
375:         available: true,
376:         message: `${availableRooms.length} ${representativeRoom.type} Room${availableRooms.length > 1 ? 's' : ''} available for your selected time!`,
377:         availableRooms: availableRooms,
378:         roomId: availableRooms[0].id,
379:         room: {
380:           id: genericSlug,
381:           name: `${representativeRoom.type} Room`,
382:           type: representativeRoom.type,
383:           image: representativeRoom.image,
384:           rates: {
385:             '3h': parseFloat(representativeRoom.base_rate_3hr),
386:             '6h': parseFloat(representativeRoom.base_rate_6hr),
387:             '12h': parseFloat(representativeRoom.base_rate_12hr),
388:             '24h': parseFloat(representativeRoom.base_rate_24hr)
389:           },
390:           capacity: representativeRoom.capacity,
391:           tagline: representativeRoom.tagline
392:         },
393:         booking: {
394:           checkInDate,
395:           checkInTime,
396:           checkIn: checkIn.toISOString(),
397:           checkOut: checkOut.toISOString(),
398:           duration,
399:           durationHours
400:         }
401:       });
402:     } else {
403:       res.status(200).json({
404:         success: true,
405:         available: false,
406:         message: `All ${representativeRoom.type} rooms are fully booked for the selected time. Please note: rooms require a 30-minute cleaning period between bookings.`,
407:         availableRooms: [],
408:         room: {
409:           id: genericSlug,
410:           name: `${representativeRoom.type} Room`,
411:           type: representativeRoom.type,
412:           image: representativeRoom.image
413:         },
414:         booking: {
415:           checkInDate,
416:           checkInTime,
417:           checkIn: checkIn.toISOString(),
418:           checkOut: checkOut.toISOString(),
419:           duration,
420:           durationHours
421:         }
422:       });
423:     }
424:   } catch (error) {
425:     console.error('Check availability error:', error);
426:     res.status(500).json({
427:       success: false,
428:       message: 'Server error while checking availability.'
429:     });
430:   }
431: };
</file>

<file path="public-website/src/views/BookingView.vue">
  1: <script setup>
  2: import { ref, computed, onMounted } from 'vue'
  3: import { useRoute, useRouter } from 'vue-router'
  4: import { isAuthenticated, getUser } from '@/utils/auth'
  5: import api from '@/services/api'
  6: 
  7: const route = useRoute()
  8: const router = useRouter()
  9: 
 10: 
 11: onMounted(() => {
 12:   if (!isAuthenticated()) {
 13:     router.push('/login')
 14:     return
 15:   }
 16: 
 17:   const verified = route.query.verified
 18:   if (!verified || verified !== 'true') {
 19:     router.push('/rooms')
 20:     return
 21:   }
 22: 
 23:   const roomId = route.query.roomId
 24:   if (!roomId) {
 25:     router.push('/rooms')
 26:     return
 27:   }
 28: 
 29:   fetchRoomDetails()
 30:   prefillUserData()
 31: })
 32: 
 33: 
 34: const room = ref(null)
 35: const loading = ref(true)
 36: const error = ref(null)
 37: 
 38: const fetchRoomDetails = async () => {
 39:   try {
 40:     const roomId = route.query.roomId
 41:     const response = await fetch(`http://localhost:3000/api/rooms/${roomId}`)
 42:     const data = await response.json()
 43: 
 44:     if (data.success) {
 45: 
 46:       if (!data.room || typeof data.room !== 'object') {
 47:         console.warn('⚠️ API Response Validation Failed: Expected room object, got:', typeof data.room)
 48:         error.value = 'Invalid room data received from server'
 49:         setTimeout(() => router.push('/rooms'), 2000)
 50:         return
 51:       }
 52: 
 53: 
 54:       room.value = {
 55:         id: data.room.id ?? 'unknown',
 56:         name: data.room.name ?? 'Unnamed Room',
 57:         capacity: data.room.capacity ?? 'N/A',
 58:         size: data.room.size ?? 'N/A',
 59:         description: data.room.description ?? 'No description available',
 60:         rates: {
 61:           '3h': data.room.rates?.['3h'] ?? 0,
 62:           '6h': data.room.rates?.['6h'] ?? 0,
 63:           '12h': data.room.rates?.['12h'] ?? 0,
 64:           '24h': data.room.rates?.['24h'] ?? 0
 65:         }
 66:       }
 67:     } else {
 68:       error.value = 'Room not found'
 69:       setTimeout(() => router.push('/rooms'), 2000)
 70:     }
 71:   } catch (err) {
 72:     console.error('Error fetching room:', err)
 73:     error.value = 'Failed to load room details'
 74:     setTimeout(() => router.push('/rooms'), 2000)
 75:   } finally {
 76:     loading.value = false
 77:   }
 78: }
 79: 
 80: 
 81: const guestInfo = ref({
 82:   firstName: '',
 83:   lastName: '',
 84:   email: '',
 85:   phone: ''
 86: })
 87: 
 88: const prefillUserData = () => {
 89:   const user = getUser()
 90:   if (user) {
 91:     guestInfo.value.firstName = user.firstName || ''
 92:     guestInfo.value.lastName = user.lastName || ''
 93:     guestInfo.value.email = user.email || ''
 94:     guestInfo.value.phone = user.phone || ''
 95:   }
 96: }
 97: 
 98: // Phone number validation regex for PH mobile numbers
 99: const phoneRegex = /^(09|\+639|639)\d{9}$/
100: 
101: // Validate phone number format
102: const validatePhone = (phone) => {
103:   // Remove all spaces and dashes for validation
104:   const cleanPhone = phone.replace(/[\s-]/g, '')
105:   return phoneRegex.test(cleanPhone)
106: }
107: 
108: // --- 1. RETRIEVE DATA FROM URL ---
109: const query = route.query
110: const roomId = query.roomId
111: const selectedRoomId = query.selectedRoomId // Specific physical room selected by user
112: const dateParam = query.date // YYYY-MM-DD
113: const timeParam = query.time // HH:MM
114: const durationParam = query.duration || '3h'
115: const adults = query.adults || 1
116: const hasChild = query.child === '1'
117: const basePrice = Number(query.price) || 0
118: 
119: 
120: const checkInDate = computed(() => {
121:   if (!dateParam || !timeParam) return new Date()
122:   return new Date(`${dateParam}T${timeParam}`)
123: })
124: 
125: const checkOutDate = computed(() => {
126:   const hoursToAdd = parseInt(durationParam)
127:   return new Date(checkInDate.value.getTime() + (hoursToAdd * 60 * 60 * 1000))
128: })
129: 
130: 
131: const formatDate = (date) => {
132:   return new Intl.DateTimeFormat('en-US', {
133:     month: 'short', day: 'numeric', year: 'numeric'
134:   }).format(date)
135: }
136: 
137: const formatTime = (date) => {
138:   return new Intl.DateTimeFormat('en-US', {
139:     hour: 'numeric', minute: 'numeric', hour12: true
140:   }).format(date)
141: }
142: 
143: 
144: 
145: const childFee = hasChild ? 150 : 0
146: const totalDue = basePrice + childFee
147: 
148: const formatPrice = (p) => p.toLocaleString()
149: 
150: 
151: const submitting = ref(false)
152: const paymentError = ref(null)
153: 
154: const handlePayment = async () => {
155:   submitting.value = true
156:   paymentError.value = null
157: 
158: 
159:   guestInfo.value.firstName = guestInfo.value.firstName.trim()
160:   guestInfo.value.lastName = guestInfo.value.lastName.trim()
161:   guestInfo.value.email = guestInfo.value.email.trim()
162:   guestInfo.value.phone = guestInfo.value.phone.trim()
163: 
164: 
165:   if (!guestInfo.value.firstName || !guestInfo.value.lastName || !guestInfo.value.email || !guestInfo.value.phone) {
166:     paymentError.value = 'All guest information fields are required'
167:     submitting.value = false
168:     return
169:   }
170: 
171: 
172:   if (!validatePhone(guestInfo.value.phone)) {
173:     paymentError.value = 'Please enter a valid PH mobile number (e.g., 0917... or +639...)'
174:     submitting.value = false
175:     return
176:   }
177: 
178:   try {
179: 
180:     const user = getUser()
181: 
182: 
183:     let formattedPhone = guestInfo.value.phone.replace(/\s+/g, '') // Remove spaces
184:     if (formattedPhone.startsWith('+63')) {
185:       formattedPhone = formattedPhone.substring(3)
186:     } else if (formattedPhone.startsWith('63')) {
187:       formattedPhone = formattedPhone.substring(2)
188:     } else if (formattedPhone.startsWith('0')) {
189:       formattedPhone = formattedPhone.substring(1)
190:     }
191: 
192: 
193:     const payload = {
194:       roomSlug: roomId,
195:       checkInDate: dateParam,
196:       checkInTime: timeParam,
197:       duration: durationParam.replace('h', ''), // Convert '3h' to '3'
198:       totalAmount: totalDue.toString(),
199:       guestInfo: {
200:         guestId: user?.id?.toString() || null,
201:         email: guestInfo.value.email,
202:         firstName: guestInfo.value.firstName,
203:         lastName: guestInfo.value.lastName,
204:         phone: formattedPhone
205:       }
206:     }
207: 
208: 
209:     if (selectedRoomId) {
210:       payload.roomId = selectedRoomId
211:     }
212: 
213:     console.log('Creating checkout session with payload:', payload)
214: 
215: 
216:     const response = await api.post('/payment/create-checkout', payload)
217: 
218:     if (response.ok && response.data.success) {
219:       console.log('Checkout session created:', response.data.referenceCode)
220:       console.log('✅ Session ID saved to database by backend')
221: 
222: 
223:       window.location.href = response.data.checkoutUrl
224:     } else {
225: 
226:       paymentError.value = response.data.message || 'Failed to create checkout session'
227:       submitting.value = false
228:     }
229:   } catch (error) {
230:     console.error('Payment error:', error)
231:     paymentError.value = 'Unable to connect to payment gateway. Please try again.'
232:     submitting.value = false
233:   }
234: }
235: </script>
236: 
237: <template>
238:   <main class="min-h-screen bg-balai-bg font-sans text-balai-dark pt-24 pb-20 px-4 md:px-6">
239: 
240: 
241:     <div v-if="loading" class="container mx-auto max-w-5xl text-center py-20">
242:       <p class="text-gray-600">Loading booking details...</p>
243:     </div>
244: 
245: 
246:     <div v-else-if="error" class="container mx-auto max-w-5xl text-center py-20">
247:       <p class="text-red-600 mb-4">{{ error }}</p>
248:       <p class="text-sm text-gray-500">Redirecting...</p>
249:     </div>
250: 
251: 
252:     <div v-else-if="room" class="container mx-auto max-w-5xl">
253: 
254:       <div class="mb-10 text-center">
255:          <h1 class="font-serif text-3xl md:text-4xl mb-2">Confirm Your Stay</h1>
256:          <p class="text-gray-500 text-sm uppercase tracking-widest">Almost there</p>
257:       </div>
258: 
259:       <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 md:gap-12">
260: 
261:         <div class="lg:col-span-2">
262:            <div class="bg-white p-8 md:p-10 shadow-lg border-t-4 border-balai-gold">
263:               <h2 class="font-serif text-2xl mb-6">Guest Information</h2>
264: 
265:               <form @submit.prevent="handlePayment" class="space-y-6">
266:                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
267:                     <div class="flex flex-col">
268:                        <label class="text-xs font-bold uppercase tracking-wider text-gray-500 mb-2">First Name</label>
269:                        <input
270:                           v-model="guestInfo.firstName"
271:                           type="text"
272:                           required
273:                           maxlength="50"
274:                           class="w-full border border-gray-300 p-3 text-sm focus:outline-none focus:border-balai-gold"
275:                           placeholder="Enter first name"
276:                        />
277:                     </div>
278:                     <div class="flex flex-col">
279:                        <label class="text-xs font-bold uppercase tracking-wider text-gray-500 mb-2">Last Name</label>
280:                        <input
281:                           v-model="guestInfo.lastName"
282:                           type="text"
283:                           required
284:                           maxlength="50"
285:                           class="w-full border border-gray-300 p-3 text-sm focus:outline-none focus:border-balai-gold"
286:                           placeholder="Enter last name"
287:                        />
288:                     </div>
289:                  </div>
290: 
291:                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
292:                     <div class="flex flex-col">
293:                        <label class="text-xs font-bold uppercase tracking-wider text-gray-500 mb-2">Email Address</label>
294:                        <input
295:                           v-model="guestInfo.email"
296:                           type="email"
297:                           required
298:                           maxlength="100"
299:                           class="w-full border border-gray-300 p-3 text-sm focus:outline-none focus:border-balai-gold"
300:                           placeholder="name@example.com"
301:                        />
302:                     </div>
303:                     <div class="flex flex-col">
304:                        <label class="text-xs font-bold uppercase tracking-wider text-gray-500 mb-2">Phone Number</label>
305:                        <input
306:                           v-model="guestInfo.phone"
307:                           type="tel"
308:                           required
309:                           maxlength="13"
310:                           pattern="(09|\+639|639)\d{9}"
311:                           class="w-full border border-gray-300 p-3 text-sm focus:outline-none focus:border-balai-gold"
312:                           placeholder="09171234567 or +639171234567"
313:                        />
314:                        <p class="text-xs text-gray-400 mt-1">PH mobile number</p>
315:                     </div>
316:                  </div>
317: 
318: 
319:                  <div v-if="paymentError" class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 text-sm">
320:                     {{ paymentError }}
321:                  </div>
322: 
323:                  <button
324:                     type="submit"
325:                     :disabled="submitting"
326:                     class="w-full bg-balai-dark text-white py-4 text-sm font-medium uppercase tracking-widest hover:bg-balai-gold transition-colors shadow-lg mt-4 disabled:opacity-50 disabled:cursor-not-allowed"
327:                  >
328:                     <span v-if="!submitting">Proceed to Payment</span>
329:                     <span v-else>Processing...</span>
330:                  </button>
331: 
332:                  <p class="text-xs text-gray-400 text-center mt-2">
333:                     You will be redirected to a secure payment gateway.
334:                  </p>
335: 
336:               </form>
337:            </div>
338:         </div>
339: 
340:         <div class="lg:col-span-1">
341:            <div class="bg-white p-8 shadow-xl sticky top-24">
342:               <h3 class="font-serif text-xl mb-6 pb-4 border-b border-gray-100">Booking Summary</h3>
343: 
344:               <div class="flex gap-4 mb-6">
345:                  <div :class="`w-20 h-20 ${room.image} shrink-0`"></div>
346:                  <div>
347:                     <h4 class="font-bold text-balai-dark">{{ room.name }}</h4>
348:                     <p class="text-xs text-gray-500">
349:                        {{ adults }} Adult{{ adults > 1 ? 's' : '' }}
350:                        <span v-if="hasChild">, 1 Child</span>
351:                     </p>
352:                  </div>
353:               </div>
354: 
355:               <div class="space-y-4 text-sm mb-6">
356:                  <div class="flex justify-between items-start">
357:                     <span class="text-gray-500">Check-In</span>
358:                     <div class="text-right">
359:                         <span class="block font-bold">{{ formatDate(checkInDate) }}</span>
360:                         <span class="text-xs text-gray-400">{{ formatTime(checkInDate) }}</span>
361:                     </div>
362:                  </div>
363:                  <div class="flex justify-between items-start">
364:                     <span class="text-gray-500">Check-Out</span>
365:                     <div class="text-right">
366:                         <span class="block font-bold">{{ formatDate(checkOutDate) }}</span>
367:                         <span class="text-xs text-gray-400">{{ formatTime(checkOutDate) }}</span>
368:                     </div>
369:                  </div>
370:                  <div class="flex justify-between text-balai-gold-dark font-bold pt-2 border-t border-gray-50">
371:                     <span>Duration</span>
372:                     <span>{{ durationParam.replace('h', ' Hours') }}</span>
373:                  </div>
374:               </div>
375: 
376:               <div class="border-t border-gray-100 pt-4 space-y-2 mb-6">
377:                  <div class="flex justify-between text-sm">
378:                     <span class="text-gray-500">Room Rate</span>
379:                     <span>₱{{ formatPrice(basePrice) }}</span>
380:                  </div>
381: 
382:                  <div v-if="hasChild" class="flex justify-between text-sm">
383:                     <span class="text-gray-500">Extra Child Fee</span>
384:                     <span>₱150</span>
385:                  </div>
386: 
387:                  <div class="flex justify-between text-sm">
388:                     <span class="text-gray-500">Service Fee</span>
389:                     <span>₱0</span>
390:                  </div>
391:               </div>
392: 
393:               <div class="border-t-2 border-balai-dark pt-4 flex justify-between items-end">
394:                  <span class="font-serif text-lg">Total</span>
395:                  <span class="font-serif text-2xl font-bold text-balai-gold-dark">₱{{ formatPrice(totalDue) }}</span>
396:               </div>
397: 
398:            </div>
399:         </div>
400: 
401:       </div>
402: 
403:     </div>
404:   </main>
405: </template>
</file>

<file path="public-website/src/views/HomeView.vue">
  1: <script setup>
  2: import { ref, computed, onMounted, onUnmounted } from 'vue'
  3: import { RouterLink } from 'vue-router'
  4: import api from '@/services/api'
  5: import { ChevronDownIcon, ChevronUpIcon, ChevronRightIcon } from '@heroicons/vue/24/outline'
  6: import { CakeIcon, FireIcon } from '@heroicons/vue/24/solid'
  7: 
  8: 
  9: const scrollToSection = (sectionId) => {
 10:   const element = document.getElementById(sectionId)
 11:   if (element) {
 12:     element.scrollIntoView({ behavior: 'smooth' })
 13:   }
 14: }
 15: 
 16: 
 17: const heroImages = [
 18:   '/images/rooms/BA1.png',
 19:   '/images/rooms/BA2.png',
 20:   '/images/rooms/BA3.png',
 21:   '/images/rooms/BA4.png',
 22:   '/images/rooms/BA5.png',
 23:   '/images/rooms/BA6.png',
 24:   '/images/rooms/BA7.png'
 25: ]
 26: 
 27: const currentSlide = ref(0)
 28: let slideInterval = null
 29: 
 30: const nextSlide = () => {
 31:   currentSlide.value = (currentSlide.value + 1) % heroImages.length
 32: }
 33: 
 34: const startSlideshow = () => {
 35:   slideInterval = setInterval(nextSlide, 5000)
 36: }
 37: 
 38: const stopSlideshow = () => {
 39:   if (slideInterval) {
 40:     clearInterval(slideInterval)
 41:   }
 42: }
 43: 
 44: 
 45: const rooms = ref([])
 46: const isLoading = ref(true)
 47: const error = ref(null)
 48: 
 49: 
 50: const fetchRooms = async () => {
 51:   try {
 52:     isLoading.value = true
 53:     error.value = null
 54: 
 55:     const response = await api.get('/rooms')
 56: 
 57:     if (response.ok && response.data.success) {
 58: 
 59:       if (!Array.isArray(response.data?.rooms)) {
 60:         console.warn('⚠️ API Response Validation Failed: Expected rooms array, got:', typeof response.data?.rooms)
 61:         rooms.value = []
 62:         error.value = 'Unexpected response format from server'
 63:         return
 64:       }
 65: 
 66: 
 67:       rooms.value = response.data.rooms
 68:         .filter(room => room && typeof room === 'object')
 69:         .map(room => ({
 70:           id: room.id ?? 'unknown',
 71:           name: room.name ?? 'Unnamed Room',
 72: 
 73:           price: room.rates?.['3h'] ? `₱${room.rates['3h'].toLocaleString()}` : '₱0',
 74:           duration: '3 hours',
 75:           desc: room.description ?? 'No description available',
 76:           slug: room.slug ?? 'unknown',
 77:           images: room.images ?? []
 78:         }))
 79: 
 80:       if (rooms.value.length === 0) {
 81:         console.warn('⚠️ API returned empty rooms array')
 82:       }
 83:     } else {
 84:       error.value = 'Failed to load rooms'
 85:       console.error('Failed to fetch rooms:', response.data)
 86:     }
 87:   } catch (err) {
 88:     error.value = 'Error loading rooms'
 89:     console.error('Error fetching rooms:', err)
 90:     rooms.value = []
 91:   } finally {
 92:     isLoading.value = false
 93:   }
 94: }
 95: 
 96: 
 97: onMounted(() => {
 98:   fetchRooms()
 99:   startSlideshow()
100: })
101: 
102: onUnmounted(() => {
103:   stopSlideshow()
104: })
105: 
106: 
107: const showAllRooms = ref(false)
108: 
109: 
110: const visibleRooms = computed(() => {
111:   return showAllRooms.value ? rooms.value : rooms.value.slice(0, 2)
112: })
113: 
114: const toggleRooms = () => {
115:   if (showAllRooms.value) {
116: 
117:     showAllRooms.value = false
118:     setTimeout(() => {
119:       const lastRoom = document.querySelector('[data-room-index="1"]')
120:       if (lastRoom) {
121:         lastRoom.scrollIntoView({ behavior: 'smooth', block: 'end' })
122:       }
123:     }, 100)
124:   } else {
125:     showAllRooms.value = true
126:   }
127: }
128: 
129: 
130: const getPrimaryImage = (room) => {
131:   if (room.images && room.images.length > 0) {
132:     const primary = room.images.find(img => img.isPrimary)
133:     return primary ? primary.path : room.images[0].path
134:   }
135:   return null
136: }
137: </script>
138: 
139: <template>
140:   <main class="bg-balai-bg text-balai-dark font-sans overflow-x-hidden">
141: 
142:     <section class="relative h-[85vh] bg-balai-dark flex items-center justify-center text-white px-4 z-10">
143: 
144:       <div class="absolute inset-0 overflow-hidden">
145:         <div class="absolute inset-0">
146:           <TransitionGroup name="fade">
147:             <div
148:               v-for="(image, index) in heroImages"
149:               :key="index"
150:               v-show="currentSlide === index"
151:               class="absolute inset-0 bg-cover bg-center transition-opacity duration-1000"
152:               :style="{ backgroundImage: `url(${image})` }"
153:             ></div>
154:           </TransitionGroup>
155:         </div>
156: 
157:         <div class="absolute inset-0 bg-black/50"></div>
158:       </div>
159: 
160:       <div class="relative z-10 text-center max-w-3xl mx-auto">
161:         <h1 class="font-serif text-4xl md:text-6xl mb-4 tracking-wide leading-tight">
162:           A MODERN HOME IN PATEROS
163:         </h1>
164:         <p class="text-sm md:text-xl uppercase tracking-widest mb-8">
165:           SIMPLE. ORGANIC. COMFORTABLE.
166:         </p>
167:       </div>
168: 
169:       <div class="absolute bottom-32 md:bottom-24 left-1/2 transform -translate-x-1/2 z-20 flex gap-2">
170:         <button
171:           v-for="(image, index) in heroImages"
172:           :key="index"
173:           @click="currentSlide = index"
174:           class="w-2 h-2 rounded-full transition-all duration-300"
175:           :class="currentSlide === index ? 'bg-white w-8' : 'bg-white/50 hover:bg-white/75'"
176:           :aria-label="`Go to slide ${index + 1}`"
177:         ></button>
178:       </div>
179: 
180:       <div class="absolute bottom-12 md:bottom-0 md:translate-y-1/2 z-30 w-full text-center">
181:          <button
182:            @click="scrollToSection('concept-section')"
183:            class="bg-balai-gold hover:bg-balai-gold-dark text-white px-8 py-4 font-medium text-sm tracking-wider transition-colors duration-300 shadow-lg inline-flex items-center gap-2"
184:          >
185:             EXPLORE OUR HOTEL <ChevronDownIcon class="w-4 h-4" />
186:          </button>
187:       </div>
188:     </section>
189: 
190:     <section id="concept-section" class="bg-white py-16 md:py-32 mt-0 relative z-0">
191:       <div class="container mx-auto px-6 space-y-16 md:space-y-24">
192: 
193:         <div class="grid grid-cols-1 md:grid-cols-2 gap-10 md:gap-20 items-center">
194:           <div class="space-y-6 order-2 md:order-1">
195:             <span class="font-serif text-xs uppercase tracking-widest block text-balai-gold-dark">Sanctuary</span>
196:             <h2 class="font-serif text-3xl md:text-4xl text-balai-dark leading-tight">
197:               A PAUSE BUTTON FOR THE CITY
198:             </h2>
199:             <p class="text-gray-600 leading-relaxed text-sm md:text-base">
200:               Located in the heart of San Roque, we offer a quiet, organic escape from the metro's noise.
201:               Whether you are coming from a long flight or a long week, Balai Almeda is your space to breathe.
202:               Minimalist design meets warm Filipino hospitality.
203:             </p>
204:           </div>
205: 
206:           <div class="aspect-square bg-gray-200 order-1 md:order-2 shadow-xl relative overflow-hidden">
207:              <div class="absolute inset-0 bg-gray-300 flex items-center justify-center text-gray-400 font-medium">
208:                 [Insert Lobby/Interior Photo]
209:              </div>
210:           </div>
211:         </div>
212: 
213:          <div class="grid grid-cols-1 md:grid-cols-2 gap-10 md:gap-20 items-center">
214: 
215:           <div class="aspect-[4/3] bg-gray-200 shadow-xl relative overflow-hidden">
216:              <div class="absolute inset-0 bg-gray-300 flex items-center justify-center text-gray-400 font-medium">
217:                 [Insert Room/Relaxation Photo]
218:              </div>
219:           </div>
220: 
221:           <div class="space-y-6">
222:             <span class="font-serif text-xs uppercase tracking-widest block text-balai-gold-dark">Flexibility</span>
223:             <h2 class="font-serif text-3xl md:text-4xl text-balai-dark leading-tight">
224:               STAY ON YOUR TERMS
225:             </h2>
226:             <p class="text-gray-600 leading-relaxed text-sm md:text-base">
227:                Rest doesn't always follow a 24-hour schedule. We offer flexible stay options designed for the modern traveler.
228:             </p>
229:             <ul class="space-y-3 pt-2">
230:                <li class="flex items-center gap-3 text-sm font-medium text-balai-dark">
231:                   <span class="w-2 h-2 bg-balai-gold rounded-full"></span> 3-Hour Wash Up
232:                </li>
233:                <li class="flex items-center gap-3 text-sm font-medium text-balai-dark">
234:                   <span class="w-2 h-2 bg-balai-gold rounded-full"></span> 6-Hour Half Day
235:                </li>
236:                <li class="flex items-center gap-3 text-sm font-medium text-balai-dark">
237:                   <span class="w-2 h-2 bg-balai-gold rounded-full"></span> 12 & 24-Hour Overnight
238:                </li>
239:             </ul>
240:              <div class="pt-6">
241:                <RouterLink to="/rooms" class="inline-flex items-center gap-2 border border-balai-dark hover:bg-balai-dark hover:text-white px-8 py-3 text-sm font-medium tracking-wider uppercase transition-colors">
242:                  Check Rates <ChevronRightIcon class="w-4 h-4" />
243:                </RouterLink>
244:             </div>
245:           </div>
246:         </div>
247: 
248:       </div>
249:     </section>
250: 
251:     <section id="our-rooms-section" class="container mx-auto px-6 py-16 md:py-24 text-center">
252:        <h2 class="font-serif text-3xl md:text-4xl mb-4">OUR ROOMS</h2>
253:        <p class="text-gray-600 max-w-md mx-auto mb-12 text-sm md:text-base">
254:           Choose from our selection of thoughtfully designed rooms, perfect for relaxation or productivity.
255:        </p>
256: 
257:        <div v-if="isLoading" class="py-20">
258:          <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-balai-gold mx-auto"></div>
259:          <p class="text-gray-500 mt-4">Loading rooms...</p>
260:        </div>
261: 
262:        <div v-else-if="error" class="py-20 bg-red-50 border border-red-200 rounded-lg">
263:          <p class="text-red-600">{{ error }}</p>
264:          <button @click="fetchRooms" class="mt-4 text-balai-gold underline">Try Again</button>
265:        </div>
266: 
267:        <template v-else>
268:          <TransitionGroup
269:             name="list"
270:             tag="div"
271:             class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 mb-12"
272:          >
273:             <div
274:               v-for="(room, index) in visibleRooms"
275:               :key="room.id"
276:               :data-room-index="index"
277:               class="bg-white shadow-md hover:shadow-xl transition-all duration-300 relative group overflow-hidden cursor-pointer text-left"
278:             >
279: 
280:                <div class="aspect-[4/3] bg-gray-300 relative overflow-hidden">
281:                   <img
282:                     v-if="getPrimaryImage(room)"
283:                     :src="getPrimaryImage(room)"
284:                     :alt="room.name"
285:                     class="w-full h-full object-cover"
286:                   />
287:                   <div class="absolute inset-0 bg-black/10 group-hover:bg-transparent transition-colors"></div>
288:                </div>
289: 
290:                <div class="p-6 md:p-8">
291:                   <div class="flex justify-between items-start mb-4">
292:                     <h3 class="font-serif text-2xl">{{ room.name }}</h3>
293:                     <div class="text-right">
294:                       <span class="block font-bold text-balai-gold-dark">{{ room.price }}</span>
295:                       <span class="text-xs text-gray-400 uppercase tracking-wide">Starting ({{ room.duration }})</span>
296:                     </div>
297:                   </div>
298:                   <p class="text-gray-600 text-sm leading-relaxed mb-6">{{ room.desc }}</p>
299: 
300:                   <RouterLink to="/rooms" class="text-xs font-bold uppercase tracking-widest border-b border-balai-gold pb-1 hover:text-balai-gold transition-colors">
301:                      View Full Details
302:                   </RouterLink>
303:                </div>
304:             </div>
305:          </TransitionGroup>
306: 
307:          <button
308:            v-if="rooms.length > 2"
309:            @click="toggleRooms"
310:            data-rooms-toggle
311:            class="bg-balai-gold hover:bg-balai-gold-dark text-white px-10 py-4 font-medium text-sm tracking-wider uppercase transition-colors w-full md:w-auto inline-flex items-center justify-center gap-2"
312:          >
313:            {{ showAllRooms ? 'Show Less' : 'View All Accommodations' }}
314:            <ChevronUpIcon v-if="showAllRooms" class="w-4 h-4" />
315:            <ChevronDownIcon v-else class="w-4 h-4" />
316:          </button>
317:        </template>
318: 
319:     </section>
320: 
321:     <section class="bg-white py-16 md:py-32 relative z-0">
322:       <div class="container mx-auto px-4 md:px-6">
323:         <div class="flex flex-col md:flex-row items-center gap-12 md:gap-20">
324: 
325:            <div class="w-full md:w-1/2 relative group">
326:               <div class="absolute -top-4 -left-4 w-full h-full border-2 border-balai-gold z-0 hidden md:block"></div>
327:               <div class="relative z-10 aspect-[4/5] overflow-hidden shadow-2xl">
328:                  <img
329:                    src="/images/amenities/justdrink.png"
330:                    alt="Just Drink Coffee & Food Spread"
331:                    class="w-full h-full object-cover"
332:                  />
333:               </div>
334:            </div>
335: 
336:            <div class="w-full md:w-1/2 space-y-8 text-center md:text-left">
337:               <div>
338:                  <span class="text-balai-gold-dark font-bold text-xs uppercase tracking-[0.2em] mb-2 block">
339:                     In-House Dining
340:                  </span>
341:                  <h2 class="font-serif text-3xl md:text-5xl text-balai-dark leading-tight mb-6">
342:                     Coffee & <br> <span class="italic text-balai-gold-dark">Comfort Food.</span>
343:                  </h2>
344:                  <p class="text-gray-600 leading-relaxed text-lg">
345:                     Guests can enjoy <strong>artisanal coffee</strong> and <strong>hearty meals</strong>, thoughtfully prepared for a satisfying dining experience.
346:                  </p>
347:               </div>
348: 
349:               <div class="grid grid-cols-2 gap-8 border-t border-gray-100 pt-8 text-left">
350:                  <div>
351:                     <h4 class="font-serif text-xl mb-3 text-balai-dark flex items-center gap-2"><CakeIcon class="w-5 h-5 text-balai-gold" /> Signature Sips</h4>
352:                     <ul class="text-sm text-gray-500 space-y-2">
353:                        <li>Spanish Latte</li>
354:                        <li>Sea Salt Latte</li>
355:                        <li>Dirty Matcha</li>
356:                        <li>Berry Refreshers</li>
357:                     </ul>
358:                  </div>
359:                  <div>
360:                     <h4 class="font-serif text-xl mb-3 text-balai-dark flex items-center gap-2"><FireIcon class="w-5 h-5 text-balai-gold" /> All-Day Dining</h4>
361:                     <ul class="text-sm text-gray-500 space-y-2">
362:                        <li>Classic Tapsilog & Tosilog</li>
363:                        <li>Creamy Tuna Pesto</li>
364:                        <li>Chicken Alfredo</li>
365:                        <li>Hungarian Sausage & Fries</li>
366:                     </ul>
367:                  </div>
368:               </div>
369:               <div class="pt-4">
370:                  <p class="font-serif italic text-balai-dark text-lg">"Room service available for all guests."</p>
371:               </div>
372:            </div>
373:         </div>
374:       </div>
375:     </section>
376: 
377:     <section class="bg-balai-gold py-12 md:py-16 px-4 md:px-0">
378:        <div class="text-white container mx-auto p-8 md:p-12">
379:           <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-10">
380:              <div>
381:                 <span class="font-serif text-sm block mb-2 opacity-90">Ready to stay?</span>
382:                 <h2 class="font-serif text-2xl md:text-4xl mb-2">Experience Balai Almeda</h2>
383:              </div>
384:              <div class="flex flex-col items-start md:items-end gap-6 w-full md:w-auto z-10">
385:                 <RouterLink to="/rooms" class="bg-white text-balai-dark w-full md:w-auto px-8 py-3 flex justify-center md:justify-start items-center gap-2 font-medium text-sm tracking-wider uppercase hover:bg-gray-100 transition-colors">
386:                    BOOK A ROOM <ChevronRightIcon class="w-4 h-4" />
387:                 </RouterLink>
388:                 <div class="text-left md:text-right w-full">
389:                    <p class="font-medium text-sm opacity-90">Have a question?</p>
390:                    <p class="text-xl font-serif">Call us: 0995 420 6515</p>
391:                 </div>
392:              </div>
393:           </div>
394:        </div>
395:     </section>
396: 
397:   </main>
398: </template>
399: 
400: <style scoped>
401: .list-enter-active,
402: .list-leave-active {
403:   transition: all 0.5s ease;
404: }
405: .list-enter-from,
406: .list-leave-to {
407:   opacity: 0;
408:   transform: translateY(20px);
409: }
410: 
411: .fade-enter-active,
412: .fade-leave-active {
413:   transition: opacity 1s ease;
414: }
415: .fade-enter-from,
416: .fade-leave-to {
417:   opacity: 0;
418: }
419: </style>
</file>

<file path="public-website/src/views/MyBookingsView.vue">
  1: <template>
  2:   <div class="min-h-screen bg-gray-50 pt-28 pb-12 px-6 font-sans text-balai-dark">
  3:     <div class="max-w-5xl mx-auto">
  4: 
  5:       <div class="flex flex-col md:flex-row md:items-end justify-between mb-8 gap-4">
  6:         <div>
  7:           <h1 class="text-3xl md:text-4xl font-serif mb-2">My Bookings</h1>
  8:           <p class="text-gray-500 text-sm tracking-wide">Manage your upcoming stays and view history.</p>
  9:         </div>
 10: 
 11:         <div class="flex bg-white p-1 shadow-sm border border-gray-100 w-full md:w-auto">
 12:           <button
 13:             @click="activeTab = 'upcoming'"
 14:             :class="[
 15:               'flex-1 md:flex-none px-6 py-2 text-xs font-bold uppercase tracking-widest transition-all',
 16:               activeTab === 'upcoming'
 17:                 ? 'bg-balai-dark text-white shadow-sm'
 18:                 : 'text-gray-400 hover:text-balai-dark'
 19:             ]"
 20:           >
 21:             Upcoming
 22:           </button>
 23:           <button
 24:             @click="activeTab = 'history'"
 25:             :class="[
 26:               'flex-1 md:flex-none px-6 py-2 text-xs font-bold uppercase tracking-widest transition-all',
 27:               activeTab === 'history'
 28:                 ? 'bg-balai-dark text-white shadow-sm'
 29:                 : 'text-gray-400 hover:text-balai-dark'
 30:             ]"
 31:           >
 32:             History
 33:           </button>
 34:         </div>
 35:       </div>
 36: 
 37:       <div class="bg-white shadow-lg shadow-gray-200/50 min-h-[400px] border border-gray-100 relative">
 38: 
 39: 
 40:         <div v-if="loading" class="absolute inset-0 flex items-center justify-center">
 41:           <div class="text-center">
 42:             <div class="inline-block w-12 h-12 border-4 border-gray-200 border-t-balai-dark rounded-full animate-spin mb-4"></div>
 43:             <p class="text-gray-500 text-sm">Loading your bookings...</p>
 44:           </div>
 45:         </div>
 46: 
 47: 
 48:         <div v-else-if="error" class="absolute inset-0 flex flex-col items-center justify-center text-center p-8">
 49:           <div class="w-20 h-20 bg-red-50 flex items-center justify-center mb-6">
 50:             <ExclamationTriangleIcon class="w-12 h-12 text-red-500" />
 51:           </div>
 52:           <h3 class="font-serif text-2xl mb-3">Unable to Load Bookings</h3>
 53:           <p class="text-gray-500 max-w-md mb-8">{{ error }}</p>
 54:           <button
 55:             @click="fetchBookings"
 56:             class="px-8 py-4 bg-balai-dark text-white text-xs font-bold uppercase tracking-widest hover:bg-balai-gold transition-colors"
 57:           >
 58:             Try Again
 59:           </button>
 60:         </div>
 61: 
 62: 
 63:         <div v-else-if="isAuthenticated()">
 64: 
 65: 
 66:           <div v-if="displayedBookings.length === 0" class="absolute inset-0 flex flex-col items-center justify-center text-center p-8">
 67:             <div class="w-20 h-20 flex items-center justify-center mb-6">
 68:               <CalendarIcon class="w-12 h-12 text-gray-400" />
 69:             </div>
 70: 
 71:             <h3 class="font-serif text-2xl mb-3">
 72:               {{ activeTab === 'upcoming' ? 'No Upcoming Stays' : 'No Booking History' }}
 73:             </h3>
 74:             <p class="text-gray-500 max-w-md mb-8 leading-relaxed">
 75:               {{ activeTab === 'upcoming'
 76:                 ? "You haven't booked a room with us yet. Experience the serenity of Balai Almeda today."
 77:                 : "You don't have any past bookings yet."
 78:               }}
 79:             </p>
 80: 
 81:             <div v-if="activeTab === 'upcoming'" class="flex flex-col sm:flex-row gap-4 w-full sm:w-auto">
 82:               <RouterLink
 83:                 to="/availability"
 84:                 class="px-8 py-4 border border-gray-200 text-xs font-bold uppercase tracking-widest hover:border-balai-dark hover:text-balai-dark transition-colors"
 85:               >
 86:                 Check Availability
 87:               </RouterLink>
 88: 
 89:               <RouterLink
 90:                 to="/booking"
 91:                 class="px-8 py-4 bg-balai-dark text-white text-xs font-bold uppercase tracking-widest hover:bg-balai-gold transition-colors shadow-lg shadow-gray-200"
 92:               >
 93:                 Book a Room
 94:               </RouterLink>
 95:             </div>
 96:           </div>
 97: 
 98: 
 99:           <div v-else class="p-6 space-y-4">
100:             <div
101:               v-for="booking in displayedBookings"
102:               :key="booking.id"
103:               class="border border-gray-200 hover:border-neutral-400 transition-all duration-200 bg-white"
104:             >
105:               <div class="p-6">
106:                 <div class="flex flex-col md:flex-row md:items-start justify-between gap-4 mb-4">
107:                   <div class="flex-1">
108:                     <div class="flex items-start gap-3 mb-3">
109:                       <h3 class="font-serif text-xl">{{ booking.roomName || 'Room' }}</h3>
110:                       <span
111:                         :class="[
112:                           'px-3 py-1 text-xs font-bold uppercase tracking-wider',
113:                           getStatusClass(booking.status)
114:                         ]"
115:                       >
116:                         {{ booking.status }}
117:                       </span>
118:                     </div>
119:                     <p class="text-gray-500 text-sm mb-2">{{ booking.roomType }}</p>
120:                     <p class="text-xs text-gray-400 tracking-wide">
121:                       Reference: <span class="font-mono">{{ booking.referenceCode }}</span>
122:                     </p>
123:                   </div>
124: 
125:                   <div class="text-right">
126:                     <p class="font-serif text-2xl text-balai-dark mb-1">
127:                       {{ formatCurrency(booking.totalAmount) }}
128:                     </p>
129:                     <p class="text-xs text-gray-500 uppercase tracking-wide">
130:                       {{ booking.paymentStatus === 'paid' ? 'Paid' : 'Pending Payment' }}
131:                     </p>
132:                   </div>
133:                 </div>
134: 
135:                 <div class="grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-100">
136:                   <div>
137:                     <p class="text-xs text-gray-400 uppercase tracking-wider mb-1">Check-in</p>
138:                     <p class="font-medium">{{ formatDate(booking.checkInTime) }}</p>
139:                   </div>
140:                   <div>
141:                     <p class="text-xs text-gray-400 uppercase tracking-wider mb-1">Check-out</p>
142:                     <p class="font-medium">{{ formatDate(booking.checkOutTime) }}</p>
143:                   </div>
144:                 </div>
145: 
146: 
147:                 <div class="mt-6 flex gap-3">
148:                   <RouterLink
149:                     :to="`/booking-success?reference=${booking.referenceCode}`"
150:                     class="px-6 py-2 border border-gray-200 text-xs font-bold uppercase tracking-widest hover:border-balai-dark hover:text-balai-dark transition-colors"
151:                   >
152:                     View Details
153:                   </RouterLink>
154:                 </div>
155:               </div>
156:             </div>
157:           </div>
158:         </div>
159: 
160: 
161:         <div v-else class="absolute inset-0 flex flex-col items-center justify-center text-center p-8">
162:           <p class="text-gray-500 mb-6">Please log in to access your dashboard.</p>
163:           <RouterLink
164:             to="/login"
165:             class="px-8 py-3 bg-balai-dark text-white text-xs font-bold uppercase tracking-widest hover:bg-balai-gold transition-colors"
166:           >
167:             Log In
168:           </RouterLink>
169:         </div>
170: 
171:       </div>
172:     </div>
173:   </div>
174: </template>
175: 
176: <script setup>
177: import { ref, computed, onMounted } from 'vue'
178: import { RouterLink, useRouter } from 'vue-router'
179: import { isAuthenticated, getToken } from '@/utils/auth'
180: import api from '@/services/api'
181: import { toast } from 'vue-sonner'
182: import { ExclamationTriangleIcon, CalendarIcon } from '@heroicons/vue/24/outline'
183: 
184: const router = useRouter()
185: const bookings = ref([])
186: const loading = ref(false)
187: const error = ref(null)
188: const activeTab = ref('upcoming')
189: 
190: 
191: const upcomingBookings = computed(() => {
192:   const now = new Date()
193:   return bookings.value.filter(booking => {
194:     if (!booking.checkOutTime) return false
195:     const checkOutDate = new Date(booking.checkOutTime)
196:     if (isNaN(checkOutDate.getTime())) return false
197:     return checkOutDate >= now && booking.status !== 'Cancelled'
198:   })
199: })
200: 
201: const historyBookings = computed(() => {
202:   const now = new Date()
203:   return bookings.value.filter(booking => {
204:     if (!booking.checkOutTime) return true
205:     const checkOutDate = new Date(booking.checkOutTime)
206:     if (isNaN(checkOutDate.getTime())) return true
207:     return checkOutDate < now || booking.status === 'Cancelled' || booking.status === 'Completed'
208:   })
209: })
210: 
211: const displayedBookings = computed(() => {
212:   return activeTab.value === 'upcoming' ? upcomingBookings.value : historyBookings.value
213: })
214: 
215: 
216: const fetchBookings = async () => {
217:   loading.value = true
218:   error.value = null
219: 
220:   try {
221:     const token = getToken()
222: 
223:     if (!token) {
224:       toast.error('Please log in to view your bookings')
225:       router.push('/login')
226:       return
227:     }
228: 
229: 
230:     const response = await api.get('/payment/my-bookings')
231: 
232:     if (response.ok && response.data.success) {
233: 
234:       if (!Array.isArray(response.data?.bookings)) {
235:         bookings.value = []
236:         error.value = 'Invalid response format from server'
237:         toast.error('Unable to load bookings - Invalid data format')
238:         return
239:       }
240: 
241: 
242:       bookings.value = response.data.bookings
243:         .filter(booking => booking && typeof booking === 'object')
244:         .map(booking => ({
245:           id: booking.bookingId ?? booking.id ?? 'unknown',
246:           referenceCode: booking.referenceCode ?? 'N/A',
247:           guestName: booking.guestName ?? 'Guest',
248:           email: booking.email ?? 'N/A',
249:           phone: booking.phone ?? 'N/A',
250:           checkInTime: booking.checkInTime ?? null,
251:           checkOutTime: booking.checkOutTime ?? null,
252:           totalAmount: booking.totalAmount ?? 0,
253:           status: booking.status ?? 'Pending',
254:           paymentStatus: booking.paymentStatus ?? 'pending',
255:           roomId: booking.roomId ?? null,
256:           roomName: booking.roomName ?? 'Unknown Room',
257:           roomType: booking.roomType ?? 'Standard',
258:           createdAt: booking.createdAt ?? new Date().toISOString()
259:         }))
260: 
261: 
262:       if (bookings.value.length > 0) {
263:         toast.success(`Loaded ${bookings.value.length} booking${bookings.value.length > 1 ? 's' : ''}`)
264:       }
265:     } else {
266:       error.value = response.data?.message || 'Failed to load bookings'
267:       toast.error(error.value)
268:     }
269:   } catch (err) {
270:     error.value = 'Unable to load bookings. Please try again later.'
271:     toast.error('Failed to load bookings')
272:   } finally {
273:     loading.value = false
274:   }
275: }
276: 
277: 
278: const formatDate = (dateString) => {
279:   if (!dateString) return 'N/A'
280:   const date = new Date(dateString)
281:   if (isNaN(date.getTime())) return 'N/A'
282:   return date.toLocaleDateString('en-US', {
283:     month: 'short',
284:     day: 'numeric',
285:     year: 'numeric'
286:   })
287: }
288: 
289: 
290: const formatCurrency = (amount) => {
291:   if (!amount || isNaN(amount)) return '₱0.00'
292:   return new Intl.NumberFormat('en-PH', {
293:     style: 'currency',
294:     currency: 'PHP'
295:   }).format(amount)
296: }
297: 
298: 
299: const getStatusClass = (status) => {
300:   const statusLower = status?.toLowerCase()
301:   const statusMap = {
302:     'confirmed': 'bg-green-100 text-green-800',
303:     'pending_payment': 'bg-yellow-100 text-yellow-800',
304:     'pending payment': 'bg-yellow-100 text-yellow-800',
305:     'cancelled': 'bg-red-100 text-red-800',
306:     'completed': 'bg-blue-100 text-blue-800',
307:     'checked_in': 'bg-green-100 text-green-800',
308:     'checked in': 'bg-green-100 text-green-800'
309:   }
310:   return statusMap[statusLower] || 'bg-gray-100 text-gray-800'
311: }
312: 
313: onMounted(() => {
314:   if (!isAuthenticated()) {
315:     router.push('/login')
316:   } else {
317:     fetchBookings()
318:   }
319: })
320: </script>
</file>

<file path="public-website/src/views/RoomsView.vue">
  1: <script setup>
  2: import { ref, onMounted } from 'vue'
  3: import { RouterLink, useRouter } from 'vue-router'
  4: import { isAuthenticated } from '@/utils/auth'
  5: import LoginRequiredModal from '@/components/modals/LoginRequiredModal.vue'
  6: import api from '@/services/api'
  7: 
  8: const router = useRouter()
  9: const rooms = ref([])
 10: const loading = ref(true)
 11: const error = ref(null)
 12: const showLoginModal = ref(false)
 13: 
 14: 
 15: const fetchRooms = async () => {
 16:   try {
 17:     loading.value = true
 18:     const response = await api.get('/rooms')
 19: 
 20:     if (response.ok && response.data.success) {
 21: 
 22:       if (!Array.isArray(response.data?.rooms)) {
 23:         console.warn('⚠️ API Response Validation Failed: Expected rooms array, got:', typeof response.data?.rooms)
 24:         rooms.value = []
 25:         error.value = 'Unexpected response format from server'
 26:         return
 27:       }
 28: 
 29: 
 30:       rooms.value = response.data.rooms
 31:         .filter(room => room && typeof room === 'object')
 32:         .map(room => ({
 33:           id: room.id ?? 'unknown',
 34:           name: room.name ?? 'Unnamed Room',
 35:           capacity: room.capacity ?? 'N/A',
 36:           size: room.size ?? 'N/A',
 37:           description: room.description ?? 'No description available',
 38:           image: room.image ?? 'bg-gray-300',
 39:           images: room.images ?? [],
 40:           rates: {
 41:             '3h': room.rates?.['3h'] ?? 0,
 42:             '6h': room.rates?.['6h'] ?? 0,
 43:             '12h': room.rates?.['12h'] ?? 0,
 44:             '24h': room.rates?.['24h'] ?? 0
 45:           }
 46:         }))
 47:     } else {
 48:       error.value = 'Failed to load rooms'
 49:     }
 50:   } catch (err) {
 51:     console.error('Error fetching rooms:', err)
 52:     error.value = 'Network error. Please try again later.'
 53:   } finally {
 54:     loading.value = false
 55:   }
 56: }
 57: 
 58: 
 59: const getPrimaryImage = (room) => {
 60:   if (room.images && room.images.length > 0) {
 61:     const primary = room.images.find(img => img.isPrimary)
 62:     return primary ? primary.path : room.images[0].path
 63:   }
 64:   return null
 65: }
 66: 
 67: 
 68: const formatPrice = (price) => {
 69:   return price ? price.toLocaleString() : '0'
 70: }
 71: 
 72: 
 73: const handleBookNow = (roomId) => {
 74:   if (!isAuthenticated()) {
 75:     showLoginModal.value = true
 76:   } else {
 77:     router.push({ path: '/availability', query: { id: roomId } })
 78:   }
 79: }
 80: 
 81: onMounted(() => {
 82:   fetchRooms()
 83: })
 84: </script>
 85: 
 86: <template>
 87:     <main class="bg-balai-bg text-balai-dark font-sans min-h-screen">
 88: 
 89:         <section class="relative h-[50vh] bg-balai-dark flex items-center justify-center text-white px-4">
 90:             <div class="absolute inset-0 bg-black/40"></div>
 91:             <div class="relative z-10 text-center max-w-3xl mx-auto">
 92:                 <h1 class="font-serif text-4xl md:text-5xl mb-4 tracking-wide">
 93:                 ACCOMMODATION
 94:                 </h1>
 95:                 <p class="text-sm md:text-lg uppercase tracking-widest opacity-90">
 96:                 Comfort in every corner
 97:                 </p>
 98:             </div>
 99:         </section>
100: 
101:         <section class="container mx-auto px-4 md:px-6 py-16 md:py-24">
102:             <div class="text-center max-w-2xl mx-auto mb-16 space-y-4">
103:                 <h2 class="font-serif text-3xl text-balai-dark">Stay With Us</h2>
104:                 <p class="text-gray-600 leading-relaxed">
105:                    Designed for the modern traveler's schedule. Whether you need a quick 3-hour recharge, a half-day workspace, or a full overnight rest, our rooms offer luxury that fits your timeline.
106:                 </p>
107:             </div>
108: 
109: 
110:             <div v-if="loading" class="text-center py-20">
111:                 <p class="text-gray-600">Loading rooms...</p>
112:             </div>
113: 
114: 
115:             <div v-else-if="error" class="text-center py-20">
116:                 <p class="text-red-600 mb-4">{{ error }}</p>
117:                 <button @click="fetchRooms" class="text-sm font-bold uppercase tracking-widest text-balai-gold hover:text-balai-dark">
118:                     Try Again
119:                 </button>
120:             </div>
121: 
122: 
123:             <div v-else class="grid grid-cols-1 md:grid-cols-2 gap-10">
124: 
125:                 <div
126:                   v-for="room in rooms"
127:                   :key="room.id"
128:                   class="bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 group"
129:                 >
130: 
131:                     <div class="aspect-[4/3] relative overflow-hidden bg-gray-300">
132:                         <img
133:                             v-if="getPrimaryImage(room)"
134:                             :src="getPrimaryImage(room)"
135:                             :alt="room.name"
136:                             class="w-full h-full object-cover"
137:                         />
138:                         <div v-else :class="room.image" class="w-full h-full"></div>
139:                         <div class="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
140:                     </div>
141: 
142:                     <div class="p-8 md:p-10 space-y-6">
143:                         <div class="flex justify-between items-start">
144:                             <div>
145:                                 <h3 class="font-serif text-2xl mb-1 text-balai-dark">{{ room.name }}</h3>
146:                                 <span class="text-xs font-bold uppercase tracking-widest text-balai-gold-dark">
147:                                 {{ room.capacity }} &bull; {{ room.size }}
148:                                 </span>
149:                             </div>
150:                             <div class="text-right">
151:                                 <span class="block text-xl font-serif">₱{{ formatPrice(room.rates['3h']) }}</span>
152:                                 <span class="text-xs text-gray-500">starts at 3 hr</span>
153:                             </div>
154:                         </div>
155: 
156:                         <p class="text-gray-600 text-sm leading-relaxed line-clamp-2">
157:                         {{ room.description }}
158:                         </p>
159: 
160:                         <div class="pt-4 border-t border-gray-100 flex gap-4">
161:                             <button
162:                                 @click="handleBookNow(room.id)"
163:                                 class="flex-1 bg-balai-dark text-white py-4 text-xs font-medium uppercase tracking-widest hover:bg-balai-gold transition-colors text-center"
164:                             >
165:                                 Book Now
166:                             </button>
167: 
168:                             <RouterLink
169:                                :to="{ path: '/rooms/details', query: { id: room.id } }"
170:                                class="px-6 border border-balai-dark text-balai-dark py-4 text-xs font-medium uppercase tracking-widest hover:bg-gray-50 hover:text-balai-gold hover:border-balai-gold transition-colors text-center block"
171:                             >
172:                                 Details
173:                             </RouterLink>
174:                         </div>
175:                     </div>
176:                 </div>
177: 
178:             </div>
179:         </section>
180: 
181: 
182:         <LoginRequiredModal
183:             :isOpen="showLoginModal"
184:             @close="showLoginModal = false"
185:         />
186:     </main>
187: </template>
</file>

<file path="public-website/src/views/AvailabilityView.vue">
  1: <script setup>
  2: import { ref, computed, onMounted, watch } from 'vue'
  3: import { useRoute, useRouter } from 'vue-router'
  4: import { isAuthenticated, getUser } from '@/utils/auth'
  5: import { CheckCircleIcon, CheckIcon } from '@heroicons/vue/24/solid'
  6: 
  7: const route = useRoute()
  8: const router = useRouter()
  9: 
 10: 
 11: onMounted(() => {
 12:   if (!isAuthenticated()) {
 13:     router.push('/login')
 14:     return
 15:   }
 16: 
 17:   const roomId = route.query.id
 18:   if (!roomId) {
 19:     router.push('/rooms')
 20:     return
 21:   }
 22: 
 23:   fetchRoomDetails()
 24: })
 25: 
 26: 
 27: const room = ref(null)
 28: const loading = ref(true)
 29: const error = ref(null)
 30: const checkingAvailability = ref(false)
 31: const availabilityResult = ref(null)
 32: const availableRoomsCount = ref(0)
 33: const availableRoomsList = ref([])
 34: const selectedRoomId = ref(null)
 35: const showRoomPicker = ref(false)
 36: const currentPage = ref(0)
 37: const roomsPerPage = 12
 38: 
 39: const fetchRoomDetails = async () => {
 40:   try {
 41:     const roomId = route.query.id
 42:     const response = await fetch(`http://localhost:3000/api/rooms/${roomId}`)
 43:     const data = await response.json()
 44: 
 45:     if (data.success) {
 46: 
 47:       if (!data.room || typeof data.room !== 'object') {
 48:         console.warn('⚠️ API Response Validation Failed: Expected room object, got:', typeof data.room)
 49:         error.value = 'Invalid room data received from server'
 50:         setTimeout(() => router.push('/rooms'), 2000)
 51:         return
 52:       }
 53: 
 54: 
 55:       room.value = {
 56:         id: data.room.id ?? 'unknown',
 57:         name: data.room.name ?? 'Unnamed Room',
 58:         capacity: data.room.capacity ?? 'N/A',
 59:         size: data.room.size ?? 'N/A',
 60:         description: data.room.description ?? 'No description available',
 61:         rates: {
 62:           '3h': data.room.rates?.['3h'] ?? 0,
 63:           '6h': data.room.rates?.['6h'] ?? 0,
 64:           '12h': data.room.rates?.['12h'] ?? 0,
 65:           '24h': data.room.rates?.['24h'] ?? 0
 66:         },
 67:         image: data.room.image ?? 'bg-gray-300',
 68:         images: data.room.images ?? []
 69:       }
 70:     } else {
 71:       error.value = 'Room not found'
 72:       setTimeout(() => router.push('/rooms'), 2000)
 73:     }
 74:   } catch (err) {
 75:     console.error('Error fetching room:', err)
 76:     error.value = 'Failed to load room details'
 77:     setTimeout(() => router.push('/rooms'), 2000)
 78:   } finally {
 79:     loading.value = false
 80:   }
 81: }
 82: 
 83: 
 84: const form = ref({
 85:   date: new Date().toISOString().substr(0, 10),
 86:   time: '14:00',
 87:   duration: '3h',
 88:   adults: 2,
 89:   hasChild: false
 90: })
 91: 
 92: 
 93: const roundToNearest5Minutes = (timeString) => {
 94:   const [hours, minutes] = timeString.split(':').map(Number)
 95:   const roundedMinutes = Math.round(minutes / 5) * 5
 96: 
 97: 
 98:   if (roundedMinutes === 60) {
 99:     return `${String(hours + 1).padStart(2, '0')}:00`
100:   }
101: 
102:   return `${String(hours).padStart(2, '0')}:${String(roundedMinutes).padStart(2, '0')}`
103: }
104: 
105: 
106: watch(() => form.value.time, (newTime) => {
107:   const rounded = roundToNearest5Minutes(newTime)
108:   if (newTime !== rounded) {
109:     form.value.time = rounded
110:   }
111: })
112: 
113: 
114: watch(
115:   () => [form.value.date, form.value.time, form.value.duration],
116:   () => {
117:     availabilityResult.value = null
118:   }
119: )
120: 
121: 
122: 
123: const currentPrice = computed(() => {
124:   if (!room.value) return 0
125:   return room.value.rates[form.value.duration]
126: })
127: 
128: 
129: 
130: const maxAdults = computed(() => {
131:   if (!room.value) return 2
132:   return room.value.capacity && room.value.capacity.includes('4') ? 4 : 2
133: })
134: 
135: 
136: const checkAvailability = async () => {
137:   if (!room.value) return
138: 
139: 
140:   form.value.time = roundToNearest5Minutes(form.value.time)
141: 
142:   checkingAvailability.value = true
143:   availabilityResult.value = null
144:   availableRoomsCount.value = 0
145:   availableRoomsList.value = []
146:   selectedRoomId.value = null
147:   showRoomPicker.value = false
148:   currentPage.value = 0
149: 
150:   try {
151:     const params = new URLSearchParams({
152:       checkInDate: form.value.date,
153:       checkInTime: form.value.time,
154:       duration: form.value.duration
155:     })
156: 
157:     const response = await fetch(`http://localhost:3000/api/rooms/${room.value.id}/check-availability?${params}`)
158:     const data = await response.json()
159: 
160:     if (data.success) {
161: 
162:       if (!data || typeof data !== 'object') {
163:         console.warn('⚠️ API Response Validation Failed: Expected data object, got:', typeof data)
164:         availabilityResult.value = {
165:           success: false,
166:           available: false,
167:           message: 'Invalid response format from server'
168:         }
169:         return
170:       }
171: 
172:       availabilityResult.value = data
173: 
174:       if (data.availableRooms && Array.isArray(data.availableRooms)) {
175:         availableRoomsCount.value = data.availableRooms.length
176:         availableRoomsList.value = data.availableRooms
177:           .filter(r => r && typeof r === 'object')
178:           .map(r => ({
179:             id: r.id ?? 'unknown',
180:             room_number: r.room_number ?? 'N/A',
181:             status: r.status ?? 'unknown'
182:           }))
183: 
184:         selectedRoomId.value = null
185:       } else {
186:         availableRoomsCount.value = 0
187:         availableRoomsList.value = []
188:       }
189:     } else {
190:       availabilityResult.value = {
191:         success: false,
192:         available: false,
193:         message: data.message || 'Failed to check availability'
194:       }
195:     }
196:   } catch (err) {
197:     console.error('Error checking availability:', err)
198:     availabilityResult.value = {
199:       success: false,
200:       available: false,
201:       message: 'Network error. Please try again.'
202:     }
203:   } finally {
204:     checkingAvailability.value = false
205:   }
206: }
207: 
208: 
209: const paginatedRooms = computed(() => {
210:   const start = currentPage.value * roomsPerPage
211:   const end = start + roomsPerPage
212:   return availableRoomsList.value.slice(start, end)
213: })
214: 
215: const totalPages = computed(() => {
216:   return Math.ceil(availableRoomsList.value.length / roomsPerPage)
217: })
218: 
219: const canGoNext = computed(() => {
220:   return currentPage.value < totalPages.value - 1
221: })
222: 
223: const canGoPrevious = computed(() => {
224:   return currentPage.value > 0
225: })
226: 
227: const nextPage = () => {
228:   if (canGoNext.value) {
229:     currentPage.value++
230:   }
231: }
232: 
233: const previousPage = () => {
234:   if (canGoPrevious.value) {
235:     currentPage.value--
236:   }
237: }
238: 
239: const toggleRoomPicker = () => {
240:   showRoomPicker.value = !showRoomPicker.value
241:   if (showRoomPicker.value) {
242:     currentPage.value = 0
243:   }
244: }
245: 
246: const selectRoom = (roomId) => {
247:   selectedRoomId.value = roomId
248: 
249: 
250: }
251: 
252: 
253: const proceedToBooking = () => {
254: 
255:   if (!availabilityResult.value) {
256:     checkAvailability()
257:     return
258:   }
259: 
260: 
261:   if (!availabilityResult.value.available) {
262:     return
263:   }
264: 
265: 
266:   const queryParams = {
267:     roomId: room.value.id,
268:     date: form.value.date,
269:     time: form.value.time,
270:     duration: form.value.duration,
271:     adults: form.value.adults,
272:     child: form.value.hasChild ? '1' : '0',
273:     price: currentPrice.value,
274:     verified: 'true'
275:   }
276: 
277: 
278:   if (selectedRoomId.value) {
279:     queryParams.selectedRoomId = selectedRoomId.value
280:   }
281: 
282: 
283:   router.push({
284:     path: '/booking',
285:     query: queryParams
286:   })
287: }
288: 
289: const formatPrice = (p) => p.toLocaleString()
290: </script>
291: 
292: <template>
293:   <main class="min-h-screen bg-balai-bg font-sans flex items-start justify-center relative px-4 pt-32 pb-12">
294: 
295:     <div v-if="loading" class="text-center mt-20">
296:       <p class="text-balai-dark">Loading room details...</p>
297:     </div>
298: 
299:     <div v-else-if="error" class="text-center bg-white p-8 shadow-lg max-w-md mt-20">
300:       <p class="text-red-600 mb-4">{{ error }}</p>
301:       <p class="text-sm text-gray-500">Redirecting to rooms...</p>
302:     </div>
303: 
304:     <div v-else-if="room" class="absolute inset-0 pointer-events-none">
305:         <div class="absolute inset-0"></div>
306:     </div>
307: 
308:     <div v-if="room" class="relative z-10 bg-white w-full max-w-5xl shadow-2xl rounded-sm overflow-hidden flex flex-col md:flex-row min-h-[600px]">
309: 
310:       <div class="w-full md:w-2/5 bg-gray-200 relative group min-h-[300px] md:min-h-full">
311: 
312:          <img
313:            v-if="room.images && room.images.length > 0 && room.images.find(img => img.isPrimary)"
314:            :src="room.images.find(img => img.isPrimary).path"
315:            :alt="room.images.find(img => img.isPrimary).altText || room.name"
316:            class="absolute inset-0 w-full h-full object-cover"
317:          />
318:          <div v-else :class="`absolute inset-0 ${room.image} bg-cover bg-center`"></div>
319:          <div class="absolute inset-0 bg-black/30"></div>
320: 
321:          <div class="absolute bottom-0 left-0 p-8 text-white w-full">
322:             <span class="text-xs font-bold uppercase tracking-widest opacity-80 mb-2 block">You are booking</span>
323:             <h2 class="font-serif text-3xl md:text-4xl mb-2">{{ room.name }}</h2>
324:             <p class="text-sm opacity-90 leading-relaxed">{{ room.tagline }}</p>
325: 
326:             <div class="mt-6 pt-6 border-t border-white/20">
327:                <div class="flex justify-between items-end">
328:                   <div>
329:                      <span class="block text-xs uppercase tracking-wider opacity-70">Total Rate</span>
330:                      <span class="font-serif text-3xl">₱{{ formatPrice(currentPrice) }}</span>
331:                   </div>
332:                   <div class="text-right">
333:                      <span class="block text-xs uppercase tracking-wider opacity-70">Duration</span>
334:                      <span class="font-bold text-xl">{{ form.duration.replace('h', ' Hours') }}</span>
335:                   </div>
336:                </div>
337:             </div>
338:          </div>
339:       </div>
340: 
341:       <div class="w-full md:w-3/5 p-8 md:p-12 flex flex-col justify-center bg-white">
342: 
343:          <div class="mb-8">
344:             <h1 class="font-serif text-2xl text-balai-dark">Configure Your Stay</h1>
345:             <p class="text-gray-500 text-sm mt-1">Select your arrival time and duration.</p>
346:          </div>
347: 
348:          <form @submit.prevent="proceedToBooking" class="space-y-8">
349: 
350:             <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
351:                <div class="flex flex-col">
352:                   <label class="text-xs font-bold uppercase tracking-wider text-gray-500 mb-2">Check-in Date</label>
353:                   <input v-model="form.date" type="date" required class="w-full border-b border-gray-300 py-3 text-balai-dark focus:outline-none focus:border-balai-gold transition-colors bg-transparent" />
354:                </div>
355:                <div class="flex flex-col">
356:                   <label class="text-xs font-bold uppercase tracking-wider text-gray-500 mb-2">Arrival Time</label>
357:                   <input v-model="form.time" type="time" step="300" required class="w-full border-b border-gray-300 py-3 text-balai-dark focus:outline-none focus:border-balai-gold transition-colors bg-transparent" />
358:                   <span class="text-xs text-gray-400 mt-1">Time must be in 5-minute increments</span>
359:                </div>
360:             </div>
361: 
362:             <div>
363:                <label class="text-xs font-bold uppercase tracking-wider text-gray-500 mb-3 block">Select Package</label>
364:                <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
365:                   <label v-for="(price, key) in room.rates" :key="key"
366:                      class="cursor-pointer border p-3 text-center transition-all hover:border-balai-gold"
367:                      :class="form.duration === key ? 'bg-balai-dark text-white border-balai-dark' : 'border-gray-200 text-gray-600'"
368:                   >
369:                      <input type="radio" v-model="form.duration" :value="key" class="hidden">
370:                      <span class="block font-bold uppercase text-xs tracking-wider mb-1">{{ key }}</span>
371:                      <span class="block text-sm">₱{{ formatPrice(price) }}</span>
372:                   </label>
373:                </div>
374:             </div>
375: 
376:             <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-start">
377:                <div class="flex flex-col">
378:                   <label class="text-xs font-bold uppercase tracking-wider text-gray-500 mb-2">Adults</label>
379:                   <select v-model="form.adults" class="w-full border-b border-gray-300 py-3 text-balai-dark focus:outline-none focus:border-balai-gold bg-transparent">
380:                      <option v-for="n in maxAdults" :key="n" :value="n">{{ n }} Adult{{ n > 1 ? 's' : '' }}</option>
381:                   </select>
382:                </div>
383: 
384:                <div class="flex flex-col pt-6">
385:                   <label class="flex items-center gap-3 cursor-pointer">
386:                      <div class="relative">
387:                         <input type="checkbox" v-model="form.hasChild" class="peer sr-only">
388:                         <div class="w-10 h-5 bg-gray-200 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-balai-gold"></div>
389:                      </div>
390:                      <span class="text-sm text-gray-600">Add 1 Child (Extra Charge)</span>
391:                   </label>
392:                </div>
393:             </div>
394: 
395:             <div class="border-t border-gray-100 pt-6">
396:                <div v-if="availabilityResult" class="mb-6">
397:                   <div v-if="availabilityResult.available" class="bg-green-50 border border-green-200 p-4">
398:                      <p class="text-green-800 font-bold mb-2 text-center flex items-center justify-center gap-2">
399:                        <CheckCircleIcon class="w-5 h-5" /> Rooms Available!
400:                      </p>
401:                      <p class="text-green-700 text-sm mb-3 text-center">
402:                         {{ availableRoomsCount }} {{ room.name }}{{ availableRoomsCount > 1 ? 's are' : ' is' }} available for your selected time.
403:                      </p>
404: 
405:                      <div v-if="!selectedRoomId" class="bg-white border border-green-300 rounded p-3 mb-3">
406:                         <p class="text-green-700 text-sm text-center">
407:                            <span class="font-bold">Quick Booking:</span> We'll assign you the best available room automatically.
408:                         </p>
409:                      </div>
410: 
411:                      <div v-else class="bg-white border border-green-500 rounded p-3 mb-3">
412:                         <p class="text-green-800 text-sm text-center font-bold flex items-center justify-center gap-2">
413:                            <CheckIcon class="w-4 h-4" /> You selected: Room {{ availableRoomsList.find(r => r.id === selectedRoomId)?.number }}
414:                         </p>
415:                      </div>
416: 
417:                      <button
418:                         v-if="availableRoomsCount > 1"
419:                         type="button"
420:                         @click="toggleRoomPicker"
421:                         class="w-full text-sm text-green-700 hover:text-green-900 underline mb-3 transition-colors"
422:                      >
423:                         {{ showRoomPicker ? '▲ Hide room selection' : '▼ I want to choose a specific room' }}
424:                      </button>
425: 
426:                      <div v-if="showRoomPicker && availableRoomsCount > 1" class="mt-3 bg-white border border-green-300 rounded p-4">
427:                         <p class="text-xs font-bold uppercase tracking-wider text-green-800 mb-3 text-center">
428:                            Pick Your Room
429:                         </p>
430: 
431:                         <div class="grid grid-cols-4 gap-2 mb-3">
432:                            <button
433:                               v-for="availRoom in paginatedRooms"
434:                               :key="availRoom.id"
435:                               type="button"
436:                               @click="selectRoom(availRoom.id)"
437:                               class="px-3 py-4 border-2 rounded text-center transition-all hover:border-green-500 hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-green-500"
438:                               :class="selectedRoomId === availRoom.id
439:                                  ? 'bg-green-600 text-white border-green-600 font-bold'
440:                                  : 'bg-white text-gray-700 border-gray-300'"
441:                            >
442:                               <div class="text-sm font-bold">{{ availRoom.number }}</div>
443:                               <div class="text-xs opacity-75 mt-1 flex items-center justify-center gap-1">
444:                                  <CheckIcon v-if="selectedRoomId === availRoom.id" class="w-3 h-3" />
445:                                  <span>{{ selectedRoomId === availRoom.id ? 'Selected' : 'Available' }}</span>
446:                               </div>
447:                            </button>
448:                         </div>
449: 
450:                         <div v-if="totalPages > 1" class="flex items-center justify-between pt-3 border-t border-gray-200">
451:                            <button
452:                               type="button"
453:                               @click="previousPage"
454:                               :disabled="!canGoPrevious"
455:                               class="px-4 py-2 text-xs font-medium text-green-700 border border-green-300 rounded hover:bg-green-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
456:                            >
457:                               ← Previous
458:                            </button>
459: 
460:                            <span class="text-xs text-gray-600">
461:                               Page {{ currentPage + 1 }} of {{ totalPages }}
462:                            </span>
463: 
464:                            <button
465:                               type="button"
466:                               @click="nextPage"
467:                               :disabled="!canGoNext"
468:                               class="px-4 py-2 text-xs font-medium text-green-700 border border-green-300 rounded hover:bg-green-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
469:                            >
470:                               Next →
471:                            </button>
472:                         </div>
473: 
474:                         <button
475:                            v-if="selectedRoomId"
476:                            type="button"
477:                            @click="selectedRoomId = null"
478:                            class="w-full mt-3 text-xs text-gray-600 hover:text-gray-800 underline"
479:                         >
480:                            Clear selection (use auto-assign)
481:                         </button>
482:                      </div>
483: 
484:                      <button
485:                         type="button"
486:                         @click="availabilityResult = null; availableRoomsCount = 0; availableRoomsList = []; selectedRoomId = null; showRoomPicker = false"
487:                         class="w-full text-xs text-green-600 hover:text-green-800 mt-3 underline"
488:                      >
489:                         Check different time
490:                      </button>
491:                   </div>
492: 
493:                   <div v-else class="bg-red-50 border border-red-200 p-4 text-center">
494:                      <p class="text-red-800 font-bold mb-2">✗ No Rooms Available</p>
495:                      <p class="text-red-700 text-sm">{{ availabilityResult.message }}</p>
496:                      <button
497:                         type="button"
498:                         @click="availabilityResult = null; availableRoomsCount = 0; availableRoomsList = []; selectedRoomId = null; showRoomPicker = false"
499:                         class="text-xs text-red-600 hover:text-red-800 mt-2 underline"
500:                      >
501:                         Try different time
502:                      </button>
503:                   </div>
504:                </div>
505:             </div>
506: 
507:             <div class="pt-6 flex items-center justify-between gap-6">
508:                <button type="button" @click="router.push('/rooms')" class="text-xs font-bold uppercase tracking-widest text-gray-400 hover:text-balai-dark">
509:                   Back
510:                </button>
511: 
512:                <button
513:                   v-if="!availabilityResult"
514:                   type="button"
515:                   @click="checkAvailability"
516:                   :disabled="checkingAvailability"
517:                   class="bg-balai-gold text-white px-12 py-4 text-sm font-medium uppercase tracking-widest hover:bg-balai-dark transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"
518:                >
519:                   {{ checkingAvailability ? 'Checking Availability...' : 'Check Availability' }}
520:                </button>
521: 
522:                <button
523:                   v-else-if="availabilityResult.available"
524:                   type="submit"
525:                   class="bg-balai-dark text-white px-12 py-4 text-sm font-medium uppercase tracking-widest hover:bg-balai-gold transition-colors shadow-lg"
526:                >
527:                   {{ selectedRoomId ? 'Book Selected Room' : 'Book Now (Auto-Assign)' }}
528:                </button>
529:             </div>
530: 
531:          </form>
532:       </div>
533: 
534:     </div>
535:   </main>
536: </template>
</file>

<file path="balai_almeda_db.sql">
  1: SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
  2: START TRANSACTION;
  3: SET time_zone = "+00:00";
  4: 
  5: 
  6: /*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
  7: /*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
  8: /*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
  9: /*!40101 SET NAMES utf8mb4 */;
 10: 
 11: 
 12: 
 13: 
 14: 
 15: 
 16: 
 17: 
 18: 
 19: 
 20: 
 21: CREATE TABLE `bookings` (
 22:   `booking_id` int(11) NOT NULL,
 23:   `guest_id` int(11) DEFAULT NULL,
 24:   `room_id` int(11) NOT NULL,
 25:   `reference_code` varchar(21) DEFAULT NULL,
 26:   `checkout_session_id` varchar(255) DEFAULT NULL,
 27:   `check_in_time` datetime DEFAULT NULL,
 28:   `check_out_time` datetime DEFAULT NULL,
 29:   `duration_hours` int(11) NOT NULL,
 30:   `source` enum('Web','Walk_in') DEFAULT 'Web',
 31:   `status` enum('Pending_Payment','Confirmed','Checked_In','Completed','Cancelled') DEFAULT 'Pending_Payment',
 32:   `total_amount` decimal(10,2) NOT NULL,
 33:   `created_at` timestamp NOT NULL DEFAULT current_timestamp()
 34: ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
 35: 
 36: 
 37: 
 38: 
 39: 
 40: INSERT INTO `bookings` (`booking_id`, `guest_id`, `room_id`, `reference_code`, `checkout_session_id`, `check_in_time`, `check_out_time`, `duration_hours`, `source`, `status`, `total_amount`, `created_at`) VALUES
 41: (38, 16, 22, 'BKG-ML6PD5O0-7AINJSJC', 'cs_8QKh2EfovrTBS7NBcsBHjNPc', '2026-02-04 06:00:00', '2026-02-04 09:00:00', 3, 'Web', 'Confirmed', 1195.00, '2026-02-03 14:37:20');
 42: 
 43: 
 44: 
 45: 
 46: 
 47: 
 48: 
 49: CREATE TABLE `guests` (
 50:   `guest_id` int(11) NOT NULL,
 51:   `user_id` int(11) DEFAULT NULL,
 52:   `full_name` varchar(100) NOT NULL,
 53:   `contact_number` varchar(20) DEFAULT NULL,
 54:   `email` varchar(100) DEFAULT NULL
 55: ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
 56: 
 57: 
 58: 
 59: 
 60: 
 61: 
 62: 
 63: CREATE TABLE `menu_items` (
 64:   `item_id` int(11) NOT NULL,
 65:   `name` varchar(100) NOT NULL,
 66:   `category` varchar(50) DEFAULT NULL,
 67:   `price` decimal(10,2) NOT NULL,
 68:   `provider` enum('In_House','Partner_JustDrink') DEFAULT 'In_House',
 69:   `current_stock` int(11) DEFAULT 0
 70: ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
 71: 
 72: 
 73: 
 74: 
 75: 
 76: INSERT INTO `menu_items` (`item_id`, `name`, `category`, `price`, `provider`, `current_stock`) VALUES
 77: (1, 'Tapsilog', 'All-Day Breakfast', 85.00, 'In_House', 50),
 78: (2, 'Longsilog', 'All-Day Breakfast', 85.00, 'In_House', 50),
 79: (3, 'Tosilog', 'All-Day Breakfast', 85.00, 'In_House', 50),
 80: (4, 'Hotsilog', 'All-Day Breakfast', 85.00, 'In_House', 50),
 81: (5, 'Hamsilog', 'All-Day Breakfast', 85.00, 'In_House', 50),
 82: (6, 'Ham Sandwich', 'All-Day Breakfast', 85.00, 'In_House', 50),
 83: (7, 'Egg Sandwich', 'All-Day Breakfast', 85.00, 'In_House', 50),
 84: (8, 'Ham & Egg Sandwich', 'All-Day Breakfast', 95.00, 'In_House', 50),
 85: (9, 'Family House Clubhouse', 'All-Day Breakfast', 120.00, 'In_House', 50),
 86: (10, 'Beef Bulgogi', 'Rice Meals', 175.00, 'In_House', 50),
 87: (11, 'Beef Tapa', 'Rice Meals', 175.00, 'In_House', 50),
 88: (12, 'Chicken Tocino', 'Rice Meals', 165.00, 'In_House', 50),
 89: (13, 'Hungarian', 'Rice Meals', 175.00, 'In_House', 50),
 90: (14, 'Chicken Poppers', 'Rice Meals', 165.00, 'In_House', 50),
 91: (15, 'Extra Rice', 'Rice Meals', 40.00, 'In_House', 50),
 92: (16, 'Extra Egg', 'Rice Meals', 30.00, 'In_House', 50),
 93: (17, 'Chicken Alfredo', 'Pasta', 175.00, 'In_House', 50),
 94: (18, 'Tuna Pesto', 'Pasta', 165.00, 'In_House', 50),
 95: (19, 'Meaty Red Sauce', 'Pasta', 215.00, 'In_House', 50),
 96: (20, 'Chicken Balls', 'Snack', 70.00, 'In_House', 50),
 97: (21, 'Squid Balls', 'Snack', 70.00, 'In_House', 50),
 98: (22, 'Kikiam', 'Snack', 100.00, 'In_House', 50),
 99: (23, 'Cheese Sticks', 'Snack', 105.00, 'In_House', 50),
100: (24, 'Hash Brown', 'Snack', 45.00, 'In_House', 50),
101: (25, 'Thick Cut Fries', 'Snack', 105.00, 'In_House', 50),
102: (26, 'Nachos', 'Snack', 135.00, 'In_House', 50),
103: (27, 'Cup noodles', 'Noodles, Chips, Sweets', 50.00, 'In_House', 50),
104: (28, 'Pringles', 'Noodles, Chips, Sweets', 55.00, 'In_House', 50),
105: (29, 'Chips', 'Noodles, Chips, Sweets', 55.00, 'In_House', 50),
106: (30, 'Piknik', 'Noodles, Chips, Sweets', 60.00, 'In_House', 50),
107: (31, 'Bottled Water', 'Drinks', 30.00, 'In_House', 50),
108: (32, 'Coffee', 'Drinks', 35.00, 'In_House', 50),
109: (33, 'Hot Chocolate', 'Drinks', 35.00, 'In_House', 50),
110: (34, 'Softdrinks (Coke)', 'Drinks', 50.00, 'In_House', 50),
111: (35, 'Softdrinks (Royal)', 'Drinks', 50.00, 'In_House', 50),
112: (36, 'Softdrinks (Sprite)', 'Drinks', 50.00, 'In_House', 50),
113: (37, 'Soju (Strawberry)', 'Drinks', 140.00, 'In_House', 50),
114: (38, 'Soju (Peach)', 'Drinks', 140.00, 'In_House', 50),
115: (39, 'San Mig Light', 'Drinks', 65.00, 'In_House', 50),
116: (40, 'Red Horse', 'Drinks', 75.00, 'In_House', 50),
117: (41, 'Plate set', 'Supplies', 25.00, 'In_House', 50),
118: (42, 'Toothpaste', 'Supplies', 25.00, 'In_House', 50),
119: (43, 'Toothbrush', 'Supplies', 35.00, 'In_House', 50),
120: (44, 'Shampoo', 'Supplies', 20.00, 'In_House', 50),
121: (45, 'Conditioner', 'Supplies', 20.00, 'In_House', 50),
122: (46, 'Soap', 'Supplies', 20.00, 'In_House', 50),
123: (47, 'Slippers', 'Supplies', 30.00, 'In_House', 50),
124: (48, '16oz Cold Brew', 'Cold Brew', 95.00, 'Partner_JustDrink', NULL),
125: (49, '16oz Milk Cold Brew', 'Cold Brew', 115.00, 'Partner_JustDrink', NULL),
126: (50, '16oz OJ Cold Brew', 'Cold Brew', 115.00, 'Partner_JustDrink', NULL),
127: (51, '16oz Vietnamese', 'Cold Brew', 115.00, 'Partner_JustDrink', NULL),
128: (52, '16oz Spanish', 'Cold Brew', 135.00, 'Partner_JustDrink', NULL),
129: (53, '16oz Mocha', 'Cold Brew', 135.00, 'Partner_JustDrink', NULL),
130: (54, '16oz Caramel', 'Cold Brew', 145.00, 'Partner_JustDrink', NULL),
131: (55, '16oz Hazelnut', 'Cold Brew', 145.00, 'Partner_JustDrink', NULL),
132: (56, '16oz Vanilla', 'Cold Brew', 145.00, 'Partner_JustDrink', NULL),
133: (57, '16oz White Mocha', 'Cold Brew', 145.00, 'Partner_JustDrink', NULL),
134: (58, '22oz Cold Brew', 'Cold Brew', 115.00, 'Partner_JustDrink', NULL),
135: (59, '22oz Milk Cold Brew', 'Cold Brew', 145.00, 'Partner_JustDrink', NULL),
136: (60, '22oz OJ Cold Brew', 'Cold Brew', 145.00, 'Partner_JustDrink', NULL),
137: (61, '22oz Vietnamese', 'Cold Brew', 145.00, 'Partner_JustDrink', NULL),
138: (62, '22oz Spanish', 'Cold Brew', 165.00, 'Partner_JustDrink', NULL),
139: (63, '22oz Mocha', 'Cold Brew', 165.00, 'Partner_JustDrink', NULL),
140: (64, '22oz Caramel', 'Cold Brew', 175.00, 'Partner_JustDrink', NULL),
141: (65, '22oz Hazelnut', 'Cold Brew', 175.00, 'Partner_JustDrink', NULL),
142: (66, '22oz Vanilla', 'Cold Brew', 175.00, 'Partner_JustDrink', NULL),
143: (67, '22oz White Mocha', 'Cold Brew', 175.00, 'Partner_JustDrink', NULL),
144: (68, '16oz Sweet Cream', 'Cold Brew Cream', 125.00, 'Partner_JustDrink', NULL),
145: (69, '16oz Salted Cream', 'Cold Brew Cream', 130.00, 'Partner_JustDrink', NULL),
146: (70, '22oz Sweet Cream', 'Cold Brew Cream', 155.00, 'Partner_JustDrink', NULL),
147: (71, '22oz Salted Cream', 'Cold Brew Cream', 160.00, 'Partner_JustDrink', NULL),
148: (72, '16oz Dirty Matcha', 'Matcha', 145.00, 'Partner_JustDrink', NULL),
149: (73, '16oz Matcha Latte', 'Matcha', 145.00, 'Partner_JustDrink', NULL),
150: (74, '22oz Dirty Matcha', 'Matcha', 175.00, 'Partner_JustDrink', NULL),
151: (75, '22oz Matcha Latte', 'Matcha', 175.00, 'Partner_JustDrink', NULL),
152: (76, '16oz Honey Citron', 'Refreshers', 120.00, 'Partner_JustDrink', NULL),
153: (77, '16oz Passionfruit', 'Refreshers', 120.00, 'Partner_JustDrink', NULL),
154: (78, '16oz Blueberry Tea', 'Refreshers', 115.00, 'Partner_JustDrink', NULL),
155: (79, '16oz Strawberry Tea', 'Refreshers', 115.00, 'Partner_JustDrink', NULL),
156: (80, '22oz Honey Citron', 'Refreshers', 145.00, 'Partner_JustDrink', NULL),
157: (81, '22oz Passionfruit', 'Refreshers', 145.00, 'Partner_JustDrink', NULL),
158: (82, '22oz Blueberry Tea', 'Refreshers', 135.00, 'Partner_JustDrink', NULL),
159: (83, '22oz Strawberry Tea', 'Refreshers', 135.00, 'Partner_JustDrink', NULL),
160: (84, '22oz Blueberry Cream', 'Frappe', 165.00, 'Partner_JustDrink', NULL),
161: (85, '22oz Strawberry Cream', 'Frappe', 165.00, 'Partner_JustDrink', NULL),
162: (86, '22oz Chocolate Chip', 'Frappe', 185.00, 'Partner_JustDrink', NULL),
163: (87, '22oz Java Chip', 'Frappe', 185.00, 'Partner_JustDrink', NULL),
164: (88, '22oz Caramel', 'Frappe', 195.00, 'Partner_JustDrink', NULL),
165: (89, '22oz Matcha', 'Frappe', 200.00, 'Partner_JustDrink', NULL),
166: (90, '16oz Brewed Coffee', 'Hot', 95.00, 'Partner_JustDrink', NULL),
167: (91, '16oz Latte', 'Hot', 115.00, 'Partner_JustDrink', NULL),
168: (92, '16oz Vietnamese', 'Hot', 115.00, 'Partner_JustDrink', NULL),
169: (93, '16oz Spanish', 'Hot', 135.00, 'Partner_JustDrink', NULL),
170: (94, '16oz Mocha', 'Hot', 135.00, 'Partner_JustDrink', NULL),
171: (95, '16oz Caramel', 'Hot', 145.00, 'Partner_JustDrink', NULL),
172: (96, '16oz Hazelnut', 'Hot', 145.00, 'Partner_JustDrink', NULL),
173: (97, '16oz Vanilla', 'Hot', 145.00, 'Partner_JustDrink', NULL),
174: (98, '16oz Ube', 'Non-Coffee', 125.00, 'Partner_JustDrink', NULL),
175: (99, '16oz Matcha', 'Non-Coffee', 145.00, 'Partner_JustDrink', NULL),
176: (100, '16oz Signature Chocolate', 'Non-Coffee', 135.00, 'Partner_JustDrink', NULL);
177: 
178: 
179: 
180: 
181: 
182: 
183: 
184: CREATE TABLE `order_details` (
185:   `detail_id` int(11) NOT NULL,
186:   `order_id` int(11) NOT NULL,
187:   `item_id` int(11) NOT NULL,
188:   `quantity` int(11) DEFAULT 1,
189:   `subtotal` decimal(10,2) NOT NULL
190: ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
191: 
192: 
193: 
194: 
195: 
196: 
197: 
198: CREATE TABLE `payments` (
199:   `payment_id` int(11) NOT NULL,
200:   `booking_id` int(11) NOT NULL,
201:   `method` enum('GCash','PayMongo','Cash','Card') NOT NULL,
202:   `amount` decimal(10,2) NOT NULL,
203:   `transaction_ref` varchar(50) DEFAULT NULL,
204:   `status` enum('Success','Failed','Refunded') DEFAULT 'Success',
205:   `timestamp` timestamp NOT NULL DEFAULT current_timestamp()
206: ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
207: 
208: 
209: 
210: 
211: 
212: 
213: 
214: CREATE TABLE `rooms` (
215:   `room_id` int(11) NOT NULL,
216:   `room_number` varchar(10) NOT NULL,
217:   `name` varchar(100) DEFAULT NULL,
218:   `slug` varchar(100) DEFAULT NULL,
219:   `tagline` varchar(255) DEFAULT NULL,
220:   `description` text DEFAULT NULL,
221:   `capacity` varchar(50) DEFAULT NULL,
222:   `size` varchar(20) DEFAULT NULL,
223:   `amenities` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`amenities`)),
224:   `image` varchar(255) DEFAULT NULL,
225:   `type` enum('Value','Standard','Deluxe','Superior','Suite') NOT NULL,
226:   `base_rate_3hr` decimal(10,2) NOT NULL,
227:   `base_rate_6hr` decimal(10,2) NOT NULL,
228:   `base_rate_12hr` decimal(10,2) NOT NULL,
229:   `base_rate_24hr` decimal(10,2) NOT NULL,
230:   `status` enum('Available','Occupied','Dirty','Maintenance') DEFAULT 'Available',
231:   `lock_expiration` datetime DEFAULT NULL,
232:   `locked_by_session_id` varchar(255) DEFAULT NULL
233: ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
234: 
235: 
236: 
237: 
238: 
239: INSERT INTO `rooms` (`room_id`, `room_number`, `name`, `slug`, `tagline`, `description`, `capacity`, `size`, `amenities`, `image`, `type`, `base_rate_3hr`, `base_rate_6hr`, `base_rate_12hr`, `base_rate_24hr`, `status`, `lock_expiration`, `locked_by_session_id`) VALUES
240: (1, '303V', 'Value Room 303', 'value-room-303', 'Compact and efficient.', 'Our most affordable option. Perfect for quick wash-ups.', '2 Adults', '18m²', '[\"High-Speed Wifi\", \"Air Conditioning\", \"Hot & Cold Shower\", \"Basic Toiletries\"]', 'bg-gray-200', 'Value', 450.00, 750.00, 1150.00, 1800.00, 'Available', NULL, NULL),
241: (2, '403V', 'Value Room 403', 'value-room-403', 'Compact and efficient.', 'Our most affordable option. Perfect for quick wash-ups.', '2 Adults', '18m²', '[\"High-Speed Wifi\", \"Air Conditioning\", \"Hot & Cold Shower\", \"Basic Toiletries\"]', 'bg-gray-200', 'Value', 450.00, 750.00, 1150.00, 1800.00, 'Available', NULL, NULL),
242: (3, '503V', 'Value Room 503', 'value-room-503', 'Compact and efficient.', 'Our most affordable option. Perfect for quick wash-ups.', '2 Adults', '18m²', '[\"High-Speed Wifi\", \"Air Conditioning\", \"Hot & Cold Shower\", \"Basic Toiletries\"]', 'bg-gray-200', 'Value', 450.00, 750.00, 1150.00, 1800.00, 'Available', NULL, NULL),
243: (4, '201S', 'Standard Room 201', 'standard-room-201', 'The modern essential.', 'A cozy sanctuary with high-thread-count linens.', '2 Adults', '25m²', '[\"High-Speed Wifi\", \"Smart TV\", \"Air Conditioning\", \"Work Desk\", \"Hot & Cold Shower\", \"Premium Toiletries\"]', 'bg-gray-300', 'Standard', 550.00, 850.00, 1250.00, 1900.00, 'Available', NULL, NULL),
244: (5, '202S', 'Standard Room 202', 'standard-room-202', 'The modern essential.', 'A cozy sanctuary with high-thread-count linens.', '2 Adults', '25m²', '[\"High-Speed Wifi\", \"Smart TV\", \"Air Conditioning\", \"Work Desk\", \"Hot & Cold Shower\", \"Premium Toiletries\"]', 'bg-gray-300', 'Standard', 550.00, 850.00, 1250.00, 1900.00, 'Available', NULL, NULL),
245: (6, '203S', 'Standard Room 203', 'standard-room-203', 'The modern essential.', 'A cozy sanctuary with high-thread-count linens.', '2 Adults', '25m²', '[\"High-Speed Wifi\", \"Smart TV\", \"Air Conditioning\", \"Work Desk\", \"Hot & Cold Shower\", \"Premium Toiletries\"]', 'bg-gray-300', 'Standard', 550.00, 850.00, 1250.00, 1900.00, 'Available', NULL, NULL),
246: (7, '204S', 'Standard Room 204', 'standard-room-204', 'The modern essential.', 'A cozy sanctuary with high-thread-count linens.', '2 Adults', '25m²', '[\"High-Speed Wifi\", \"Smart TV\", \"Air Conditioning\", \"Work Desk\", \"Hot & Cold Shower\", \"Premium Toiletries\"]', 'bg-gray-300', 'Standard', 550.00, 850.00, 1250.00, 1900.00, 'Available', NULL, NULL),
247: (8, '301S', 'Standard Room 301', 'standard-room-301', 'The modern essential.', 'A cozy sanctuary with high-thread-count linens.', '2 Adults', '25m²', '[\"High-Speed Wifi\", \"Smart TV\", \"Air Conditioning\", \"Work Desk\", \"Hot & Cold Shower\", \"Premium Toiletries\"]', 'bg-gray-300', 'Standard', 550.00, 850.00, 1250.00, 1900.00, 'Available', NULL, NULL),
248: (9, '302S', 'Standard Room 302', 'standard-room-302', 'The modern essential.', 'A cozy sanctuary with high-thread-count linens.', '2 Adults', '25m²', '[\"High-Speed Wifi\", \"Smart TV\", \"Air Conditioning\", \"Work Desk\", \"Hot & Cold Shower\", \"Premium Toiletries\"]', 'bg-gray-300', 'Standard', 550.00, 850.00, 1250.00, 1900.00, 'Available', NULL, NULL),
249: (10, '304S', 'Standard Room 304', 'standard-room-304', 'The modern essential.', 'A cozy sanctuary with high-thread-count linens.', '2 Adults', '25m²', '[\"High-Speed Wifi\", \"Smart TV\", \"Air Conditioning\", \"Work Desk\", \"Hot & Cold Shower\", \"Premium Toiletries\"]', 'bg-gray-300', 'Standard', 550.00, 850.00, 1250.00, 1900.00, 'Available', NULL, NULL),
250: (11, '305S', 'Standard Room 305', 'standard-room-305', 'The modern essential.', 'A cozy sanctuary with high-thread-count linens.', '2 Adults', '25m²', '[\"High-Speed Wifi\", \"Smart TV\", \"Air Conditioning\", \"Work Desk\", \"Hot & Cold Shower\", \"Premium Toiletries\"]', 'bg-gray-300', 'Standard', 550.00, 850.00, 1250.00, 1900.00, 'Available', NULL, NULL),
251: (12, '306S', 'Standard Room 306', 'standard-room-306', 'The modern essential.', 'A cozy sanctuary with high-thread-count linens.', '2 Adults', '25m²', '[\"High-Speed Wifi\", \"Smart TV\", \"Air Conditioning\", \"Work Desk\", \"Hot & Cold Shower\", \"Premium Toiletries\"]', 'bg-gray-300', 'Standard', 550.00, 850.00, 1250.00, 1900.00, 'Available', NULL, NULL),
252: (13, '401S', 'Standard Room 401', 'standard-room-401', 'The modern essential.', 'A cozy sanctuary with high-thread-count linens.', '2 Adults', '25m²', '[\"High-Speed Wifi\", \"Smart TV\", \"Air Conditioning\", \"Work Desk\", \"Hot & Cold Shower\", \"Premium Toiletries\"]', 'bg-gray-300', 'Standard', 550.00, 850.00, 1250.00, 1900.00, 'Available', NULL, NULL),
253: (14, '402S', 'Standard Room 402', 'standard-room-402', 'The modern essential.', 'A cozy sanctuary with high-thread-count linens.', '2 Adults', '25m²', '[\"High-Speed Wifi\", \"Smart TV\", \"Air Conditioning\", \"Work Desk\", \"Hot & Cold Shower\", \"Premium Toiletries\"]', 'bg-gray-300', 'Standard', 550.00, 850.00, 1250.00, 1900.00, 'Available', NULL, NULL),
254: (15, '404R', 'Standard Room 404', 'standard-room-404', 'The modern essential.', 'A cozy sanctuary with high-thread-count linens.', '2 Adults', '25m²', '[\"High-Speed Wifi\", \"Smart TV\", \"Air Conditioning\", \"Work Desk\", \"Hot & Cold Shower\", \"Premium Toiletries\"]', 'bg-gray-300', 'Standard', 550.00, 850.00, 1250.00, 1900.00, 'Available', NULL, NULL),
255: (16, '405S', 'Standard Room 405', 'standard-room-405', 'The modern essential.', 'A cozy sanctuary with high-thread-count linens.', '2 Adults', '25m²', '[\"High-Speed Wifi\", \"Smart TV\", \"Air Conditioning\", \"Work Desk\", \"Hot & Cold Shower\", \"Premium Toiletries\"]', 'bg-gray-300', 'Standard', 550.00, 850.00, 1250.00, 1900.00, 'Available', NULL, NULL),
256: (17, '501S', 'Standard Room 501', 'standard-room-501', 'The modern essential.', 'A cozy sanctuary with high-thread-count linens.', '2 Adults', '25m²', '[\"High-Speed Wifi\", \"Smart TV\", \"Air Conditioning\", \"Work Desk\", \"Hot & Cold Shower\", \"Premium Toiletries\"]', 'bg-gray-300', 'Standard', 550.00, 850.00, 1250.00, 1900.00, 'Available', NULL, NULL),
257: (18, '502S', 'Standard Room 502', 'standard-room-502', 'The modern essential.', 'A cozy sanctuary with high-thread-count linens.', '2 Adults', '25m²', '[\"High-Speed Wifi\", \"Smart TV\", \"Air Conditioning\", \"Work Desk\", \"Hot & Cold Shower\", \"Premium Toiletries\"]', 'bg-gray-300', 'Standard', 550.00, 850.00, 1250.00, 1900.00, 'Available', NULL, NULL),
258: (19, '504S', 'Standard Room 504', 'standard-room-504', 'The modern essential.', 'A cozy sanctuary with high-thread-count linens.', '2 Adults', '25m²', '[\"High-Speed Wifi\", \"Smart TV\", \"Air Conditioning\", \"Work Desk\", \"Hot & Cold Shower\", \"Premium Toiletries\"]', 'bg-gray-300', 'Standard', 550.00, 850.00, 1250.00, 1900.00, 'Available', NULL, NULL),
259: (20, '307D', 'Deluxe Room 307', 'deluxe-room-307', 'Room to breathe.', 'Upgrade your downtime. More floor space and a panoramic window.', '2 Adults', '35m²', '[\"High-Speed Wifi\", \"50\\\" Smart TV\", \"Air Conditioning\", \"Dedicated Workspace\", \"Mini Fridge\", \"Hot & Cold Shower\", \"Premium Toiletries\", \"Sofa Seating\"]', 'bg-gray-400', 'Deluxe', 650.00, 950.00, 1350.00, 2100.00, 'Available', NULL, NULL),
260: (21, '406D', 'Deluxe Room 406', 'deluxe-room-406', 'Room to breathe.', 'Upgrade your downtime. More floor space and a panoramic window.', '2 Adults', '35m²', '[\"High-Speed Wifi\", \"50\\\" Smart TV\", \"Air Conditioning\", \"Dedicated Workspace\", \"Mini Fridge\", \"Hot & Cold Shower\", \"Premium Toiletries\", \"Sofa Seating\"]', 'bg-gray-400', 'Deluxe', 650.00, 950.00, 1350.00, 2100.00, 'Available', NULL, NULL),
261: (22, 'SU01', 'Superior Room', 'superior-room-01', 'The premium choice.', 'Our most spacious accommodation. Designed for families or groups who need the ultimate comfort and privacy.', '3 Guests', '45m²', '[\"High-Speed Wifi\", \"55\\\" 4K TV\", \"Split-Type Aircon\", \"Living Area\", \"Dining Table\", \"Mini Fridge & Coffee Maker\", \"Hot & Cold Shower\", \"Luxury Toiletries\"]', 'bg-gray-500', 'Superior', 1195.00, 1595.00, 2495.00, 3495.00, 'Available', NULL, NULL);
262: 
263: 
264: 
265: 
266: 
267: 
268: 
269: CREATE TABLE `room_images` (
270:   `image_id` int(11) NOT NULL,
271:   `room_id` int(11) NOT NULL,
272:   `image_path` varchar(255) NOT NULL,
273:   `is_primary` tinyint(1) DEFAULT 0,
274:   `created_at` timestamp NOT NULL DEFAULT current_timestamp()
275: ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
276: 
277: 
278: 
279: 
280: 
281: INSERT INTO `room_images` (`image_id`, `room_id`, `image_path`, `is_primary`, `created_at`) VALUES
282: (1, 1, '/images/rooms/BA1.png', 1, '2026-02-03 17:03:58'),
283: (2, 2, '/images/rooms/BA1.png', 1, '2026-02-03 17:03:58'),
284: (3, 3, '/images/rooms/BA1.png', 1, '2026-02-03 17:03:58'),
285: (4, 4, '/images/rooms/BA2.png', 1, '2026-02-03 17:03:58'),
286: (5, 5, '/images/rooms/BA2.png', 1, '2026-02-03 17:03:58'),
287: (6, 6, '/images/rooms/BA2.png', 1, '2026-02-03 17:03:58'),
288: (7, 7, '/images/rooms/BA2.png', 1, '2026-02-03 17:03:58'),
289: (8, 8, '/images/rooms/BA2.png', 1, '2026-02-03 17:03:58'),
290: (9, 9, '/images/rooms/BA2.png', 1, '2026-02-03 17:03:58'),
291: (10, 10, '/images/rooms/BA2.png', 1, '2026-02-03 17:03:58'),
292: (11, 11, '/images/rooms/BA2.png', 1, '2026-02-03 17:03:58'),
293: (12, 12, '/images/rooms/BA2.png', 1, '2026-02-03 17:03:58'),
294: (13, 13, '/images/rooms/BA2.png', 1, '2026-02-03 17:03:58'),
295: (14, 14, '/images/rooms/BA2.png', 1, '2026-02-03 17:03:58'),
296: (15, 15, '/images/rooms/BA2.png', 1, '2026-02-03 17:03:58'),
297: (16, 16, '/images/rooms/BA2.png', 1, '2026-02-03 17:03:58'),
298: (17, 17, '/images/rooms/BA2.png', 1, '2026-02-03 17:03:58'),
299: (18, 18, '/images/rooms/BA2.png', 1, '2026-02-03 17:03:58'),
300: (19, 19, '/images/rooms/BA2.png', 1, '2026-02-03 17:03:58'),
301: (35, 20, '/images/rooms/BA3.png', 1, '2026-02-03 17:03:58'),
302: (36, 21, '/images/rooms/BA3.png', 1, '2026-02-03 17:03:58'),
303: (38, 22, '/images/rooms/BA4.png', 1, '2026-02-03 17:03:58');
304: 
305: 
306: 
307: 
308: 
309: 
310: 
311: CREATE TABLE `room_orders` (
312:   `order_id` int(11) NOT NULL,
313:   `booking_id` int(11) NOT NULL,
314:   `total_cost` decimal(10,2) NOT NULL,
315:   `status` enum('Pending','Delivered','Cancelled') DEFAULT 'Pending',
316:   `order_time` timestamp NOT NULL DEFAULT current_timestamp()
317: ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
318: 
319: 
320: 
321: 
322: 
323: 
324: 
325: CREATE TABLE `shift_reports` (
326:   `shift_id` int(11) NOT NULL,
327:   `staff_id` int(11) NOT NULL,
328:   `shift_start` datetime NOT NULL,
329:   `shift_end` datetime DEFAULT NULL,
330:   `initial_cash` decimal(10,2) DEFAULT 0.00,
331:   `system_computed_cash` decimal(10,2) DEFAULT NULL,
332:   `physical_cash_count` decimal(10,2) DEFAULT NULL,
333:   `variance` decimal(10,2) DEFAULT NULL
334: ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
335: 
336: 
337: 
338: 
339: 
340: 
341: 
342: CREATE TABLE `staff` (
343:   `staff_id` int(11) NOT NULL,
344:   `user_id` int(11) NOT NULL,
345:   `full_name` varchar(100) NOT NULL,
346:   `position` varchar(50) NOT NULL,
347:   `hourly_rate` decimal(10,2) DEFAULT 0.00
348: ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
349: 
350: 
351: 
352: 
353: 
354: 
355: 
356: CREATE TABLE `users` (
357:   `user_id` int(11) NOT NULL,
358:   `first_name` varchar(100) NOT NULL,
359:   `last_name` varchar(100) NOT NULL,
360:   `email` varchar(100) NOT NULL,
361:   `phone` varchar(20) DEFAULT NULL,
362:   `password` varchar(255) NOT NULL,
363:   `role` enum('Guest','Admin','FrontDesk','Housekeeping','Manager') DEFAULT 'Guest',
364:   `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
365:   `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
366: ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
367: 
368: 
369: 
370: 
371: 
372: INSERT INTO `users` (`user_id`, `first_name`, `last_name`, `email`, `phone`, `password`, `role`, `created_at`, `updated_at`) VALUES
373: (15, 'Drake', 'Sekito', 'drakesekito@gmail.com', '09204663525', '$2b$10$ljv9ChCRL9PYtxd2dgbqteqdQ.czeCcaFPGjablwibL9364ZLtumK', 'Guest', '2026-02-03 11:47:57', '2026-02-03 11:47:57'),
374: (16, 'Fritz Cholo', 'Fabila', 'fabila@gmail.com', '09204827643', '$2b$10$T1a4.qa//J.w8mdqAhV5hOmvNG8uIm2gexg9OuKKpVE79UN4h4sze', 'Guest', '2026-02-03 14:20:34', '2026-02-03 14:20:34');
375: 
376: 
377: 
378: 
379: 
380: 
381: 
382: 
383: ALTER TABLE `bookings`
384:   ADD PRIMARY KEY (`booking_id`),
385:   ADD UNIQUE KEY `reference_code` (`reference_code`),
386:   ADD KEY `room_id` (`room_id`),
387:   ADD KEY `bookings_ibfk_1` (`guest_id`);
388: 
389: 
390: 
391: 
392: ALTER TABLE `guests`
393:   ADD PRIMARY KEY (`guest_id`),
394:   ADD KEY `user_id` (`user_id`);
395: 
396: 
397: 
398: 
399: ALTER TABLE `menu_items`
400:   ADD PRIMARY KEY (`item_id`);
401: 
402: 
403: 
404: 
405: ALTER TABLE `order_details`
406:   ADD PRIMARY KEY (`detail_id`),
407:   ADD KEY `order_id` (`order_id`),
408:   ADD KEY `item_id` (`item_id`);
409: 
410: 
411: 
412: 
413: ALTER TABLE `payments`
414:   ADD PRIMARY KEY (`payment_id`),
415:   ADD KEY `booking_id` (`booking_id`);
416: 
417: 
418: 
419: 
420: ALTER TABLE `rooms`
421:   ADD PRIMARY KEY (`room_id`),
422:   ADD UNIQUE KEY `room_number` (`room_number`),
423:   ADD UNIQUE KEY `slug` (`slug`),
424:   ADD KEY `idx_room_slug` (`slug`);
425: 
426: 
427: 
428: 
429: ALTER TABLE `room_images`
430:   ADD PRIMARY KEY (`image_id`),
431:   ADD KEY `room_id` (`room_id`);
432: 
433: 
434: 
435: 
436: ALTER TABLE `room_orders`
437:   ADD PRIMARY KEY (`order_id`),
438:   ADD KEY `booking_id` (`booking_id`);
439: 
440: 
441: 
442: 
443: ALTER TABLE `shift_reports`
444:   ADD PRIMARY KEY (`shift_id`),
445:   ADD KEY `staff_id` (`staff_id`);
446: 
447: 
448: 
449: 
450: ALTER TABLE `staff`
451:   ADD PRIMARY KEY (`staff_id`),
452:   ADD KEY `user_id` (`user_id`);
453: 
454: 
455: 
456: 
457: ALTER TABLE `users`
458:   ADD PRIMARY KEY (`user_id`),
459:   ADD UNIQUE KEY `email` (`email`);
460: 
461: 
462: 
463: 
464: 
465: 
466: 
467: 
468: ALTER TABLE `bookings`
469:   MODIFY `booking_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=39;
470: 
471: 
472: 
473: 
474: ALTER TABLE `guests`
475:   MODIFY `guest_id` int(11) NOT NULL AUTO_INCREMENT;
476: 
477: 
478: 
479: 
480: ALTER TABLE `menu_items`
481:   MODIFY `item_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=101;
482: 
483: 
484: 
485: 
486: ALTER TABLE `order_details`
487:   MODIFY `detail_id` int(11) NOT NULL AUTO_INCREMENT;
488: 
489: 
490: 
491: 
492: ALTER TABLE `payments`
493:   MODIFY `payment_id` int(11) NOT NULL AUTO_INCREMENT;
494: 
495: 
496: 
497: 
498: ALTER TABLE `rooms`
499:   MODIFY `room_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=23;
500: 
501: 
502: 
503: 
504: ALTER TABLE `room_images`
505:   MODIFY `image_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=39;
506: 
507: 
508: 
509: 
510: ALTER TABLE `room_orders`
511:   MODIFY `order_id` int(11) NOT NULL AUTO_INCREMENT;
512: 
513: 
514: 
515: 
516: ALTER TABLE `shift_reports`
517:   MODIFY `shift_id` int(11) NOT NULL AUTO_INCREMENT;
518: 
519: 
520: 
521: 
522: ALTER TABLE `staff`
523:   MODIFY `staff_id` int(11) NOT NULL AUTO_INCREMENT;
524: 
525: 
526: 
527: 
528: ALTER TABLE `users`
529:   MODIFY `user_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=17;
530: 
531: 
532: 
533: 
534: 
535: 
536: 
537: 
538: ALTER TABLE `bookings`
539:   ADD CONSTRAINT `bookings_ibfk_1` FOREIGN KEY (`guest_id`) REFERENCES `users` (`user_id`) ON DELETE SET NULL,
540:   ADD CONSTRAINT `bookings_ibfk_2` FOREIGN KEY (`room_id`) REFERENCES `rooms` (`room_id`);
541: 
542: 
543: 
544: 
545: ALTER TABLE `guests`
546:   ADD CONSTRAINT `guests_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE SET NULL;
547: 
548: 
549: 
550: 
551: ALTER TABLE `order_details`
552:   ADD CONSTRAINT `order_details_ibfk_1` FOREIGN KEY (`order_id`) REFERENCES `room_orders` (`order_id`),
553:   ADD CONSTRAINT `order_details_ibfk_2` FOREIGN KEY (`item_id`) REFERENCES `menu_items` (`item_id`);
554: 
555: 
556: 
557: 
558: ALTER TABLE `payments`
559:   ADD CONSTRAINT `payments_ibfk_1` FOREIGN KEY (`booking_id`) REFERENCES `bookings` (`booking_id`);
560: 
561: 
562: 
563: 
564: ALTER TABLE `room_images`
565:   ADD CONSTRAINT `room_images_ibfk_1` FOREIGN KEY (`room_id`) REFERENCES `rooms` (`room_id`) ON DELETE CASCADE;
566: 
567: 
568: 
569: 
570: ALTER TABLE `room_orders`
571:   ADD CONSTRAINT `room_orders_ibfk_1` FOREIGN KEY (`booking_id`) REFERENCES `bookings` (`booking_id`);
572: 
573: 
574: 
575: 
576: ALTER TABLE `shift_reports`
577:   ADD CONSTRAINT `shift_reports_ibfk_1` FOREIGN KEY (`staff_id`) REFERENCES `staff` (`staff_id`);
578: 
579: 
580: 
581: 
582: ALTER TABLE `staff`
583:   ADD CONSTRAINT `staff_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE;
584: COMMIT;
585: 
586: /*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
587: /*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
588: /*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
</file>

<file path="server/server.js">
  1: const express = require('express');
  2: const cors = require('cors');
  3: require('dotenv').config();
  4: const validateRequiredEnvVars = require('./config/validateEnv');
  5: 
  6: 
  7: 
  8: validateRequiredEnvVars();
  9: 
 10: const sequelize = require('./config/database');
 11: const authRoutes = require('./routes/authRoutes');
 12: const roomRoutes = require('./routes/roomRoutes');
 13: const paymentRoutes = require('./routes/paymentRoutes');
 14: const paymentController = require('./controllers/paymentController');
 15: 
 16: 
 17: const sanitizeRequestBody = require('./middleware/sanitize');
 18: const { apiLimiter } = require('./middleware/rateLimiters');
 19: 
 20: 
 21: const AppError = require('./utils/AppError');
 22: const errorController = require('./controllers/errorController');
 23: 
 24: 
 25: if (process.env.NODE_ENV === 'production') {
 26:   console.log = function() {};
 27:   console.debug = function() {};
 28:   console.info = function() {};
 29: 
 30:   console.error('🔒 Production mode: Verbose logging suppressed (errors/warnings still active)');
 31: } else {
 32:   console.log('🔧 Development mode: All console output enabled');
 33: }
 34: 
 35: const app = express();
 36: const PORT = process.env.PORT || 3000;
 37: 
 38: 
 39: 
 40: const allowedOrigins = process.env.NODE_ENV === 'production'
 41:   ? [process.env.FRONTEND_URL, process.env.IMS_URL].filter(Boolean)
 42:   : ['http://localhost:5173', 'http://localhost:5174'];
 43: 
 44: app.use(cors({
 45:   origin: (origin, callback) => {
 46: 
 47:     if (!origin) return callback(null, true);
 48: 
 49:     if (allowedOrigins.includes(origin)) {
 50:       callback(null, true);
 51:     } else {
 52:       console.warn(`⚠️ CORS blocked request from unauthorized origin: ${origin}`);
 53:       callback(new Error('Not allowed by CORS'));
 54:     }
 55:   },
 56:   credentials: true
 57: }));
 58: 
 59: 
 60: 
 61: app.post('/api/payment/webhook', express.raw({ type: 'application/json' }), paymentController.handleWebhook);
 62: 
 63: 
 64: 
 65: app.use(express.json({ limit: '10kb' }));
 66: app.use(express.urlencoded({ extended: true, limit: '10kb' }));
 67: 
 68: 
 69: 
 70: app.use(sanitizeRequestBody);
 71: 
 72: 
 73: 
 74: app.use('/api/', apiLimiter);
 75: 
 76: 
 77: app.use('/api/auth', authRoutes);
 78: app.use('/api/rooms', roomRoutes);
 79: app.use('/api/payment', paymentRoutes);
 80: 
 81: 
 82: 
 83: app.use((req, res, next) => {
 84:   next(new AppError(`Cannot find ${req.originalUrl} on this server!`, 404));
 85: });
 86: 
 87: 
 88: 
 89: app.use(errorController);
 90: 
 91: 
 92: sequelize.authenticate()
 93:   .then(() => {
 94:     console.log('✅ Database connected to XAMPP MySQL!');
 95: 
 96:     return sequelize.sync({ alter: false });
 97:   })
 98:   .then(() => {
 99:     console.log('✅ Database models synced');
100:   })
101:   .catch(err => console.error('❌ Database connection error:', err));
102: 
103: app.listen(PORT, () => {
104:   console.log(`Server running on port ${PORT}`);
105: });
106: 
107: 
108: app.use((err, req, res, next) => {
109:   console.error('❌ Global error handler:', err);
110:   const statusCode = err.statusCode || 500;
111:   const message = err.message || 'Internal Server Error';
112:   res.status(statusCode).json({ error: message });
113: });
114: 
115: 
116: app.use((req, res) => {
117:   res.status(404).json({ error: 'Not Found' });
118: });
</file>

<file path="server/controllers/paymentController.js">
  1: const axios = require('axios');
  2: const crypto = require('crypto');
  3: const Booking = require('../models/Booking');
  4: const Room = require('../models/Room');
  5: const { Op } = require('sequelize');
  6: const sequelize = require('../config/database');
  7: const AppError = require('../utils/AppError');
  8: 
  9: 
 10: const getPayMongoSecretKey = () => {
 11:   const isLive = process.env.PAYMONGO_IS_LIVE === 'true';
 12:   return isLive
 13:     ? process.env.PAYMONGO_SECRET_KEY_LIVE
 14:     : process.env.PAYMONGO_TEST_SECRET_KEY;
 15: };
 16: 
 17: const PAYMONGO_SECRET_KEY = getPayMongoSecretKey();
 18: const PAYMONGO_BASE64_KEY = Buffer.from(`${PAYMONGO_SECRET_KEY}:`).toString('base64');
 19: const PAYMONGO_API_URL = 'https://api.paymongo.com/v1';
 20: 
 21: 
 22: 
 23: 
 24: 
 25: function generateReferenceCode() {
 26:   const timestamp = Date.now().toString(36).toUpperCase();
 27:   const random = Math.random().toString(36).substring(2, 10).toUpperCase();
 28:   return `BKG-${timestamp}-${random}`;
 29: }
 30: 
 31: 
 32: 
 33: 
 34: 
 35: 
 36: async function generateUniqueReferenceCode() {
 37:   let referenceCode;
 38:   let isUnique = false;
 39:   let attempts = 0;
 40:   const MAX_ATTEMPTS = 10;
 41: 
 42:   do {
 43:     referenceCode = generateReferenceCode();
 44: 
 45: 
 46:     const existingBooking = await Booking.findOne({
 47:       where: { reference_code: referenceCode },
 48:       attributes: ['reference_code']
 49:     });
 50: 
 51:     isUnique = !existingBooking;
 52:     attempts++;
 53: 
 54:     if (!isUnique) {
 55:       console.warn(`⚠️ Reference code collision detected: ${referenceCode} (attempt ${attempts})`);
 56:     }
 57: 
 58: 
 59:     if (attempts >= MAX_ATTEMPTS) {
 60:       console.error(`❌ Max collision retry attempts reached. Adding extra entropy.`);
 61:       const extraRandom = Math.random().toString(36).substring(2, 6).toUpperCase();
 62:       referenceCode = `${referenceCode}-${extraRandom}`;
 63:       break;
 64:     }
 65: 
 66:   } while (!isUnique);
 67: 
 68:   if (attempts > 1) {
 69:     console.log(`✅ Generated unique reference code after ${attempts} attempts: ${referenceCode}`);
 70:   }
 71: 
 72:   return referenceCode;
 73: }
 74: 
 75: 
 76: 
 77: 
 78: 
 79: async function checkRoomAvailability(roomId, checkInDateTime, checkOutDateTime) {
 80:   const CLEANING_GAP_MINUTES = 30;
 81: 
 82:   const conflictingBookings = await Booking.findAll({
 83:     where: {
 84:       room_id: roomId,
 85:       status: {
 86:         [Op.in]: ['Pending_Payment', 'Confirmed', 'Checked_In']
 87:       }
 88:     }
 89:   });
 90: 
 91: 
 92:   for (const booking of conflictingBookings) {
 93:     const existingCheckIn = new Date(booking.check_in_time);
 94:     const existingCheckOut = new Date(booking.check_out_time);
 95: 
 96: 
 97:     const existingCheckOutWithCleaning = new Date(existingCheckOut.getTime() + CLEANING_GAP_MINUTES * 60000);
 98: 
 99: 
100: 
101: 
102:     const hasOverlap = (
103:       checkInDateTime < existingCheckOutWithCleaning &&
104:       checkOutDateTime > existingCheckIn
105:     );
106: 
107:     if (hasOverlap) {
108:       return false;
109:     }
110:   }
111: 
112:   return true;
113: }
114: 
115: 
116: 
117: 
118: 
119: async function findAvailableRoomID(roomType, checkInDateTime, checkOutDateTime) {
120: 
121:   const roomsOfType = await Room.findAll({
122:     where: {
123:       type: roomType,
124:       status: ['Available', 'Occupied']
125:     }
126:   });
127: 
128:   if (roomsOfType.length === 0) {
129:     return null;
130:   }
131: 
132: 
133:   for (const room of roomsOfType) {
134:     const isAvailable = await checkRoomAvailability(room.room_id, checkInDateTime, checkOutDateTime);
135:     if (isAvailable) {
136:       return room.room_id;
137:     }
138:   }
139: 
140:   return null;
141: }
142: 
143: 
144: 
145: 
146: 
147: 
148: 
149: exports.createCheckoutSession = async (req, res, next) => {
150:   try {
151:     const {
152:       roomSlug,
153:       roomId,
154:       selectedRoomId,
155:       checkInDate,
156:       checkInTime,
157:       duration,
158:       totalAmount,
159:       guestInfo
160:     } = req.body;
161: 
162:     console.debug('=== CREATE CHECKOUT SESSION ===');
163:     console.debug(`Requested room type: ${roomSlug}`);
164: 
165: 
166: 
167:     let secureGuestId = req.userId;
168: 
169:     if (guestInfo && guestInfo.guestId && guestInfo.guestId !== 'walk_in') {
170: 
171:       const requestedGuestId = parseInt(guestInfo.guestId);
172: 
173:       if (requestedGuestId !== req.userId) {
174: 
175:         const userRole = req.userRole || 'Guest';
176: 
177:         if (userRole === 'Admin' || userRole === 'FrontDesk' || userRole === 'Manager') {
178: 
179:           secureGuestId = requestedGuestId;
180:           console.debug(`🔑 [ADMIN OVERRIDE] ${userRole} booking for guest ID: ${requestedGuestId}`);
181:         } else {
182: 
183:           console.log(`⚠️ [SECURITY] User ${req.userId} attempted to book as ${requestedGuestId}. Blocked.`);
184: 
185:         }
186:       }
187:     }
188: 
189:     console.debug(`✅ Secure Guest ID set to: ${secureGuestId}`);
190: 
191: 
192:     const userSelectedRoomId = roomId || selectedRoomId;
193: 
194:     if (userSelectedRoomId) {
195:       console.debug(`User manually selected room ID: ${userSelectedRoomId}`);
196:     } else {
197:       console.debug(`Auto-assign mode: Will find any available room of type ${roomSlug}`);
198:     }
199: 
200: 
201:     if (!roomSlug || !checkInDate || !checkInTime || !duration || !guestInfo) {
202:       return res.status(400).json({ success: false, message: 'Missing required fields' });
203:     }
204: 
205: 
206:     const validDurations = ['3', '6', '12', '24'];
207:     if (!validDurations.includes(duration.toString())) {
208:       return res.status(400).json({
209:         success: false,
210:         message: 'Invalid duration. Allowed values: 3h, 6h, 12h, 24h'
211:       });
212:     }
213: 
214: 
215:     const [hours, minutes] = checkInTime.split(':').map(Number);
216:     if (minutes % 5 !== 0) {
217:       return res.status(400).json({
218:         success: false,
219:         message: 'Check-in time must be in 5-minute increments (e.g., 14:00, 14:05, 14:10)'
220:       });
221:     }
222: 
223: 
224: 
225:     const checkInDateTime = new Date(`${checkInDate}T${checkInTime}`);
226:     const checkOutDateTime = new Date(checkInDateTime);
227:     checkOutDateTime.setHours(checkOutDateTime.getHours() + parseInt(duration));
228: 
229: 
230:     const now = new Date();
231:     const GRACE_PERIOD_MS = 5 * 60 * 1000;
232:     const cutoffTime = new Date(now.getTime() - GRACE_PERIOD_MS);
233: 
234:     if (checkInDateTime < cutoffTime) {
235:       return next(new AppError('Cannot book dates in the past', 400));
236:     }
237: 
238: 
239:     const oneYearFromNow = new Date(now);
240:     oneYearFromNow.setFullYear(oneYearFromNow.getFullYear() + 1);
241: 
242:     if (checkInDateTime > oneYearFromNow) {
243:       return next(new AppError('Bookings limited to 1 year in advance', 400));
244:     }
245: 
246: 
247:     const slugToType = {
248:       'value-room': 'Value',
249:       'standard-room': 'Standard',
250:       'deluxe-room': 'Deluxe',
251:       'superior-room': 'Superior',
252:       'suite-room': 'Suite'
253:     };
254: 
255:     let roomType = slugToType[roomSlug];
256: 
257: 
258:     if (!roomType) {
259:       roomType = roomSlug.charAt(0).toUpperCase() + roomSlug.slice(1).replace('-room', '');
260:     }
261: 
262:     // Find ALL physical rooms of this type
263:     const roomsOfType = await Room.findAll({
264:       where: {
265:         type: roomType,
266:         status: ['Available', 'Occupied']
267:       }
268:     });
269: 
270:     if (roomsOfType.length === 0) {
271:       return next(new AppError('Room type not found', 404));
272:     }
273: 
274: 
275:     let availableRoomId;
276:     let availableRoom;
277: 
278: 
279:     if (userSelectedRoomId) {
280:       console.debug(`[MANUAL SELECTION] Verifying room ID ${userSelectedRoomId}...`);
281: 
282: 
283:       const selectedRoom = await Room.findOne({
284:         where: { room_id: parseInt(userSelectedRoomId) }
285:       });
286: 
287:       if (!selectedRoom) {
288:         return res.status(400).json({
289:           success: false,
290:           message: 'Selected room does not exist.'
291:         });
292:       }
293: 
294:       if (selectedRoom.type !== roomType) {
295:         return res.status(400).json({
296:           success: false,
297:           message: 'Selected room does not match the requested room type.'
298:         });
299:       }
300: 
301: 
302:       const isAvailable = await checkRoomAvailability(selectedRoom.room_id, checkInDateTime, checkOutDateTime);
303: 
304:       if (!isAvailable) {
305:         return next(new AppError('The selected room is no longer available. Please select a different room or time slot.', 409));
306:       }
307: 
308:       availableRoomId = selectedRoom.room_id;
309:       availableRoom = selectedRoom;
310:       console.debug(`✅ [MANUAL SELECTION] Room ${selectedRoom.room_number} confirmed available`);
311:     } else {
312: 
313:       console.debug(`[AUTO-ASSIGN] Finding any available ${roomType} room...`);
314:       availableRoomId = await findAvailableRoomID(roomType, checkInDateTime, checkOutDateTime);
315: 
316:       if (!availableRoomId) {
317:         console.debug(`❌ No available rooms of type ${roomType}`);
318:         return next(new AppError(`All ${roomType} rooms are fully booked for the selected time. Please note: rooms require a 30-minute cleaning period between bookings.`, 409));
319:       }
320: 
321: 
322:       availableRoom = await Room.findOne({
323:         where: { room_id: availableRoomId }
324:       });
325: 
326:       console.debug(`✅ [AUTO-ASSIGN] Assigned room ${availableRoom.room_number} (${availableRoom.name})`);
327:     }
328: 
329: 
330: 
331:     const durationKey = `base_rate_${duration}hr`;
332:     const serverCalculatedPrice = parseFloat(availableRoom[durationKey]);
333: 
334:     if (!serverCalculatedPrice || isNaN(serverCalculatedPrice)) {
335:       console.error(`❌ Invalid rate for duration ${duration}hr: ${availableRoom[durationKey]}`);
336:       return res.status(500).json({
337:         success: false,
338:         message: 'Unable to calculate room rate. Please contact support.'
339:       });
340:     }
341: 
342: 
343:     if (totalAmount && parseFloat(totalAmount) !== serverCalculatedPrice) {
344:       console.log(`⚠️ [SECURITY] Price manipulation detected!`);
345:       console.log(`   Client sent: ₱${totalAmount}`);
346:       console.log(`   Real price: ₱${serverCalculatedPrice}`);
347:       console.log(`   Enforcing server-calculated price.`);
348:     }
349: 
350: 
351:     const referenceCode = await generateUniqueReferenceCode();
352:     const amountInCentavos = Math.round(serverCalculatedPrice * 100);
353: 
354:     const lineItems = [
355:       {
356:         name: `${availableRoom.name || availableRoom.type + ' Room'} - ${duration}h`,
357:         amount: amountInCentavos,
358:         currency: 'PHP',
359:         description: `Check-in: ${checkInDate} ${checkInTime}`,
360:         quantity: 1
361:       }
362:     ];
363: 
364: 
365: 
366:     const successUrl = `${process.env.FRONTEND_URL || 'http://localhost:5173'}/booking-success?reference=${referenceCode}`;
367: 
368:     const checkoutPayload = {
369:       data: {
370:         attributes: {
371:           send_email_receipt: true,
372:           show_description: true,
373:           show_line_items: true,
374:           line_items: lineItems,
375:           payment_method_types: ['gcash', 'paymaya', 'card', 'grab_pay'],
376:           description: `Booking Reference: ${referenceCode}`,
377:           success_url: successUrl,
378:           cancel_url: `${process.env.FRONTEND_URL || 'http://localhost:5173'}/booking?cancelled=true`,
379:           billing: {
380:             name: `${guestInfo.firstName} ${guestInfo.lastName}`,
381:             email: guestInfo.email,
382:             phone: guestInfo.phone
383:           },
384:           metadata: {
385:             reference_code: referenceCode,
386:             room_id: availableRoom.room_id.toString(),
387:             room_number: availableRoom.room_number,
388:             guest_id: secureGuestId.toString()
389:           }
390:         }
391:       }
392:     };
393: 
394: 
395: 
396:     const result = await sequelize.transaction(async (t) => {
397: 
398: 
399:       const lockedRoom = await Room.findOne({
400:         where: { room_id: availableRoom.room_id },
401:         lock: true,
402:         transaction: t
403:       });
404: 
405:       if (!lockedRoom) {
406:         throw new Error('Room not found or locked by another transaction');
407:       }
408: 
409: 
410: 
411:       const isStillAvailable = await checkRoomAvailability(
412:         lockedRoom.room_id,
413:         checkInDateTime,
414:         checkOutDateTime
415:       );
416: 
417:       if (!isStillAvailable) {
418:         throw new Error('Room is no longer available (booked by another user during your session)');
419:       }
420: 
421:       console.log(`🔒 Room ${lockedRoom.room_number} locked for booking`);
422: 
423: 
424: 
425:       const booking = await Booking.create({
426:         guest_id: secureGuestId,
427:         room_id: lockedRoom.room_id,
428:         reference_code: referenceCode,
429:         checkout_session_id: null,
430:         check_in_time: checkInDateTime,
431:         check_out_time: checkOutDateTime,
432:         duration_hours: parseInt(duration),
433:         source: 'Web',
434:         status: 'Pending_Payment',
435:         total_amount: serverCalculatedPrice
436:       }, { transaction: t });
437: 
438:       console.log(`📝 Pending booking created (in transaction): ${referenceCode}`);
439:       console.log(`👤 Guest ID: ${secureGuestId} (verified from JWT)`);
440:       console.log(`🏠 Assigned to: ${lockedRoom.room_number} (Room ID: ${lockedRoom.room_id})`);
441:       console.log(`💰 Amount: ₱${serverCalculatedPrice} (${duration}h rate - server-verified)`);
442: 
443: 
444: 
445:       let checkoutSession;
446:       try {
447:         const response = await axios.post(
448:           `${PAYMONGO_API_URL}/checkout_sessions`,
449:           checkoutPayload,
450:           {
451:             headers: {
452:               'Content-Type': 'application/json',
453:               'Authorization': `Basic ${PAYMONGO_BASE64_KEY}`
454:             }
455:           }
456:         );
457: 
458:         checkoutSession = response.data.data;
459:         console.log(`✅ PayMongo session created: ${checkoutSession.id}`);
460:       } catch (paymongoError) {
461:         console.error('❌ PayMongo API failed:', paymongoError.response?.data || paymongoError.message);
462: 
463:         throw new Error('Failed to create PayMongo checkout session');
464:       }
465: 
466: 
467:       await booking.update({
468:         checkout_session_id: checkoutSession.id
469:       }, { transaction: t });
470: 
471:       console.log(`💾 Session ID saved to DB: ${checkoutSession.id}`);
472: 
473: 
474:       return checkoutSession;
475:     });
476: 
477:     res.status(200).json({
478:       success: true,
479:       checkoutUrl: result.attributes.checkout_url,
480:       referenceCode: referenceCode
481:     });
482: 
483:   } catch (error) {
484:     console.error('Create checkout error:', error.response?.data || error.message);
485: 
486:     next(new AppError(error.message || 'Failed to create checkout session', 500));
487:   }
488: };
489: 
490: 
491: 
492: 
493: 
494: 
495: 
496: 
497: exports.handleWebhook = async (req, res) => {
498:   try {
499: 
500:     const signature = req.headers['paymongo-signature'];
501: 
502:     if (!signature) {
503:       console.error('⚠️ SECURITY: Webhook rejected - Missing Paymongo-Signature header');
504:       return res.status(401).json({
505:         success: false,
506:         error: 'Missing signature'
507:       });
508:     }
509: 
510: 
511:     const webhookSecret = process.env.PAYMONGO_WEBHOOK_SECRET;
512: 
513:     if (!webhookSecret) {
514:       console.error('❌ CRITICAL: PAYMONGO_WEBHOOK_SECRET not set in environment');
515:       return res.status(500).json({
516:         success: false,
517:         error: 'Server configuration error'
518:       });
519:     }
520: 
521: 
522: 
523:     const expectedSignature = crypto
524:       .createHmac('sha256', webhookSecret)
525:       .update(req.body)
526:       .digest('hex');
527: 
528: 
529:     let isValid = false;
530:     try {
531:       isValid = crypto.timingSafeEqual(
532:         Buffer.from(signature),
533:         Buffer.from(expectedSignature)
534:       );
535:     } catch (err) {
536: 
537:       console.error('⚠️ SECURITY: Webhook signature length mismatch');
538:       isValid = false;
539:     }
540: 
541:     if (!isValid) {
542:       console.error('⚠️ SECURITY: Webhook rejected - Invalid signature');
543:       console.error(`   Expected: ${expectedSignature.substring(0, 20)}...`);
544:       console.error(`   Received: ${signature.substring(0, 20)}...`);
545:       return res.status(401).json({
546:         success: false,
547:         error: 'Invalid signature'
548:       });
549:     }
550: 
551: 
552:     const payload = JSON.parse(req.body.toString());
553:     console.log('✅ Webhook signature verified successfully');
554:     console.log('📨 Webhook event:', payload.data?.attributes?.type || 'unknown');
555: 
556: 
557:     const eventType = payload.data?.attributes?.type;
558:     const eventData = payload.data?.attributes?.data;
559: 
560:     if (eventType === 'checkout_session.payment.paid') {
561: 
562:       const checkoutSessionId = eventData?.attributes?.checkout_session_id;
563:       const referenceCode = eventData?.attributes?.metadata?.reference_code;
564: 
565:       console.log(`💰 Payment confirmed for checkout session: ${checkoutSessionId}`);
566:       console.log(`📋 Reference code: ${referenceCode}`);
567: 
568:       if (referenceCode) {
569: 
570:         const booking = await Booking.findOne({
571:           where: { reference_code: referenceCode }
572:         });
573: 
574:         if (booking) {
575:           await booking.update({ status: 'Confirmed' });
576:           console.log(`✅ Booking ${referenceCode} confirmed via webhook`);
577:         } else {
578:           console.warn(`⚠️ Booking not found for reference: ${referenceCode}`);
579:         }
580:       }
581:     } else if (eventType === 'checkout_session.expired') {
582: 
583:       const referenceCode = eventData?.attributes?.metadata?.reference_code;
584:       console.log(`⏰ Checkout session expired: ${referenceCode}`);
585: 
586:       if (referenceCode) {
587:         const booking = await Booking.findOne({
588:           where: { reference_code: referenceCode }
589:         });
590: 
591:         if (booking && booking.status === 'Pending_Payment') {
592:           await booking.update({ status: 'Cancelled' });
593:           console.log(`❌ Booking ${referenceCode} cancelled (session expired)`);
594:         }
595:       }
596:     } else {
597:       console.log(`ℹ️ Unhandled webhook event type: ${eventType}`);
598:     }
599: 
600: 
601:     res.status(200).json({ received: true });
602: 
603:   } catch (error) {
604:     console.error('❌ Webhook processing error:', error.message);
605: 
606:     res.status(200).json({ received: true, error: error.message });
607:   }
608: };
609: 
610: 
611: 
612: 
613: 
614: exports.verifyPayment = async (req, res) => {
615:   try {
616:     const { referenceCode } = req.params;
617: 
618:     console.debug(`🔍 Verifying payment for ${referenceCode}...`);
619: 
620: 
621:     const booking = await Booking.findOne({
622:       where: { reference_code: referenceCode },
623:       include: [{ model: Room, as: 'room' }]
624:     });
625: 
626:     if (!booking) {
627:       console.error(`❌ Booking not found: ${referenceCode}`);
628:       return res.status(404).json({ success: false, message: 'Booking not found' });
629:     }
630: 
631: 
632:     if (booking.status === 'Pending_Payment') {
633:       const sessionId = booking.checkout_session_id;
634: 
635:       if (sessionId) {
636:         console.debug(`🔍 Checking PayMongo for ${referenceCode} using DB Session ID: ${sessionId}...`);
637: 
638:         try {
639:           const response = await axios.get(
640:             `${PAYMONGO_API_URL}/checkout_sessions/${sessionId}`,
641:             { headers: { Authorization: `Basic ${PAYMONGO_BASE64_KEY}` } }
642:           );
643: 
644:           const attributes = response.data?.data?.attributes;
645:           const payments = attributes?.payments || [];
646:           const sessionStatus = attributes?.status;
647: 
648: 
649:           console.debug(`🧾 Session Status: ${sessionStatus}`);
650:           console.debug(`🧾 Payments Found: ${payments.length}`);
651:           if (payments.length > 0) {
652:              console.debug('Payment Details:', JSON.stringify(payments[0].attributes, null, 2));
653:           }
654: 
655: 
656: 
657:           const paidPayment = payments.find(p => p.attributes.status === 'paid');
658: 
659:           if (paidPayment) {
660:             console.debug(`💳 Payment Confirmed! ID: ${paidPayment.id}`);
661:             await booking.update({ status: 'Confirmed' });
662:             booking.status = 'Confirmed';
663:             console.debug(`✅ Database updated to Confirmed.`);
664:           } else {
665: 
666:             const failedPayment = payments.find(p => p.attributes.status === 'failed');
667:             const isSessionExpired = sessionStatus === 'expired';
668: 
669:             if (failedPayment || isSessionExpired) {
670:               if (failedPayment) {
671:                 console.debug(`❌ Payment Failed! ID: ${failedPayment.id}`);
672:               }
673:               if (isSessionExpired) {
674:                 console.debug(`⏰ Session Expired!`);
675:               }
676: 
677:               await booking.update({ status: 'Cancelled' });
678:               booking.status = 'Cancelled';
679:               console.debug(`🚫 Database updated to Cancelled.`);
680:             } else {
681:               console.debug(`⏳ No successful payment found yet. Status remains Pending.`);
682:             }
683:           }
684: 
685:         } catch (pmError) {
686:           console.error('❌ PayMongo Lookup Error:', pmError.message);
687:           if (pmError.response) {
688:             console.error('API Error Data:', JSON.stringify(pmError.response.data, null, 2));
689:           }
690:         }
691:       } else {
692:         console.debug(`⚠️ No checkout_session_id found in database for ${referenceCode}.`);
693:       }
694:     } else {
695:       console.debug(`✓ Booking ${referenceCode} is already ${booking.status}`);
696:     }
697: 
698: 
699:     const statusMap = {
700:       'Pending_Payment': 'pending',
701:       'Confirmed': 'confirmed',
702:       'Checked_In': 'confirmed',
703:       'Completed': 'confirmed',
704:       'Cancelled': 'cancelled'
705:     };
706: 
707:     res.status(200).json({
708:       success: true,
709:       status: statusMap[booking.status],
710:       booking: {
711:         referenceCode: booking.reference_code,
712:         roomName: booking.room?.name,
713:         checkInTime: booking.check_in_time,
714:         checkOutTime: booking.check_out_time,
715:         durationHours: booking.duration_hours,
716:         totalAmount: booking.total_amount,
717:         status: booking.status
718:       }
719:     });
720: 
721:   } catch (error) {
722:     console.error('Verify Error:', error);
723:     res.status(500).json({ success: false, message: 'Verification failed' });
724:   }
725: };
726: 
727: 
728: 
729: 
730: exports.getBookingByReference = async (req, res) => {
731:   try {
732:     const { referenceCode } = req.params;
733:     const booking = await Booking.findOne({
734:       where: { reference_code: referenceCode },
735:       include: [{ model: Room, as: 'room' }]
736:     });
737: 
738:     if (!booking) return res.status(404).json({ success: false, message: 'Booking not found' });
739: 
740:     res.status(200).json({
741:       success: true,
742:       booking: {
743:         referenceCode: booking.reference_code,
744:         roomId: booking.room_id,
745:         roomName: booking.room?.name,
746:         checkInTime: booking.check_in_time,
747:         checkOutTime: booking.check_out_time,
748:         totalAmount: booking.total_amount,
749:         status: booking.status
750:       }
751:     });
752:   } catch (error) {
753:     console.error('Get booking error:', error);
754:     res.status(500).json({ success: false, message: 'Failed to retrieve booking' });
755:   }
756: };
757: 
758: 
759: 
760: 
761: 
762: const getUserBookings = async (req, res) => {
763:   try {
764: 
765:     const userId = req.userId;
766: 
767:     const bookings = await Booking.findAll({
768: 
769:       where: { guest_id: userId },
770:       include: [{
771:         model: Room,
772:         as: 'room',
773: 
774:         attributes: ['room_id', 'name', 'type', 'slug', 'image', 'base_rate_3hr']
775:       }],
776:       order: [['check_in_time', 'DESC']],
777:       attributes: [
778:         'booking_id',
779:         'reference_code',
780:         'check_in_time',
781:         'check_out_time',
782:         'total_amount',
783:         'status',
784:         'source',
785:         'created_at'
786:       ]
787:     });
788: 
789:     const formattedBookings = bookings.map(booking => ({
790:       id: booking.booking_id,
791:       referenceCode: booking.reference_code,
792:       roomId: booking.room?.room_id,
793:       roomName: booking.room?.name,
794:       roomType: booking.room?.type,
795:       roomImage: booking.room?.image,
796:       checkInTime: booking.check_in_time,
797:       checkOutTime: booking.check_out_time,
798:       totalAmount: parseFloat(booking.total_amount),
799:       status: booking.status,
800:       paymentStatus: (booking.status === 'Confirmed' || booking.status === 'Checked_In') ? 'paid' : 'pending',
801:       createdAt: booking.created_at
802:     }));
803: 
804:     res.status(200).json({
805:       success: true,
806:       bookings: formattedBookings
807:     });
808: 
809:   } catch (error) {
810:     console.error('Get user bookings error:', error);
811:     res.status(500).json({
812:       success: false,
813:       message: 'Failed to retrieve bookings'
814:     });
815:   }
816: };
817: 
818: exports.getUserBookings = getUserBookings;
819: 
820: 
821: 
822: 
823: 
824: 
825: const cleanUpStaleBookingsInternal = async () => {
826:   const STALE_THRESHOLD_MINUTES = 5;
827: 
828: 
829:   const cutoffTime = new Date();
830:   cutoffTime.setMinutes(cutoffTime.getMinutes() - STALE_THRESHOLD_MINUTES);
831: 
832: 
833:   const staleBookings = await Booking.findAll({
834:     where: {
835:       status: 'Pending_Payment',
836:       created_at: {
837:         [Op.lt]: cutoffTime
838:       }
839:     },
840:     include: [{ model: Room, as: 'room', attributes: ['name', 'type'] }]
841:   });
842: 
843:   if (staleBookings.length === 0) {
844:     return 0;
845:   }
846: 
847: 
848:   await Booking.update(
849:     { status: 'Cancelled' },
850:     {
851:       where: {
852:         status: 'Pending_Payment',
853:         created_at: {
854:           [Op.lt]: cutoffTime
855:         }
856:       }
857:     }
858:   );
859: 
860:   console.log(`🧹 Auto-cleanup: Cancelled ${staleBookings.length} abandoned booking(s):`);
861:   staleBookings.forEach(booking => {
862:     console.log(`   - ${booking.reference_code} (${booking.room?.name || booking.room?.type})`);
863:   });
864: 
865:   return staleBookings.length;
866: };
867: 
868: 
869: 
870: 
871: 
872: exports.cancelStaleBookings = async (req, res) => {
873:   try {
874:     const cutoffTime = new Date();
875:     cutoffTime.setMinutes(cutoffTime.getMinutes() - 5);
876: 
877:     console.log(`🧹 Starting stale booking cleanup...`);
878:     console.log(`⏰ Cutoff time: ${cutoffTime.toISOString()}`);
879: 
880:     const cancelledCount = await cleanUpStaleBookingsInternal();
881: 
882:     if (cancelledCount === 0) {
883:       console.log(`✨ No stale bookings found.`);
884:       return res.status(200).json({
885:         success: true,
886:         message: 'No stale bookings to clean up',
887:         cancelled: 0
888:       });
889:     }
890: 
891: 
892:     const cancelledBookings = await Booking.findAll({
893:       where: {
894:         status: 'Cancelled',
895:         updated_at: {
896:           [Op.gte]: new Date(Date.now() - 10000)
897:         }
898:       },
899:       attributes: ['reference_code'],
900:       limit: cancelledCount
901:     });
902: 
903:     const referencesCancelled = cancelledBookings.map(b => b.reference_code);
904: 
905:     res.status(200).json({
906:       success: true,
907:       message: `Successfully cancelled ${cancelledCount} abandoned booking(s)`,
908:       cancelled: cancelledCount,
909:       bookings: referencesCancelled
910:     });
911: 
912:   } catch (error) {
913:     console.error('❌ Stale booking cleanup error:', error);
914:     res.status(500).json({
915:       success: false,
916:       message: 'Failed to clean up stale bookings'
917:     });
918:   }
919: };
920: 
921: 
922: exports.cleanUpStaleBookingsInternal = cleanUpStaleBookingsInternal;
</file>

</files>
